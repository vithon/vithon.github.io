<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>  Cập nhật tình hình Python 3000
 | Python Cho Người Việt</title>

    <meta name="author" content="Nhóm PCNV"/>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"/>
    <link rel="stylesheet" href="../../theme/css/jquery.mglass.css"/>
    <link rel="stylesheet" href="../../theme/css/pygment-solarized-dark.css"/>
    <link rel="stylesheet" href="../../theme/css/style.css"/>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Istok+Web' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'/>


    <link rel="icon" href="../../favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon">

    <!-- Feeds -->
      <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Python Cho Người Việt - All posts - Atom Feed"/>
      <link href="/feeds/bai-viet.atom.xml" type="application/atom+xml" rel="alternate" title="Python Cho Người Việt - Category: Bài viết - Atom Feed"/>


  </head>

  <body>

    <div class="container">

      <div class="page-header">
          <a href="../.." class="container pull-left">
            <div class="">
              <div class="side"><img src="../../logo.png" class="img-responsive"/></div>
            </div>
          </a>
        <h1><a href="../..">Python Cho Người Việt</a> <small></small></h1>
      </div>

      <nav class="navbar navbar-default">

        <!-- Hamburger menu for mobile -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#plumage-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../.." title="">Python Cho Người Việt</a>
        </div>

        <!-- Menus and search forms -->
        <div class="collapse navbar-collapse" id="plumage-navbar-collapse-1">

          <ul class="nav navbar-nav">
<li >
                <a href="../../static/tutorial/2.5/tut.html">Bài chỉ dẫn 2.5</a>
              </li>
<li >
                <a href="../../category/tin-tuc.html">Tin tức</a>
              </li>
<li >
                <a href="../../category/bai-viet.html">Bài viết</a>
              </li>
<li >
                <a href="http://forum.vithon.org">Diễn đàn</a>
              </li>
<li >
                  <a href="../../page/about.html">Giới thiệu</a>
                </li>
          </ul>


            <form class="navbar-form navbar-right" role="search" action="../../search.html" onsubmit="return validateForm(this.elements['q'].value);">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" name="q" id="tipue_search_input" class="form-control search-query" placeholder="Search" required />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fa
                        fa-search fa-fw"></i></button>
                  </span>
                </div>
              </div>
            </form>

        </div>

      </nav>

    </div>


    <div class="container main">


      <div class="row">
        <div class=" col-md-9  ">
  <h1>
    <a href="../../2007/06/cap-nhat-tinh-hinh-python-3000.html" rel="bookmark" title="Permalink to Cập nhật tình hình Python 3000">Cập nhật tình hình Python 3000</a>
  </h1>
        </div>
      </div>

      <div class="row">


        <div class=" col-md-9 " id="content" role="main">
  

  <div>
    <p>Ngày 19 tháng 06 năm 2007, Guido van Rossum, tác giả ngôn ngữ Python, gửi lên mạng một bài cập nhật về tình hình phát triển Python 3000. Bài lược dịch (từ trang <a class="reference external" href="http://www.artima.com/weblogs/viewpost.jsp?thread=208549">http://www.artima.com/weblogs/viewpost.jsp?thread=208549</a>) này tóm tắt về khoảng trượt kế hoạch 2 tháng và nhiều tính năng mới.</p>
<div class="section" id="nhin-chung-ve-ke-hoach">
<h2>Nhìn chung về kế hoạch</h2>
<div class="section" id="lich-su">
<h3>Lịch sử</h3>
<p>Guido nghĩ đến ý tưởng về Python 3000 (tên được đặt ra nhằm để chế giễu Windows 2000) vào khoảng năm 2000, trong một hội thảo Python. Theo đó, Python 3000 sẽ là bản đầu tiên bỏ qua tính tương thích ngược để tạo ra một ngôn ngữ tốt nhất cho sau này.</p>
</div>
<div class="section" id="dien-bien-gan-day">
<h3>Diễn biến gần đây</h3>
<p>Khoảng một năm rưỡi trước, Guido thật sự bắt đầu thiết kế Python 3000. Hàng loạt đề xuất cải tiến Python (Python Enhancement Proposal, PEP) ra đời được đặt số thứ tự từ 3000 trở lên (PEP 3000 trước đó được đổi thành PEP 3100). <a class="reference external" href="http://python.org/dev/peps/pep-3000/">PEP 3000</a> trở thành tài liệu chính về tư tưởng và kế hoạch của Python 3000.</p>
<p>Từ đó, việc phát triển đã chảy dưới chân cầu <a class="reference external" href="http://mail.python.org/pipermail/python-dev/">python-dev</a>, và sau đó được chuyển hẳn qua <a class="reference external" href="http://mail.python.org/pipermail/python-3000/">python-3000</a>.</p>
</div>
<div class="section" id="ke-hoach-du-tinh">
<h3>Kế hoạch dự tính</h3>
<p>Lịch trình được thông báo khoảng một năm trước và nhắm vào cuối tháng 06 năm 2007 sẽ có bản alpha đầu tiên và vào một năm sau có bản cuối cùng (Python 3.0 là dấu hiệu phiên bản khi nó được phát hành; &quot;Python 3000&quot; hay &quot;Py3k&quot; là tên mã của dự án).</p>
<p>Kế hoạch này đã bị trễ một chút. Hiện tại chúng ta dự tính khoảng cuối tháng 08 mới có bản alpha, và dĩ nhiên bản cuối cùng cũng bị trễ hai tháng. Lý do chính cho sự trễ này chủ yếu là do việc chuyển qua sử dụng Unicode toàn bộ.</p>
</div>
<div class="section" id="python-2-6">
<h3>Python 2.6</h3>
<p>Phiên bản “đồng hành” 2.6 sẽ ra lò vài tháng trước 3.0. Nếu bạn không thích sử dụng phiên bản mới nhất, thì 2.6 sẽ là phiên bản bạn sẽ dùng, và nó sẽ không khác gì mấy so với 2.5.</p>
</div>
</div>
<div class="section" id="tinh-tuong-thich-va-su-chuyen-doi">
<h2>Tính tương thích và sự chuyển đổi</h2>
<div class="section" id="tinh-tuong-thich">
<h3>Tính tương thích</h3>
<p>Python 3.0 sẽ phá vỡ tính tương thích ngược. Toàn bộ.</p>
<p>Ngược lại, Python 2.6 sẽ giữ vững tính tương thích ngược với Python 2.5 (và các phiên bản khác có thể), và nó cũng sẽ hỗ trợ tương thích tiến, theo những lối sau:</p>
<ul class="simple">
<li>Python 2.6 sẽ hỗ trợ <em>chế độ cảnh báo Py3k</em> và sẽ cảnh báo khi chạy những tính năng mà sẽ không còn hoạt động trong Python 3.0, ví dụ như khi nghĩ hàm range() trả về một danh sách.</li>
<li>Python 2.6 sẽ có những chức năng từ Py3k, kích hoạt bằng <tt class="docutils literal">__future__</tt> hoặc sử dụng cả cú pháp mới lẫn cú pháp cũ (nếu cú pháp không hợp lệ trong 2.5).</li>
<li>Cùng với tính tương thích tiến, sẽ có một <a class="reference external" href="http://svn.python.org/view/sandbox/trunk/2to3/">công cụ chuyển đổi mã nguồn</a>. Công cụ này có thể dịch từ-nguồn-tới-nguồn theo chế độ phi ngữ cảnh. Lấy một ví dụ thật đơn giản, nó có thể dịch <tt class="docutils literal">apply(f, args)</tt> thành <tt class="docutils literal"><span class="pre">f(*args)</span></tt>. Tuy nhiên, công cụ này không thể khảo sát dữ liệu hoặc phỏng đoán kiểu cho nên nó chỉ đơn giản giả định rằng <tt class="docutils literal">apply</tt> trong ví dụ này là hàm có sẵn trong phiên bản cũ.</li>
</ul>
</div>
<div class="section" id="viec-chuyen-doi">
<h3>Việc chuyển đổi</h3>
<p>Mô hình phát triển một kế hoạch mà cần hỗ trợ cả 2.6 và 3.0 cùng lúc được khuyến khích như sau:</p>
<ol class="arabic simple">
<li>Bắt đầu bằng hàng loạt các kiểm tra đơn vị (unit test), tốt nhất là bao trùm toàn bộ.</li>
<li>Chuyển kế hoạch qua Python 2.6.</li>
<li>Bật chế độ cảnh báo Py3k.</li>
<li>Kiểm tra và chỉnh sửa cho đến khi không còn cảnh báo.</li>
<li>Dùng công cụ <em>2to3</em> để chuyển mã nguồn này sang cú pháp 3.0. <strong>Không sửa kết quả bằng tay!</strong>.</li>
<li>Kiểm tra mã nguồn đã đổi ở 3.0.</li>
<li>Nếu phát hiện vấn đề thì sửa mã cho phiên bản <strong>2.6</strong> và quay lại bước 3.</li>
<li>Khi cần phát hành, phát hành hai bản 2.6 và 3.0 riêng biệt.</li>
</ol>
<p>Nếu công cụ chuyển đổi và tính tương thích tiến trong Python 2.6 làm việc tốt, các bước từ 2 đến 6 sẽ không cần nhiều hơn những gì cần thiết để chuyển từ Python 2.x lên 2.(x+1).</p>
</div>
</div>
<div class="section" id="tinh-hinh-cua-nhung-tinh-nang-rieng-le">
<h2>Tình hình của những tính năng riêng lẻ</h2>
<p>Có rất nhiều thay đổi để liệt kê hết ra ở đây nên chỉ những tính năng quan trọng, hoặc có mâu thuẫn sẽ được nhắc đến.</p>
<div class="section" id="unicode-codec-va-i-o">
<h3>Unicode, Codec và I/O</h3>
<p>Chúng ta đang chuyển qua mô hình được biết đến ở Java: các chuỗi (bất biến, immutable) là Unicode, và dữ liệu nhị phân được biểu diễn bởi một kiểu <em>byte</em> dữ liệu khả biến (mutable) riêng. Hơn nữa, trình phân tích cú pháp sẽ sử dụng được cả Unicode: bảng mã mặc định của mã nguồn sẽ là UTF-8, các ký tự không nằm trong bảng ASCII có thể được dùng trong tên chỉ định (identifier). Vẫn còn nhiều vấn đề về chuẩn hóa, một vài ký tự cụ thể, và việc hỗ trợ các ngôn ngữ từ phải qua trái. Dù vậy, bộ thư viện chuẩn sẽ tiếp tục dùng ASCII cho các tên chỉ định và hạn thế các ký tự không ASCII trong ghi chú và các chuỗi trong kiểm tra đơn vị cho các tính năng Unicode và tên tác giả.</p>
<p>Chúng ta dùng <tt class="docutils literal"><span class="pre">&quot;...&quot;</span></tt> hay <tt class="docutils literal"><span class="pre">'...'</span></tt> cho các chuỗi Unicode, và <tt class="docutils literal"><span class="pre">b&quot;...&quot;</span></tt> hay <tt class="docutils literal"><span class="pre">b'...'</span></tt> cho các byte. Ví dụ, <tt class="docutils literal">b'abc'</tt> có nghĩa là tạo một đối tượng byte y như kết quả của <tt class="docutils literal"><span class="pre">bytes([97,</span> 98, 99])</tt>.</p>
<p>Chúng ta sẽ theo một hướng khác với các codec: trong Python 2, các codec có thể nhận Unicode hoặc 8-bit như đầu nhập và xuất, trong Py3k, mã hóa (encoding) luôn luôn là từ một chuỗi Unicode thành một mảng byte, và giải mã (decoding) luôn luôn đi theo chiều ngược lại. Điều này có nghĩa là chúng ta sẽ bỏ một vài codec không tương thích với mô hình ví dụ như <tt class="docutils literal">rot13</tt>, <tt class="docutils literal">base64</tt> và <tt class="docutils literal">bz2</tt> (những chuyển đổi này sẽ vẫn còn được hỗ trợ, chỉ có điều là không phải qua API mã hóa/giải mã).</p>
</div>
<div class="section" id="thu-vien-i-o-moi">
<h3>Thư viện I/O mới</h3>
<p>Sự phân biệt giữa byte và chuỗi dẫn đến một thay đổi nhỏ trong API. Trong thư viện mới, các dòng nhị phân (binary stream) (khi mở tập tin theo <tt class="docutils literal">rb</tt> hoặc <tt class="docutils literal">wb</tt>) và dòng văn bản (text stream) được phân biệt rõ ràng. Các dòng văn bản có một thuộc tính mới, encoding, có thể được thiết lập khi dòng được mở; nếu encoding không được cho biết trước, mặc định của hệ thống sẽ được dùng.</p>
<p>Việc đọc từ dòng nhị phân sẽ trả về mảng byte, trong khi đọc từ dòng văn bản sẽ trả về chuỗi Unicode; và tương tự cho việc viết. Viết một chuỗi văn bản vào dòng nhị phân hoặc viết mảng byte vào dòng văn bản sẽ dẫn đến ngoại lệ (exception).</p>
<p>Mặc dù vẫn còn hàm <tt class="docutils literal">open()</tt>, định nghĩa đầy đủ của thư viện I/O mới được đặt trong môđun <tt class="docutils literal">io</tt>. Môđun này cũng chứa các lớp khác cho các loại dòng khác nhau, một cài đặt mới của <tt class="docutils literal">StringIO</tt>, và một lớp mới <tt class="docutils literal">BytesIO</tt> giống như <tt class="docutils literal">StringIO</tt> nhưng dùng cho dòng nhị phân, để đọc và viết mảng byte.&lt;/p&gt;</p>
</div>
<div class="section" id="in-an-va-dinh-dang">
<h3>In ấn và định dạng</h3>
<p>Hai chức năng I/O khác: lệnh <tt class="docutils literal">print</tt> trở thành hàm <tt class="docutils literal">print()</tt>, và phép định dạng chuỗi <tt class="docutils literal">%</tt> sẽ được thay bằng phương thức (method) <tt class="docutils literal">format()</tt> ở các đối tượng chuỗi.</p>
<p>Chuyển <tt class="docutils literal">print</tt> thành một hàm sẽ làm nhiều người suy nghĩ. Tuy nhiên, có một vài điểm tốt ở đây: nó sẽ rất dễ hơn để chuyển từ việc dùng hàm <tt class="docutils literal">print()</tt> thành việc dùng gói <tt class="docutils literal">logging</tt>; và cú pháp <tt class="docutils literal">print</tt> luôn có một ít tranh cãi vì kiểu <tt class="docutils literal">&lt;&lt; file</tt> và ý nghĩa của dấu phẩy cuối cùng.</p>
<p>Tương tự, phương thức <tt class="docutils literal">format()</tt> tránh được một vài điểm xấu của toán tử <tt class="docutils literal">%</tt> cũ, đặc biệt là kết quả bất ngờ của <tt class="docutils literal">&quot;%s&quot; % x</tt> khi x là tuple, và lỗi thường xảy ra khi vô tình bỏ quên <tt class="docutils literal">s</tt> trong <tt class="docutils literal">%(name)s</tt>. Các chuỗi định dạng mới sử dụng <tt class="docutils literal">{0}</tt>, <tt class="docutils literal">{1}</tt>, <tt class="docutils literal">{2}</tt>, ... cho các tham số theo vị trí, và <tt class="docutils literal">{a}</tt>, <tt class="docutils literal">{b}</tt>, ... cho các tham số theo từ khóa. Tính năng khác bao gồm <tt class="docutils literal">{a.b.c}</tt> cho thuộc tính và ngay cả <tt class="docutils literal">{a[b]}</tt> cho dãy hoặc ánh xạ. Độ dài của trường có thể được chỉ định giống như <tt class="docutils literal">{a:8}</tt>; cách viết như vậy cũng hỗ trợ các tùy chọn khác.</p>
<p>Phương thức <tt class="docutils literal">format()</tt> có thể được mở rộng theo nhiều chiều: bằng cách định nghĩa một phương thức <tt class="docutils literal">__format__()</tt> đặc biệt, các kiểu dữ liệu có thể quyết định cách định dạng, cách sử dụng các tham số; bạn cũng có thể tạo các lớp định dạng riêng nhằm để tự động cung cấp biến cục bộ như tham số cho cách định dạng.</p>
</div>
<div class="section" id="cac-thay-doi-ve-lop-va-he-thong-kieu">
<h3>Các thay đổi về lớp và hệ thống kiểu</h3>
<p>Bạn có thể đoán được rằng các lớp cổ điển cuối cùng cũng ra đi. Lớp <tt class="docutils literal">object</tt> sẽ là lớp cơ sở mặc định cho các lớp mới. Điều này tạo chỗ cho những tính năng sau:</p>
<ul>
<li><p class="first">Trang hoàng lớp (Class decorators). Chúng hoạt động như các trang hoàng hàm (function decorators):</p>
<div class="highlight"><pre><span></span><span class="nd">@art_deco</span>
<span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</li>
<li><p class="first">Ký hiệu hàm và phương thức từ nay có thể được “ghi chú” (annotated). Ngôn ngữ gốc sẽ không đặt ý nghĩa vào các ghi chú này (ngoài việc cung cấp chúng cho việc tự xét, introspection), nhưng một vài thư viện chuẩn sẽ làm vậy; ví dụ, hàm tổng quát (generic function) (xem ở dưới) có thể dùng chúng. Cú pháp cũng dễ đọc:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foobar</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">String</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</li>
<li><p class="first">Cú pháp siêu lớp (metaclass) mới. Thay vì đặt một biến <tt class="docutils literal">__metaclass__</tt> trong thân lớp, bây giờ bạn phải chỉ định siêu lớp bằng cách dùng thông số từ khóa trong định nghĩa lớp, ví dụ như:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">bases</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">MyMeta</span><span class="p">):</span>
  <span class="o">...</span>
</pre></div>
</li>
<li><p class="first">Từ điển lớp (class dictionary) riêng. Nếu siêu lớp định nghĩa một phương thức <tt class="docutils literal">__prepare__()</tt>, nó sẽ được gọi trước khi vào thân lớp, và giá trị trả về sẽ được dùng thay cho từ điển chuẩn như là vùng tên (namespace) dùng trong thân lớp. Điểm này có thể được sử dụng để cài đặt kiểu <em>cấu trúc</em> (struct) khi thứ tự các phần tử có vai trò quan trọng.</p>
</li>
<li><p class="first">Bạn có thể chỉ định lớp cơ sở lúc chạy, như:</p>
<div class="highlight"><pre><span></span><span class="n">bases</span> <span class="o">=</span> <span class="p">(</span><span class="n">B1</span><span class="p">,</span> <span class="n">B2</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="o">*</span><span class="n">bases</span><span class="p">):</span>
  <span class="o">...</span>
</pre></div>
</li>
<li><p class="first">Các thông số từ khóa khác cũng được cho phép ở đầu đề lớp; chúng được truyền cho phương thức <tt class="docutils literal">__new__</tt> của siêu lớp.</p>
</li>
<li><p class="first">Bạn có thể định nghĩa lại các kiểm tra <tt class="docutils literal">isinstance()</tt> và <tt class="docutils literal">issubclass()</tt>, bằng cách định nghĩa các phương thức <tt class="docutils literal">__instancecheck__()</tt> và <tt class="docutils literal">__subclasscheck__()</tt> của lớp. Khi chúng được định nghĩa, <tt class="docutils literal">isinstance(x, C)</tt> thành tương tự như <tt class="docutils literal">C.__instancecheck__(x)</tt>, và <tt class="docutils literal">issubclass(D, C)</tt> là <tt class="docutils literal">C.__subclasscheck__(D)</tt>.</p>
</li>
<li><p class="first">Lớp cơ sở trừu tượng tự chọn (Voluntary Abstract Base Classes). Nếu bạn muốn định nghĩa một lớp hoạt động như một ánh xạ chẳng hạn, bạn có thể tự giác kế thừa (voluntarily inherit) từ lớp <tt class="docutils literal">abc.Mapping</tt>. Một mặt, lớp này cung cấp các cách thức có ích thay thế gần hết tính năng của các lớp <tt class="docutils literal">UserDict</tt> và <tt class="docutils literal">DictMixin</tt>. Mặt khác, sử dụng các ABC một cách có hệ thống có thể giúp các khung (framework) lớn thực hiện nhiều việc đúng đắn với ít “phỏng đoán” hơn: trong Python 2 khó mà nói rằng một đối tượng là một dãy, hay là một ánh xạ khi nó định nghĩa phương thức <tt class="docutils literal">__getitem__()</tt>. Các ABC sau được cung cấp cho người dùng: <tt class="docutils literal">Hashable</tt>, <tt class="docutils literal">Iterable</tt>, <tt class="docutils literal">Iterator</tt>, <tt class="docutils literal">Sized</tt>, <tt class="docutils literal">Container</tt>, <tt class="docutils literal">Callable</tt>; <tt class="docutils literal">Set</tt>, <tt class="docutils literal">MutableSet</tt>; <tt class="docutils literal">Mapping</tt>, <tt class="docutils literal">MutableMapping</tt>; <tt class="docutils literal">Sequence</tt>, <tt class="docutils literal">MutableSequence</tt>; <tt class="docutils literal">Number</tt>, <tt class="docutils literal">Complex</tt>, <tt class="docutils literal">Real</tt>, <tt class="docutils literal">Rational</tt>, <tt class="docutils literal">Integer</tt>. Môđun <tt class="docutils literal">io</tt> cũng định nghĩa một số ABC cho nên đây là lần đầu tiên Python có một đặc tả cho khái niệm <em>file-like</em> (như kiểu tập tin) u ám. Sức mạnh của khung ABC nằm ở khả năng (ability) (mượn từ các giao tiếp Zope, Zope interface) <em>đăng ký</em> một lớp cụ thể (concrete class) <tt class="docutils literal">X</tt> như <em>kế thừa ảo từ</em> một ABC <tt class="docutils literal">Y</tt>, trong khi <tt class="docutils literal">X</tt> và <tt class="docutils literal">Y</tt> được viết bởi các tác giả khác nhau và có mặt trong các gói khác nhau. (Để làm rõ, khi dùng kế thừa ảo, cách thức của lớp <tt class="docutils literal">Y</tt> không được cung cấp cho lớp <tt class="docutils literal">X</tt>; hiệu quả duy nhất là <tt class="docutils literal">issubclass(X, Y)</tt> sẽ trả về <tt class="docutils literal">True</tt>.)</p>
</li>
<li><p class="first">Để hỗ trợ việc định nghĩa ABC mà cần các lớp cụ thể thật sự cài đặt đầy đủ giao tiếp, trang hoàng <tt class="docutils literal">&#64;abc.abstractmethod</tt> có thể được dùng để khai báo các phương thức trừu tượng (chỉ dùng trong các lớp mà siêu lớp là, hoặc, kế thừa từ <tt class="docutils literal">abc.ABCMeta</tt>).</p>
</li>
<li><p class="first">Hàm tổng quát (generic functions). Việc thêm vào chức năng này, được trình bày trong PEP 3124, có vẻ chưa rõ lắm, vì PEP này có vẻ đã dậm chân tại chỗ. Hy vọng rằng nó sẽ được tiếp tục. Nó hỗ trợ sự chuyển hàm (function dispatch) dựa vào kiểu của các tham số, thay vì kiểu thông thường chỉ dựa vào lớp của đối tượng đích (target object).</p>
</li>
</ul>
</div>
<div class="section" id="cac-thay-doi-lon-khac">
<h3>Các thay đổi lớn khác</h3>
<p>Chỉ một vài điểm sáng.</p>
<div class="section" id="sua-doi-ve-ngoai-le">
<h4>Sửa đổi về ngoại lệ</h4>
<ul class="simple">
<li>Các ngoại lệ chuỗi (string exception) không còn dùng.</li>
<li>Mọi ngoại lệ phải bắt nguồn từ <tt class="docutils literal">BaseException</tt> và tốt hơn là từ <tt class="docutils literal">Exception</tt>.</li>
<li>Chúng ta sẽ bỏ <tt class="docutils literal">StandardException</tt>.</li>
<li>Ngoại lệ không còn hoạt động như dãy nữa. Thay vào đó chúng có một thuộc tính <tt class="docutils literal">args</tt> chứa tham số được truyền vào hàm khởi tạo (constructor).</li>
<li>Cú pháp <tt class="docutils literal">except E, e:</tt> được đổi thành <tt class="docutils literal">except E as e</tt>. Điều này tránh những lẫn lộn hay gặp như <tt class="docutils literal">except E1, E2:</tt>.</li>
<li>Tên biến đằng sau <tt class="docutils literal">as</tt> trong câu <tt class="docutils literal">except</tt> bị ép xóa thẳng ngay khi thoát khỏi câu <tt class="docutils literal">except</tt>.</li>
<li><tt class="docutils literal">sys.exc_info()</tt> trở nên dư thừa (hoặc có thể biến mất): thay vào đó, <tt class="docutils literal">e.__class__</tt> là kiểu ngoại lệ, và <tt class="docutils literal">e.__traceback__</tt> là vết ngược.</li>
<li>Những thuộc tính tùy chọn như <tt class="docutils literal">__context__</tt> được thiết lập là ngoại lệ <em>trước</em> khi một ngoại lệ xảy ra trong câu <tt class="docutils literal">except</tt> hay <tt class="docutils literal">finally</tt>; <tt class="docutils literal">__cause__</tt> có thể được thiết lập trực tiếp khi nâng ngoại lệ (raise exception) bằng cách dùng <tt class="docutils literal">raise E1 from E2</tt>.</li>
<li>Các biến thể cũ của cú pháp <tt class="docutils literal">raise</tt> như <tt class="docutils literal">raise E, e</tt> và <tt class="docutils literal">raise E, e, tb</tt> biến mất.</li>
</ul>
</div>
<div class="section" id="sua-doi-ve-so-nguyen">
<h4>Sửa đổi về số nguyên</h4>
<ul class="simple">
<li>Sẽ chỉ có một kiểu số nguyên tên là <tt class="docutils literal">int</tt> với cách thức của <tt class="docutils literal">long</tt> trong Python 2. Hậu tố <tt class="docutils literal">L</tt> biến mất.</li>
<li><tt class="docutils literal">1/2</tt> sẽ trả về 0.5, không phải 0. (Dùng <tt class="docutils literal"><span class="pre">1//2</span></tt> nếu cần điều đó.)</li>
<li>Cú pháp của số bát phân đổi thành <tt class="docutils literal">0o777</tt>, để tránh gây ra khó hiểu cho người mới.</li>
<li>Số nhị phân: <tt class="docutils literal">0b101 == 5</tt>, <tt class="docutils literal">bin(5) == '0b101'</tt>.</li>
</ul>
</div>
<div class="section" id="bo-lap-iterator-hoac-kha-lap-iterable-thay-the-danh-sach-list">
<h4>Bộ lặp (Iterator) hoặc khả lặp (Iterable) thay thế danh sách (List)</h4>
<ul class="simple">
<li><tt class="docutils literal">dict.keys()</tt> và <tt class="docutils literal">dict.items()</tt> trả về tập hợp; <tt class="docutils literal">dict.values()</tt> trả về một cách nhìn khả lập (iterable view). Các phương thức <tt class="docutils literal"><span class="pre">iter*()</span></tt> khác biến mất.</li>
<li><tt class="docutils literal">range()</tt> trả về kiểu đối tượng mà <tt class="docutils literal">xrange()</tt> đã từng làm; <tt class="docutils literal">xrange()</tt> biến mất.</li>
<li><tt class="docutils literal">zip()</tt>, <tt class="docutils literal">map()</tt>, <tt class="docutils literal">filter()</tt> trả về các đối tượng khả lặp (như những hàm tương tự trong <tt class="docutils literal">itertools</tt>).</li>
</ul>
</div>
<div class="section" id="cac-diem-khac">
<h4>Các điểm khác</h4>
<ul class="simple">
<li>So sánh hơn kém (<tt class="docutils literal">&lt;</tt>, <tt class="docutils literal">&lt;=</tt>, <tt class="docutils literal">&gt;</tt>, <tt class="docutils literal">&gt;=</tt>) sẽ nâng <tt class="docutils literal">TypeError</tt> thay vì trả về kết quả bất định. So sánh bằng (<tt class="docutils literal">==</tt>, <tt class="docutils literal">!=</tt>) mặc định sẽ so sánh tính đồng nhất của hai đối tượng (<tt class="docutils literal">is</tt>, <tt class="docutils literal">is not</tt>).</li>
<li>Câu lệnh <tt class="docutils literal">nonlocal</tt> cho phép bạn gán vào các biến ở vòng ngoài (không phải toàn cục) (outer, non-global scope).</li>
<li>Lệnh gọi <tt class="docutils literal">super()</tt> mới: Gọi <tt class="docutils literal">super()</tt> không tham số tương đương với <tt class="docutils literal"><span class="pre">super(&lt;this_class&gt;,</span> &lt;first_arg&gt;)</tt>. <tt class="docutils literal">super()</tt> có thể dùng trong phương thức đối tượng hoặc phương thức của lớp.</li>
<li>Tập hợp: <tt class="docutils literal">{1, 2, 3}</tt> và ngay cả bao hàm tập hợp (set comprehension): <tt class="docutils literal">{x for x in y if P(x)}</tt>. Chú ý rằng tập hợp rỗng là <tt class="docutils literal">set()</tt>, vì <tt class="docutils literal">{}</tt> là một từ điển rỗng!</li>
<li><tt class="docutils literal">reduce()</tt> biến mất (thật ra là chuyển vào <tt class="docutils literal">functools</tt>). Nó cho thấy rằng hầu hết các mã dùng <tt class="docutils literal">reduce()</tt> có thể trở nên dễ đọc hơn khi được viết lại bằng vòng lặp <tt class="docutils literal">for</tt>. (<a class="reference external" href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/148061">Ví dụ</a>.)</li>
<li>lambda vẫn tồn tại.</li>
<li>Cú pháp dấu phẩy ngược (backtick), thường khó đọc, biến mất (thay vào đó dùng <tt class="docutils literal">repr()</tt>), cũng như toán tử <tt class="docutils literal">&lt;&gt;</tt> (thay vào đó nên dùng <tt class="docutils literal">!=</tt>).</li>
<li>Ở mức C, sẽ có một API bộ đệm mới, tốt hơn nhiều và sẽ cung cấp kết nối tốt hơn cho numpy (PEP 3118).</li>
</ul>
</div>
</div>
<div class="section" id="sua-doi-ve-thu-vien">
<h3>Sửa đổi về thư viện</h3>
<p>Guido không muốn nói nhiều về các thay đổi ở thư viện chuẩn vì nó sẽ chỉ được thực hiện khi 3.0a1 ra đời. Vẫn rõ ràng thấy được là chúng ta sẽ bỏ nhiều thứ hết hạn hoặc không còn được hỗ trợ (ví dụ như nhiều môđun chỉ chạy với SGI IRIX), và chúng ta sẽ cố đổi tên các môđun sử dụng TênHoa như <tt class="docutils literal">StringIO</tt> hay <tt class="docutils literal">UserDict</tt>, để tương hợp với chuẩn đặt tên của PEP 8 (yêu cầu tên ngắn, toàn chữ thường cho môđun).</p>
</div>
<div class="section" id="va-cuoi-cung">
<h3>Và cuối cùng</h3>
<p>Guido muốn nhấn mạnh rằng lambda sẽ vẫn tồn tại.</p>
</div>
</div>

  </div>



        </div>

          <div class="col-md-3">
  <div class="well">

    <p><abbr title="2007-06-22T02:02:00+07:00"><i class="fa fa-calendar"></i> Fri 22 June 2007</abbr></p>

      <p><address>
        <i class="fa fa-user"></i> By
          <a href="../../author/nhom-pcnv.html" rel="author">Nhóm PCNV</a>
      </address></p>

    <hr/>

      <p>
              <a href="../../category/bai-viet.html" rel="tag"
                  data-toggle="tooltip" class="label label-info"
                  title="44 articles in this category">Bài viết</a>
            <a href="../../tag/python-3000.html" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">python 3000</a>
      </p>
      <hr/>



  </div>
            
          </div>

      </div>

    </div>

    <!-- TODO: make footer sticky -->
    <footer class="container-fluid">
      <div class="container">
        <div class="row">

            <div class="col-md-2">
            </div>
            <div class="col-md-2">
                <h5>Links</h5>
                <ul class="list-unstyled">
                  <li>  <a href="https://www.python.org/">
      <i class="fa fa-link fa-fw"></i>
    Python.org
  </a></li>
                </ul>
            </div>

          <div class="col-md-2">
            <h5>Browse content by</h5>
            <ul class="list-unstyled">
                <li><a href="../../authors.html"><i class="fa fa-user fa-fw"></i> Authors</a></li>
                <li><a href="../../categories.html"><i class="fa fa-folder fa-fw"></i> Categories</a></li>
                <li><a href="../../archives.html"><i class="fa fa-calendar fa-fw"></i> Dates</a></li>
                <li><a href="../../tags.html"><i class="fa fa-tag fa-fw"></i> Tags</a></li>
            </ul>
          </div>

          <div class="col-md-2">
              <h5>Feeds</h5>
              <ul class="list-unstyled">
                  <li><small><a href="/feeds/all.atom.xml"><i class="fa fa-rss fa-fw"></i> All posts (Atom)</a></small></li>
                  <li><small><a href="/feeds/bai-viet.atom.xml"><i class="fa fa-rss fa-fw"></i> Category: Bài viết (Atom)</a></small></li>
              </ul>
          </div>

        </div>
      </div>

      <h5 class="text-right"><a href="#"><i class="fa fa-arrow-up"></i> Back to top</a></h5>

      <div class="container">
        <div class="row col-md-12 text-muted text-center">
          <p>&copy; 2007-2016 Nhóm PCNV.</p>
          Site generated by <a href="https://getpelican.com"> Pelican</a>.<br/>
          <a href="https://github.com/kdeldycke/plumage"> Plumage</a> theme by <a href="https://kevin.deldycke.com">Kevin Deldycke</a>.
        </div>
      </div>

    </footer>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
    <script src="../../theme/js/jquery.mglass.js"></script>
    <script src="../../theme/js/application.js"></script>

  </body>
</html>